(self.webpackChunkProyectoTours=self.webpackChunkProyectoTours||[]).push([[179],{2011:(jt,Le,G)=>{"use strict";G.d(Le,{Dh:()=>Ae,GT:()=>he,cc:()=>ze,hO:()=>rt,on:()=>re,pX:()=>we,xv:()=>Pe});var u=G(4650),Y=G(9260),z=G(4976);jt=G.hmd(jt);const me=["ngOnDestroy"],we=($e,Ke,Xe,je={})=>new Proxy($e,{get:(Be,We)=>Xe.runOutsideAngular(()=>{var it;if($e[We])return!(null===(it=je?.spy)||void 0===it)&&it.get&&je.spy.get(We,$e[We]),$e[We];if(me.indexOf(We)>-1)return()=>{};const ee=Ke.toPromise().then(ye=>{const ot=ye&&ye[We];return"function"==typeof ot?ot.bind(ye):ot&&ot.then?ot.then(Ht=>Xe.run(()=>Ht)):Xe.run(()=>ot)});return new Proxy(()=>{},{get:(ye,ot)=>ee[ot],apply:(ye,ot,Ht)=>ee.then(dt=>{var Et;const It=dt&&dt(...Ht);return!(null===(Et=je?.spy)||void 0===Et)&&Et.apply&&je.spy.apply(We,Ht,It),It})})})}),he=($e,Ke)=>{Ke.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(je=>{Object.defineProperty($e.prototype,je,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,je))})})};class Ne{constructor(Ke){return Ke}}const Ae=new u.OlP("angularfire2.app.options"),Pe=new u.OlP("angularfire2.app.name");function re($e,Ke,Xe){const Be="object"==typeof Xe&&Xe||{};Be.name=Be.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const it=Y.Z.apps.filter(ee=>ee&&ee.name===Be.name)[0]||Ke.runOutsideAngular(()=>Y.Z.initializeApp($e,Be));try{JSON.stringify($e)!==JSON.stringify(it.options)&&ne("error",`${it.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(it)}const ne=($e,...Ke)=>{(0,u.X6Q)()&&typeof console<"u"&&console[$e](...Ke)},de={provide:Ne,useFactory:re,deps:[Ae,u.R0b,[new u.FiY,Pe]]};let rt=(()=>{class $e{constructor(Xe){Y.Z.registerVersion("angularfire",z.q4.full,"core"),Y.Z.registerVersion("angularfire",z.q4.full,"app-compat"),Y.Z.registerVersion("angular",u.q4F.full,Xe.toString())}static initializeApp(Xe,je){return{ngModule:$e,providers:[{provide:Ae,useValue:Xe},{provide:Pe,useValue:je}]}}}return $e.\u0275fac=function(Xe){return new(Xe||$e)(u.LFG(u.Lbi))},$e.\u0275mod=u.oAB({type:$e}),$e.\u0275inj=u.cJS({providers:[de]}),$e})();function ze($e,Ke,Xe,je,Be){const[,We,it]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===$e)||[];if(We)return function ut($e,Ke){try{return $e.toString()===Ke.toString()}catch{return $e===Ke}}(Be,it)||(Me("error",`${Ke} was already initialized on the ${Xe} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Be,was:it})),We;{const ee=je();return globalThis.\u0275AngularfireInstanceCache.push([$e,ee,Be]),ee}}const Ct=!!jt.hot,Me=($e,...Ke)=>{(0,u.X6Q)()&&typeof console<"u"&&console[$e](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(jt,Le,G)=>{"use strict";G.d(Le,{q4:()=>bc,iC:()=>Bm,HU:()=>uu,vb:()=>Ch,JM:()=>Ec,u3:()=>du});var u=G(4650),Y=G(259),z=G(5861),me=G(6881),we=G(2090),he=G(4859),Ne=G(1877);const Ae=(x,D)=>D.some(N=>x instanceof N);let Pe,re;const rt=new WeakMap,ze=new WeakMap,ut=new WeakMap,Ct=new WeakMap,Me=new WeakMap;let Xe={get(x,D,N){if(x instanceof IDBTransaction){if("done"===D)return ze.get(x);if("objectStoreNames"===D)return x.objectStoreNames||ut.get(x);if("store"===D)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return it(x[D])},set:(x,D,N)=>(x[D]=N,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function We(x){return"function"==typeof x?function Be(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(ee(this),D),it(rt.get(this))}:function(...D){return it(x.apply(ee(this),D))}:function(D,...N){const q=x.call(ee(this),D,...N);return ut.set(q,D.sort?D.sort():[D]),it(q)}}(x):(x instanceof IDBTransaction&&function Ke(x){if(ze.has(x))return;const D=new Promise((N,q)=>{const se=()=>{x.removeEventListener("complete",ce),x.removeEventListener("error",Ie),x.removeEventListener("abort",Ie)},ce=()=>{N(),se()},Ie=()=>{q(x.error||new DOMException("AbortError","AbortError")),se()};x.addEventListener("complete",ce),x.addEventListener("error",Ie),x.addEventListener("abort",Ie)});ze.set(x,D)}(x),Ae(x,function ne(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Xe):x)}function it(x){if(x instanceof IDBRequest)return function $e(x){const D=new Promise((N,q)=>{const se=()=>{x.removeEventListener("success",ce),x.removeEventListener("error",Ie)},ce=()=>{N(it(x.result)),se()},Ie=()=>{q(x.error),se()};x.addEventListener("success",ce),x.addEventListener("error",Ie)});return D.then(N=>{N instanceof IDBCursor&&rt.set(N,x)}).catch(()=>{}),Me.set(D,x),D}(x);if(Ct.has(x))return Ct.get(x);const D=We(x);return D!==x&&(Ct.set(x,D),Me.set(D,x)),D}const ee=x=>Me.get(x),Ht=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Et=new Map;function It(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(Et.get(D))return Et.get(D);const N=D.replace(/FromIndex$/,""),q=D!==N,se=dt.includes(N);if(!(N in(q?IDBIndex:IDBObjectStore).prototype)||!se&&!Ht.includes(N))return;const ce=function(){var Ie=(0,z.Z)(function*(pt,...ct){const Vt=this.transaction(pt,se?"readwrite":"readonly");let an=Vt.store;return q&&(an=an.index(ct.shift())),(yield Promise.all([an[N](...ct),se&&Vt.done]))[0]});return function(ct){return Ie.apply(this,arguments)}}();return Et.set(D,ce),ce}!function je(x){Xe=x(Xe)}(x=>({...x,get:(D,N,q)=>It(D,N)||x.get(D,N,q),has:(D,N)=>!!It(D,N)||x.has(D,N)}));const no="@firebase/installations",Ce="0.6.4",ke=1e4,Ue=`w:${Ce}`,He="FIS_v2",et="https://firebaseinstallations.googleapis.com/v1",Ge=36e5,xt=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Bt(x){return x instanceof we.ZR&&x.code.includes("request-failed")}function pn({projectId:x}){return`${et}/projects/${x}/installations`}function Dn(x){return{token:x.token,requestStatus:2,expiresIn:Gn(x.expiresIn),creationTime:Date.now()}}function Zn(x,D){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,z.Z)(function*(x,D){const q=(yield D.json()).error;return xt.create("request-failed",{requestName:x,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function ui({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function vi(x){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,z.Z)(function*(x){const D=yield x();return D.status>=500&&D.status<600?x():D})).apply(this,arguments)}function Gn(x){return Number(x.replace("s","000"))}function gt(){return(gt=(0,z.Z)(function*({appConfig:x,heartbeatServiceProvider:D},{fid:N}){const q=pn(x),se=ui(x),ce=D.getImmediate({optional:!0});if(ce){const Vt=yield ce.getHeartbeatsHeader();Vt&&se.append("x-firebase-client",Vt)}const pt={method:"POST",headers:se,body:JSON.stringify({fid:N,authVersion:He,appId:x.appId,sdkVersion:Ue})},ct=yield vi(()=>fetch(q,pt));if(ct.ok){const Vt=yield ct.json();return{fid:Vt.fid||N,registrationStatus:2,refreshToken:Vt.refreshToken,authToken:Dn(Vt.authToken)}}throw yield Zn("Create Installation",ct)})).apply(this,arguments)}function ri(x){return new Promise(D=>{setTimeout(D,x)})}const mi=/^[cdef][\w-]{21}$/,Jt="";function si(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const N=function mn(x){return function Cs(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return mi.test(N)?N:Jt}catch{return Jt}}function nn(x){return`${x.appName}!${x.appId}`}const ht=new Map;function Pt(x,D){const N=nn(x);An(N,D),function Sr(x,D){const N=function Li(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=x=>{An(x.data.key,x.data.fid)}),di}();N&&N.postMessage({key:x,fid:D}),function cn(){0===ht.size&&di&&(di.close(),di=null)}()}(N,D)}function An(x,D){const N=ht.get(x);if(N)for(const q of N)q(D)}let di=null;const Qr="firebase-installations-database",gn=1,Lr="firebase-installations-store";let lt=null;function bi(){return lt||(lt=function ye(x,D,{blocked:N,upgrade:q,blocking:se,terminated:ce}={}){const Ie=indexedDB.open(x,D),pt=it(Ie);return q&&Ie.addEventListener("upgradeneeded",ct=>{q(it(Ie.result),ct.oldVersion,ct.newVersion,it(Ie.transaction))}),N&&Ie.addEventListener("blocked",()=>N()),pt.then(ct=>{ce&&ct.addEventListener("close",()=>ce()),se&&ct.addEventListener("versionchange",()=>se())}).catch(()=>{}),pt}(Qr,gn,{upgrade:(x,D)=>{0===D&&x.createObjectStore(Lr)}})),lt}function hi(x,D){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,z.Z)(function*(x,D){const N=nn(x),se=(yield bi()).transaction(Lr,"readwrite"),ce=se.objectStore(Lr),Ie=yield ce.get(N);return yield ce.put(D,N),yield se.done,(!Ie||Ie.fid!==D.fid)&&Pt(x,D.fid),D})).apply(this,arguments)}function wi(x){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,z.Z)(function*(x){const D=nn(x),q=(yield bi()).transaction(Lr,"readwrite");yield q.objectStore(Lr).delete(D),yield q.done})).apply(this,arguments)}function pr(x,D){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,z.Z)(function*(x,D){const N=nn(x),se=(yield bi()).transaction(Lr,"readwrite"),ce=se.objectStore(Lr),Ie=yield ce.get(N),pt=D(Ie);return void 0===pt?yield ce.delete(N):yield ce.put(pt,N),yield se.done,pt&&(!Ie||Ie.fid!==pt.fid)&&Pt(x,pt.fid),pt})).apply(this,arguments)}function te(x){return Q.apply(this,arguments)}function Q(){return Q=(0,z.Z)(function*(x){let D;const N=yield pr(x.appConfig,q=>{const se=function $(x){return Wt(x||{fid:si(),registrationStatus:0})}(q),ce=function W(x,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(xt.create("app-offline"))};const N={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},q=function U(x,D){return oe.apply(this,arguments)}(x,N);return{installationEntry:N,registrationPromise:q}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Re(x)}:{installationEntry:D}}(x,se);return D=ce.registrationPromise,ce.installationEntry});return N.fid===Jt?{installationEntry:yield D}:{installationEntry:N,registrationPromise:D}}),Q.apply(this,arguments)}function oe(){return oe=(0,z.Z)(function*(x,D){try{const N=yield function pi(x,D){return gt.apply(this,arguments)}(x,D);return hi(x.appConfig,N)}catch(N){throw Bt(N)&&409===N.customData.serverCode?yield wi(x.appConfig):yield hi(x.appConfig,{fid:D.fid,registrationStatus:0}),N}}),oe.apply(this,arguments)}function Re(x){return vt.apply(this,arguments)}function vt(){return(vt=(0,z.Z)(function*(x){let D=yield Kt(x.appConfig);for(;1===D.registrationStatus;)yield ri(100),D=yield Kt(x.appConfig);if(0===D.registrationStatus){const{installationEntry:N,registrationPromise:q}=yield te(x);return q||N}return D})).apply(this,arguments)}function Kt(x){return pr(x,D=>{if(!D)throw xt.create("installation-not-found");return Wt(D)})}function Wt(x){return function _n(x){return 1===x.registrationStatus&&x.registrationTime+ke<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Kn(){return(Kn=(0,z.Z)(function*({appConfig:x,heartbeatServiceProvider:D},N){const q=function ln(x,{fid:D}){return`${pn(x)}/${D}/authTokens:generate`}(x,N),se=function ki(x,{refreshToken:D}){const N=ui(x);return N.append("Authorization",function xr(x){return`${He} ${x}`}(D)),N}(x,N),ce=D.getImmediate({optional:!0});if(ce){const Vt=yield ce.getHeartbeatsHeader();Vt&&se.append("x-firebase-client",Vt)}const pt={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:Ue,appId:x.appId}})},ct=yield vi(()=>fetch(q,pt));if(ct.ok)return Dn(yield ct.json());throw yield Zn("Generate Auth Token",ct)})).apply(this,arguments)}function $i(x){return io.apply(this,arguments)}function io(){return io=(0,z.Z)(function*(x,D=!1){let N;const q=yield pr(x.appConfig,ce=>{if(!yn(ce))throw xt.create("not-registered");const Ie=ce.authToken;if(!D&&function zt(x){return 2===x.requestStatus&&!function On(x){const D=Date.now();return D<x.creationTime||x.creationTime+x.expiresIn<D+Ge}(x)}(Ie))return ce;if(1===Ie.requestStatus)return N=function fe(x,D){return ge.apply(this,arguments)}(x,D),ce;{if(!navigator.onLine)throw xt.create("app-offline");const pt=function vn(x){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:D})}(ce);return N=function Ft(x,D){return Xt.apply(this,arguments)}(x,pt),pt}});return N?yield N:q.authToken}),io.apply(this,arguments)}function ge(){return(ge=(0,z.Z)(function*(x,D){let N=yield Ye(x.appConfig);for(;1===N.authToken.requestStatus;)yield ri(100),N=yield Ye(x.appConfig);const q=N.authToken;return 0===q.requestStatus?$i(x,D):q})).apply(this,arguments)}function Ye(x){return pr(x,D=>{if(!yn(D))throw xt.create("not-registered");return function er(x){return 1===x.requestStatus&&x.requestTime+ke<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Xt(){return Xt=(0,z.Z)(function*(x,D){try{const N=yield function Yt(x,D){return Kn.apply(this,arguments)}(x,D),q=Object.assign(Object.assign({},D),{authToken:N});return yield hi(x.appConfig,q),N}catch(N){if(!Bt(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const q=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield hi(x.appConfig,q)}else yield wi(x.appConfig);throw N}}),Xt.apply(this,arguments)}function yn(x){return void 0!==x&&2===x.registrationStatus}function Gl(){return(Gl=(0,z.Z)(function*(x){const D=x,{installationEntry:N,registrationPromise:q}=yield te(D);return q?q.catch(console.error):$i(D).catch(console.error),N.fid})).apply(this,arguments)}function Co(){return Co=(0,z.Z)(function*(x,D=!1){const N=x;return yield function Wi(x){return mt.apply(this,arguments)}(N),(yield $i(N,D)).token}),Co.apply(this,arguments)}function mt(){return(mt=(0,z.Z)(function*(x){const{registrationPromise:D}=yield te(x);D&&(yield D)})).apply(this,arguments)}function mr(x){return xt.create("missing-app-config-values",{valueName:x})}const dn="installations",hs=x=>{const D=x.getProvider("app").getImmediate(),N=function Xa(x){if(!x||!x.options)throw mr("App Configuration");if(!x.name)throw mr("App Name");const D=["projectId","apiKey","appId"];for(const N of D)if(!x.options[N])throw mr(N);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(D);return{app:D,appConfig:N,heartbeatServiceProvider:(0,me._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ja=x=>{const D=x.getProvider("app").getImmediate(),N=(0,me._getProvider)(D,dn).getImmediate();return{getId:()=>function Ln(x){return Gl.apply(this,arguments)}(N),getToken:se=>function Kd(x){return Co.apply(this,arguments)}(N,se)}};(function so(){(0,me._registerComponent)(new he.wA(dn,hs,"PUBLIC")),(0,me._registerComponent)(new he.wA("installations-internal",Ja,"PRIVATE"))})(),(0,me.registerVersion)(no,Ce),(0,me.registerVersion)(no,Ce,"esm2017");const ai="@firebase/remote-config",gr=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kf{constructor(D,N,q,se){this.client=D,this.storage=N,this.storageCache=q,this.logger=se}isCachedDataFresh(D,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-N,se=q<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${se}.`),se}fetch(D){var N=this;return(0,z.Z)(function*(){const[q,se]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(se&&N.isCachedDataFresh(D.cacheMaxAgeMillis,q))return se;D.eTag=se&&se.eTag;const ce=yield N.client.fetch(D),Ie=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Ie.push(N.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Ie),ce})()}}function Fu(x=navigator){return x.languages&&x.languages[0]||x.language}class Lu{constructor(D,N,q,se,ce,Ie){this.firebaseInstallations=D,this.sdkVersion=N,this.namespace=q,this.projectId=se,this.apiKey=ce,this.appId=Ie}fetch(D){var N=this;return(0,z.Z)(function*(){const[q,se]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ct={sdk_version:N.sdkVersion,app_instance_id:q,app_instance_id_token:se,app_id:N.appId,language_code:Fu()},Vt={method:"POST",headers:pt,body:JSON.stringify(ct)},an=fetch(Ie,Vt),sn=new Promise((Pr,ns)=>{D.signal.addEventListener(()=>{const Al=new Error("The operation was aborted.");Al.name="AbortError",ns(Al)})});let jr;try{yield Promise.race([an,sn]),jr=yield an}catch(Pr){let ns="fetch-client-network";throw"AbortError"===Pr?.name&&(ns="fetch-timeout"),gr.create(ns,{originalErrorMessage:Pr?.message})}let kr=jr.status;const Dl=jr.headers.get("ETag")||void 0;let Sh,Na;if(200===jr.status){let Pr;try{Pr=yield jr.json()}catch(ns){throw gr.create("fetch-client-parse",{originalErrorMessage:ns?.message})}Sh=Pr.entries,Na=Pr.state}if("INSTANCE_STATE_UNSPECIFIED"===Na?kr=500:"NO_CHANGE"===Na?kr=304:("NO_TEMPLATE"===Na||"EMPTY_CONFIG"===Na)&&(Sh={}),304!==kr&&200!==kr)throw gr.create("fetch-status",{httpStatus:kr});return{status:kr,eTag:Dl,config:Sh}})()}}class Vu{constructor(D,N){this.client=D,this.storage=N}fetch(D){var N=this;return(0,z.Z)(function*(){const q=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(D,q)})()}attemptFetch(D,{throttleEndTimeMillis:N,backoffCount:q}){var se=this;return(0,z.Z)(function*(){yield function Bu(x,D){return new Promise((N,q)=>{const se=Math.max(D-Date.now(),0),ce=setTimeout(N,se);x.addEventListener(()=>{clearTimeout(ce),q(gr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,N);try{const ce=yield se.client.fetch(D);return yield se.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Yd(x){if(!(x instanceof we.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ce))throw ce;const Ie={throttleEndTimeMillis:Date.now()+(0,we.$s)(q),backoffCount:q+1};return yield se.storage.setThrottleMetadata(Ie),se.attemptFetch(D,Ie)}})()}}class va{constructor(D,N,q,se,ce){this.app=D,this._client=N,this._storageCache=q,this._storage=se,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Do(x,D){const N=x.target.error||void 0;return gr.create(D,{originalErrorMessage:N&&N?.message})}const oo="app_namespace_store";class zu{constructor(D,N,q,se=function Xd(){return new Promise((x,D)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=q=>{D(Do(q,"storage-open"))},N.onsuccess=q=>{x(q.target.result)},N.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(oo,{keyPath:"compositeKey"})}}catch(N){D(gr.create("storage-open",{originalErrorMessage:N?.message}))}})}()){this.appId=D,this.appName=N,this.namespace=q,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var N=this;return(0,z.Z)(function*(){const q=yield N.openDbPromise;return new Promise((se,ce)=>{const pt=q.transaction([oo],"readonly").objectStore(oo),ct=N.createCompositeKey(D);try{const Vt=pt.get(ct);Vt.onerror=an=>{ce(Do(an,"storage-get"))},Vt.onsuccess=an=>{const sn=an.target.result;se(sn?sn.value:void 0)}}catch(Vt){ce(gr.create("storage-get",{originalErrorMessage:Vt?.message}))}})})()}set(D,N){var q=this;return(0,z.Z)(function*(){const se=yield q.openDbPromise;return new Promise((ce,Ie)=>{const ct=se.transaction([oo],"readwrite").objectStore(oo),Vt=q.createCompositeKey(D);try{const an=ct.put({compositeKey:Vt,value:N});an.onerror=sn=>{Ie(Do(sn,"storage-set"))},an.onsuccess=()=>{ce()}}catch(an){Ie(gr.create("storage-set",{originalErrorMessage:an?.message}))}})})()}delete(D){var N=this;return(0,z.Z)(function*(){const q=yield N.openDbPromise;return new Promise((se,ce)=>{const pt=q.transaction([oo],"readwrite").objectStore(oo),ct=N.createCompositeKey(D);try{const Vt=pt.delete(ct);Vt.onerror=an=>{ce(Do(an,"storage-delete"))},Vt.onsuccess=()=>{se()}}catch(Vt){ce(gr.create("storage-delete",{originalErrorMessage:Vt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Bs{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,z.Z)(function*(){const N=D.storage.getLastFetchStatus(),q=D.storage.getLastSuccessfulFetchTimestampMillis(),se=D.storage.getActiveConfig(),ce=yield N;ce&&(D.lastFetchStatus=ce);const Ie=yield q;Ie&&(D.lastSuccessfulFetchTimestampMillis=Ie);const pt=yield se;pt&&(D.activeConfig=pt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Gc(){return rl.apply(this,arguments)}function rl(){return(rl=(0,z.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}!function il(){(0,me._registerComponent)(new he.wA("remote-config",function x(D,{instanceIdentifier:N}){const q=D.getProvider("app").getImmediate(),se=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gr.create("registration-window");if(!(0,we.hl)())throw gr.create("indexed-db-unavailable");const{projectId:ce,apiKey:Ie,appId:pt}=q.options;if(!ce)throw gr.create("registration-project-id");if(!Ie)throw gr.create("registration-api-key");if(!pt)throw gr.create("registration-app-id");const ct=new zu(pt,q.name,N=N||"firebase"),Vt=new Bs(ct),an=new Ne.Yd(ai);an.logLevel=Ne.in.ERROR;const sn=new Lu(se,me.SDK_VERSION,N,ce,Ie,pt),jr=new Vu(sn,ct),kr=new kf(jr,ct,Vt,an),Dl=new va(q,kr,Vt,ct,an);return function Tr(x){const D=(0,we.m9)(x);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Dl),Dl},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(ai,"0.4.4"),(0,me.registerVersion)(ai,"0.4.4","esm2017")}();const Jd=(x,D)=>D.some(N=>x instanceof N);let Ao,ta;const wa=new WeakMap,na=new WeakMap,li=new WeakMap,sl=new WeakMap,Ea=new WeakMap;let ra={get(x,D,N){if(x instanceof IDBTransaction){if("done"===D)return na.get(x);if("objectStoreNames"===D)return x.objectStoreNames||li.get(x);if("store"===D)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return Dr(x[D])},set:(x,D,N)=>(x[D]=N,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function Ql(x){return"function"==typeof x?function eh(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qc(){return ta||(ta=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(Bi(this),D),Dr(wa.get(this))}:function(...D){return Dr(x.apply(Bi(this),D))}:function(D,...N){const q=x.call(Bi(this),D,...N);return li.set(q,D.sort?D.sort():[D]),Dr(q)}}(x):(x instanceof IDBTransaction&&function ia(x){if(na.has(x))return;const D=new Promise((N,q)=>{const se=()=>{x.removeEventListener("complete",ce),x.removeEventListener("error",Ie),x.removeEventListener("abort",Ie)},ce=()=>{N(),se()},Ie=()=>{q(x.error||new DOMException("AbortError","AbortError")),se()};x.addEventListener("complete",ce),x.addEventListener("error",Ie),x.addEventListener("abort",Ie)});na.set(x,D)}(x),Jd(x,function Yl(){return Ao||(Ao=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ra):x)}function Dr(x){if(x instanceof IDBRequest)return function Ri(x){const D=new Promise((N,q)=>{const se=()=>{x.removeEventListener("success",ce),x.removeEventListener("error",Ie)},ce=()=>{N(Dr(x.result)),se()},Ie=()=>{q(x.error),se()};x.addEventListener("success",ce),x.addEventListener("error",Ie)});return D.then(N=>{N instanceof IDBCursor&&wa.set(N,x)}).catch(()=>{}),Ea.set(D,x),D}(x);if(sl.has(x))return sl.get(x);const D=Ql(x);return D!==x&&(sl.set(x,D),Ea.set(D,x)),D}const Bi=x=>Ea.get(x);function ol(x,D,{blocked:N,upgrade:q,blocking:se,terminated:ce}={}){const Ie=indexedDB.open(x,D),pt=Dr(Ie);return q&&Ie.addEventListener("upgradeneeded",ct=>{q(Dr(Ie.result),ct.oldVersion,ct.newVersion,Dr(Ie.transaction))}),N&&Ie.addEventListener("blocked",()=>N()),pt.then(ct=>{ce&&ct.addEventListener("close",()=>ce()),se&&ct.addEventListener("versionchange",()=>se())}).catch(()=>{}),pt}function xs(x,{blocked:D}={}){const N=indexedDB.deleteDatabase(x);return D&&N.addEventListener("blocked",()=>D()),Dr(N).then(()=>{})}const Hu=["get","getKey","getAll","getAllKeys","count"],lo=["put","add","delete","clear"],al=new Map;function Vs(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(al.get(D))return al.get(D);const N=D.replace(/FromIndex$/,""),q=D!==N,se=lo.includes(N);if(!(N in(q?IDBIndex:IDBObjectStore).prototype)||!se&&!Hu.includes(N))return;const ce=function(){var Ie=(0,z.Z)(function*(pt,...ct){const Vt=this.transaction(pt,se?"readwrite":"readonly");let an=Vt.store;return q&&(an=an.index(ct.shift())),(yield Promise.all([an[N](...ct),se&&Vt.done]))[0]});return function(ct){return Ie.apply(this,arguments)}}();return al.set(D,ce),ce}!function tr(x){ra=x(ra)}(x=>({...x,get:(D,N,q)=>Vs(D,N)||x.get(D,N,q),has:(D,N)=>!!Vs(D,N)||x.has(D,N)}));const en="/firebase-messaging-sw.js",Xl="/firebase-cloud-messaging-push-scope",th="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jl="https://fcmregistrations.googleapis.com/v1",ec="google.c.a.c_id",tc="google.c.a.c_l",$u="google.c.a.ts",Wu="google.c.a.e";var Te=(()=>{return(x=Te||(Te={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Te;var x})();function rn(x){const D=new Uint8Array(x);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zc(x){const N=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(N),se=new Uint8Array(q.length);for(let ce=0;ce<q.length;++ce)se[ce]=q.charCodeAt(ce);return se}const ll="fcm_token_details_db",Ci=5,Gu="fcm_token_object_Store";function ms(){return ms=(0,z.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(ll))return null;let D=null;return(yield ol(ll,Ci,{upgrade:(q=(0,z.Z)(function*(se,ce,Ie,pt){var ct;if(ce<2||!se.objectStoreNames.contains(Gu))return;const Vt=pt.objectStore(Gu),an=yield Vt.index("fcmSenderId").get(x);if(yield Vt.clear(),an)if(2===ce){const sn=an;if(!sn.auth||!sn.p256dh||!sn.endpoint)return;D={token:sn.fcmToken,createTime:null!==(ct=sn.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:sn.auth,p256dh:sn.p256dh,endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:"string"==typeof sn.vapidKey?sn.vapidKey:rn(sn.vapidKey)}}}else if(3===ce){const sn=an;D={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:rn(sn.auth),p256dh:rn(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:rn(sn.vapidKey)}}}else if(4===ce){const sn=an;D={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:rn(sn.auth),p256dh:rn(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:rn(sn.vapidKey)}}}}),function(ce,Ie,pt,ct){return q.apply(this,arguments)})})).close(),yield xs(ll),yield xs("fcm_vapid_details_db"),yield xs("undefined"),function cl(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:D}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var q}),ms.apply(this,arguments)}const nc="firebase-messaging-database",Kc=1,Mo="firebase-messaging-store";let xa=null;function nr(){return xa||(xa=ol(nc,Kc,{upgrade:(x,D)=>{0===D&&x.createObjectStore(Mo)}})),xa}function Ar(x){return ko.apply(this,arguments)}function ko(){return ko=(0,z.Z)(function*(x){const D=qu(x),q=yield(yield nr()).transaction(Mo).objectStore(Mo).get(D);if(q)return q;{const se=yield function Ca(x){return ms.apply(this,arguments)}(x.appConfig.senderId);if(se)return yield Ss(x,se),se}}),ko.apply(this,arguments)}function Ss(x,D){return Is.apply(this,arguments)}function Is(){return(Is=(0,z.Z)(function*(x,D){const N=qu(x),se=(yield nr()).transaction(Mo,"readwrite");return yield se.objectStore(Mo).put(D,N),yield se.done,D})).apply(this,arguments)}function co(){return(co=(0,z.Z)(function*(x){const D=qu(x),q=(yield nr()).transaction(Mo,"readwrite");yield q.objectStore(Mo).delete(D),yield q.done})).apply(this,arguments)}function qu({appConfig:x}){return x.appId}const xi=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sa(x,D){return ul.apply(this,arguments)}function ul(){return(ul=(0,z.Z)(function*(x,D){const N=yield dl(x),q=rc(D),se={method:"POST",headers:N,body:JSON.stringify(q)};let ce;try{ce=yield(yield fetch(Qc(x.appConfig),se)).json()}catch(Ie){throw xi.create("token-subscribe-failed",{errorInfo:Ie?.toString()})}if(ce.error)throw xi.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw xi.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function ic(){return(ic=(0,z.Z)(function*(x,D){const N=yield dl(x),q=rc(D.subscriptionOptions),se={method:"PATCH",headers:N,body:JSON.stringify(q)};let ce;try{ce=yield(yield fetch(`${Qc(x.appConfig)}/${D.token}`,se)).json()}catch(Ie){throw xi.create("token-update-failed",{errorInfo:Ie?.toString()})}if(ce.error)throw xi.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw xi.create("token-update-no-token");return ce.token})).apply(this,arguments)}function Ku(x,D){return oa.apply(this,arguments)}function oa(){return(oa=(0,z.Z)(function*(x,D){const q={method:"DELETE",headers:yield dl(x)};try{const ce=yield(yield fetch(`${Qc(x.appConfig)}/${D}`,q)).json();if(ce.error)throw xi.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(se){throw xi.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function Qc({projectId:x}){return`${Jl}/projects/${x}/registrations`}function dl(x){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,z.Z)(function*({appConfig:x,installations:D}){const N=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function rc({p256dh:x,auth:D,endpoint:N,vapidKey:q}){const se={web:{endpoint:N,auth:D,p256dh:x}};return q!==th&&(se.web.applicationPubKey=q),se}const Jc=6048e5;function Yu(){return Yu=(0,z.Z)(function*(x){const D=yield function Of(x,D){return ac.apply(this,arguments)}(x.swRegistration,x.vapidKey),N={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:D.endpoint,auth:rn(D.getKey("auth")),p256dh:rn(D.getKey("p256dh"))},q=yield Ar(x.firebaseDependencies);if(q){if(function hl(x,D){return D.vapidKey===x.vapidKey&&D.endpoint===x.endpoint&&D.auth===x.auth&&D.p256dh===x.p256dh}(q.subscriptionOptions,N))return Date.now()>=q.createTime+Jc?function ei(x,D){return oc.apply(this,arguments)}(x,{token:q.token,createTime:Date.now(),subscriptionOptions:N}):q.token;try{yield Ku(x.firebaseDependencies,q.token)}catch(se){console.warn(se)}return Sa(x.firebaseDependencies,N)}return Sa(x.firebaseDependencies,N)}),Yu.apply(this,arguments)}function Us(){return Us=(0,z.Z)(function*(x){const D=yield Ar(x.firebaseDependencies);D&&(yield Ku(x.firebaseDependencies,D.token),yield function Yc(x){return co.apply(this,arguments)}(x.firebaseDependencies));const N=yield x.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()}),Us.apply(this,arguments)}function oc(){return oc=(0,z.Z)(function*(x,D){try{const N=yield function Zu(x,D){return ic.apply(this,arguments)}(x.firebaseDependencies,D),q=Object.assign(Object.assign({},D),{token:N,createTime:Date.now()});return yield Ss(x.firebaseDependencies,q),N}catch(N){throw yield function _r(x){return Us.apply(this,arguments)}(x),N}}),oc.apply(this,arguments)}function Sa(x,D){return eu.apply(this,arguments)}function eu(){return(eu=(0,z.Z)(function*(x,D){const q={token:yield sa(x,D),createTime:Date.now(),subscriptionOptions:D};return yield Ss(x,q),q.token})).apply(this,arguments)}function ac(){return(ac=(0,z.Z)(function*(x,D){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zc(D)})})).apply(this,arguments)}function lc(x){const D={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function tu(x,D){if(!D.notification)return;x.notification={};const N=D.notification.title;N&&(x.notification.title=N);const q=D.notification.body;q&&(x.notification.body=q);const se=D.notification.image;se&&(x.notification.image=se);const ce=D.notification.icon;ce&&(x.notification.icon=ce)}(D,x),function Qu(x,D){D.data&&(x.data=D.data)}(D,x),function Xu(x,D){var N,q,se,ce,Ie;if(!(D.fcmOptions||null!==(N=D.notification)&&void 0!==N&&N.click_action))return;x.fcmOptions={};const pt=null!==(se=null===(q=D.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==se?se:null===(ce=D.notification)||void 0===ce?void 0:ce.click_action;pt&&(x.fcmOptions.link=pt);const ct=null===(Ie=D.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;ct&&(x.fcmOptions.analyticsLabel=ct)}(D,x),D}function Ia(x,D){const N=[];for(let q=0;q<x.length;q++)N.push(x.charAt(q)),q<D.length&&N.push(D.charAt(q));return N.join("")}function gs(x){return xi.create("missing-app-config-values",{valueName:x})}Ia("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ia("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class T{constructor(D,N,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function fl(x){if(!x||!x.options)throw gs("App Configuration Object");if(!x.name)throw gs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:N}=x;for(const q of D)if(!N[q])throw gs(q);return{appName:x.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:se,installations:N,analyticsProvider:q}}_delete(){return Promise.resolve()}}function M(x){return B.apply(this,arguments)}function B(){return(B=(0,z.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(en,{scope:Xl}),x.swRegistration.update().catch(()=>{})}catch(D){throw xi.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Ve(){return(Ve=(0,z.Z)(function*(x,D){if(!D&&!x.swRegistration&&(yield M(x)),D||!x.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw xi.create("invalid-sw-registration");x.swRegistration=D}})).apply(this,arguments)}function ti(){return(ti=(0,z.Z)(function*(x,D){D?x.vapidKey=D:x.vapidKey||(x.vapidKey=th)})).apply(this,arguments)}function Oi(){return Oi=(0,z.Z)(function*(x,D){if(!navigator)throw xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xi.create("permission-blocked");return yield function Lt(x,D){return ti.apply(this,arguments)}(x,D?.vapidKey),yield function J(x,D){return Ve.apply(this,arguments)}(x,D?.serviceWorkerRegistration),function sc(x){return Yu.apply(this,arguments)}(x)}),Oi.apply(this,arguments)}function js(){return(js=(0,z.Z)(function*(x,D,N){const q=function pl(x){switch(x){case Te.NOTIFICATION_CLICKED:return"notification_open";case Te.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:N[ec],message_name:N[tc],message_time:N[$u],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ml(){return ml=(0,z.Z)(function*(x,D){const N=D.data;if(!N.isFirebaseMessaging)return;x.onMessageHandler&&N.messageType===Te.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(lc(N)):x.onMessageHandler.next(lc(N)));const q=N.data;(function cc(x){return"object"==typeof x&&!!x&&ec in x})(q)&&"1"===q[Wu]&&(yield function aa(x,D,N){return js.apply(this,arguments)}(x,N.messageType,q))}),ml.apply(this,arguments)}const dc="@firebase/messaging",iu=x=>{const D=new T(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function uc(x,D){return ml.apply(this,arguments)}(D,N)),D},nh=x=>{const D=x.getProvider("messaging").getImmediate();return{getToken:q=>function yr(x,D){return Oi.apply(this,arguments)}(D,q)}};function Dm(){return ih.apply(this,arguments)}function ih(){return(ih=(0,z.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ru(){(0,me._registerComponent)(new he.wA("messaging",iu,"PUBLIC")),(0,me._registerComponent)(new he.wA("messaging-internal",nh,"PRIVATE")),(0,me.registerVersion)(dc,"0.12.4"),(0,me.registerVersion)(dc,"0.12.4","esm2017")}();const Ta="analytics",ed="firebase_id",Lf="origin",su=6e4,Bf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",td="https://www.googletagmanager.com/gtag/js",ir=new Ne.Yd("@firebase/analytics"),Si=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Am(x){if(!x.startsWith(td)){const D=Si.create("invalid-gtag-resource",{gtagURL:x});return ir.warn(D.message),""}return x}function Da(x){return Promise.all(x.map(D=>D.catch(N=>N)))}function Aa(){return(Aa=(0,z.Z)(function*(x,D,N,q,se,ce){const Ie=q[se];try{if(Ie)yield D[Ie];else{const ct=(yield Da(N)).find(Vt=>Vt.measurementId===se);ct&&(yield D[ct.appId])}}catch(pt){ir.error(pt)}x("config",se,ce)})).apply(this,arguments)}function gl(){return(gl=(0,z.Z)(function*(x,D,N,q,se){try{let ce=[];if(se&&se.send_to){let Ie=se.send_to;Array.isArray(Ie)||(Ie=[Ie]);const pt=yield Da(N);for(const ct of Ie){const Vt=pt.find(sn=>sn.measurementId===ct),an=Vt&&D[Vt.appId];if(!an){ce=[];break}ce.push(an)}}0===ce.length&&(ce=Object.values(D)),yield Promise.all(ce),x("event",q,se||{})}catch(ce){ir.error(ce)}})).apply(this,arguments)}const id=30,vl=new class Vf{constructor(D={},N=1e3){this.throttleMetadata=D,this.intervalMillis=N}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,N){this.throttleMetadata[D]=N}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function km(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Nn(){return(Nn=(0,z.Z)(function*(x){var D;const{appId:N,apiKey:q}=x,se={method:"GET",headers:km(q)},ce=Bf.replace("{app-id}",N),Ie=yield fetch(ce,se);if(200!==Ie.status&&304!==Ie.status){let pt="";try{const ct=yield Ie.json();null!==(D=ct.error)&&void 0!==D&&D.message&&(pt=ct.error.message)}catch{}throw Si.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:pt})}return Ie.json()})).apply(this,arguments)}function jf(){return(jf=(0,z.Z)(function*(x,D=vl,N){const{appId:q,apiKey:se,measurementId:ce}=x.options;if(!q)throw Si.create("no-app-id");if(!se){if(ce)return{measurementId:ce,appId:q};throw Si.create("no-api-key")}const Ie=D.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pt=new _b;return setTimeout((0,z.Z)(function*(){pt.abort()}),void 0!==N?N:su),uh({appId:q,apiKey:se,measurementId:ce},Ie,pt,D)})).apply(this,arguments)}function uh(x,D,N){return dh.apply(this,arguments)}function dh(){return dh=(0,z.Z)(function*(x,{throttleEndTimeMillis:D,backoffCount:N},q,se=vl){var ce;const{appId:Ie,measurementId:pt}=x;try{yield function Pm(x,D){return new Promise((N,q)=>{const se=Math.max(D-Date.now(),0),ce=setTimeout(N,se);x.addEventListener(()=>{clearTimeout(ce),q(Si.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(q,D)}catch(ct){if(pt)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Ie,measurementId:pt};throw ct}try{const ct=yield function Uf(x){return Nn.apply(this,arguments)}(x);return se.deleteThrottleMetadata(Ie),ct}catch(ct){const Vt=ct;if(!function gb(x){if(!(x instanceof we.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Vt)){if(se.deleteThrottleMetadata(Ie),pt)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${Vt?.message}]`),{appId:Ie,measurementId:pt};throw ct}const an=503===Number(null===(ce=Vt?.customData)||void 0===ce?void 0:ce.httpStatus)?(0,we.$s)(N,se.intervalMillis,id):(0,we.$s)(N,se.intervalMillis),sn={throttleEndTimeMillis:Date.now()+an,backoffCount:N+1};return se.setThrottleMetadata(Ie,sn),ir.debug(`Calling attemptFetch again in ${an} millis`),uh(x,sn,q,se)}}),dh.apply(this,arguments)}class _b{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let bl,ka;function Rm(){return(Rm=(0,z.Z)(function*(x,D,N,q,se){if(se&&se.global)x("event",N,q);else{const ce=yield D;x("event",N,Object.assign(Object.assign({},q),{send_to:ce}))}})).apply(this,arguments)}function ni(){return(ni=(0,z.Z)(function*(){if(!(0,we.hl)())return ir.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(x){return ir.warn(Si.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Pa(){return Pa=(0,z.Z)(function*(x,D,N,q,se,ce,Ie){var pt;const ct=function ch(x){return jf.apply(this,arguments)}(x);ct.then(kr=>{N[kr.measurementId]=kr.appId,x.options.measurementId&&kr.measurementId!==x.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${kr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kr=>ir.error(kr)),D.push(ct);const Vt=function zs(){return ni.apply(this,arguments)}().then(kr=>{if(kr)return q.getId()}),[an,sn]=yield Promise.all([ct,Vt]);(function yl(x){const D=window.document.getElementsByTagName("script");for(const N of Object.values(D))if(N.src&&N.src.includes(td)&&N.src.includes(x))return N;return null})(ce)||function fc(x,D){const N=function nd(x,D){let N;return window.trustedTypes&&(N=window.trustedTypes.createPolicy(x,D)),N}("firebase-js-sdk-policy",{createScriptURL:Am}),q=document.createElement("script"),se=`${td}?l=${x}&id=${D}`;q.src=N?N?.createScriptURL(se):se,q.async=!0,document.head.appendChild(q)}(ce,an.measurementId),ka&&(se("consent","default",ka),function lu(x){ka=x}(void 0)),se("js",new Date);const jr=null!==(pt=Ie?.config)&&void 0!==pt?pt:{};return jr[Lf]="firebase",jr.update=!0,null!=sn&&(jr[ed]=sn),se("config",an.measurementId,jr),bl&&(se("set",bl),function od(x){bl=x}(void 0)),an.measurementId}),Pa.apply(this,arguments)}class ad{constructor(D){this.app=D}_delete(){return delete Ro[this.app.options.appId],Promise.resolve()}}let Ro={},Hf=[];const ph={};let wl,zn,mc="dataLayer",uo="gtag",Rt=!1;function ld(x,D,N){!function El(){const x=[];if((0,we.ru)()&&x.push("This is a browser extension environment."),(0,we.zI)()||x.push("Cookies are not available."),x.length>0){const D=x.map((q,se)=>`(${se+1}) ${q}`).join(" "),N=Si.create("invalid-analytics-context",{errorInfo:D});ir.warn(N.message)}}();const q=x.options.appId;if(!q)throw Si.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Si.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ro[q])throw Si.create("already-exists",{id:q});if(!Rt){!function oh(x){let D=[];Array.isArray(window[x])?D=window[x]:window[x]=D}(mc);const{wrappedGtag:ce,gtagCore:Ie}=function _l(x,D,N,q,se){let ce=function(...Ie){window[q].push(arguments)};return window[se]&&"function"==typeof window[se]&&(ce=window[se]),window[se]=function ou(x,D,N,q){function ce(){return ce=(0,z.Z)(function*(Ie,...pt){try{if("event"===Ie){const[ct,Vt]=pt;yield function Mm(x,D,N,q,se){return gl.apply(this,arguments)}(x,D,N,ct,Vt)}else if("config"===Ie){const[ct,Vt]=pt;yield function ah(x,D,N,q,se,ce){return Aa.apply(this,arguments)}(x,D,N,q,ct,Vt)}else if("consent"===Ie){const[ct]=pt;x("consent","update",ct)}else if("get"===Ie){const[ct,Vt,an]=pt;x("get",ct,Vt,an)}else if("set"===Ie){const[ct]=pt;x("set",ct)}else x(Ie,...pt)}catch(ct){ir.error(ct)}}),ce.apply(this,arguments)}return function se(Ie){return ce.apply(this,arguments)}}(ce,x,D,N),{gtagCore:ce,wrappedGtag:window[se]}}(Ro,Hf,ph,mc,uo);zn=ce,wl=Ie,Rt=!0}return Ro[q]=function Ni(x,D,N,q,se,ce,Ie){return Pa.apply(this,arguments)}(x,Hf,ph,D,wl,mc,N),new ad(x)}function gh(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,z.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const _h="@firebase/analytics";!function No(){(0,me._registerComponent)(new he.wA(Ta,(D,{options:N})=>ld(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,me._registerComponent)(new he.wA("analytics-internal",function x(D){try{const N=D.getProvider(Ta).getImmediate();return{logEvent:(q,se,ce)=>function Nm(x,D,N,q){x=(0,we.m9)(x),function yb(x,D,N,q,se){return Rm.apply(this,arguments)}(zn,Ro[x.app.options.appId],D,N,q).catch(se=>ir.error(se))}(N,q,se,ce)}}catch(N){throw Si.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,me.registerVersion)(_h,"0.10.0"),(0,me.registerVersion)(_h,"0.10.0","esm2017")}();var Fm=G(4408),Sl=G(7565);const Wf=new class yh extends Sl.v{}(class _c extends Fm.o{constructor(D,N){super(D,N),this.scheduler=D,this.work=N}schedule(D,N=0){return N>0?super.schedule(D,N):(this.delay=N,this.state=D,this.scheduler.flush(this),this)}execute(D,N){return N>0||this.closed?super.execute(D,N):this._execute(D,N)}requestAsyncId(D,N,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(D,N,q):(D.flush(this),0)}});var Lm=G(4986),yc=G(9751),vh=G(8505),cu=G(9468),vc=G(5363);const bc=new u.GfV("7.6.1"),bh="__angularfire_symbol__analyticsIsSupportedValue",hd="__angularfire_symbol__analyticsIsSupported",Il="__angularfire_symbol__remoteConfigIsSupportedValue",wh="__angularfire_symbol__remoteConfigIsSupported",Eh="__angularfire_symbol__messagingIsSupportedValue",fd="__angularfire_symbol__messagingIsSupported";function Ec(x,D,N){if(D){if(1===D.length)return D[0];const ce=D.filter(Ie=>Ie.app===N);if(1===ce.length)return ce[0]}return N.container.getProvider(x).getImmediate({optional:!0})}globalThis[hd]||(globalThis[hd]=gh().then(x=>globalThis[bh]=x).catch(()=>globalThis[bh]=!1)),globalThis[fd]||(globalThis[fd]=Dm().then(x=>globalThis[Eh]=x).catch(()=>globalThis[Eh]=!1)),globalThis[wh]||(globalThis[wh]=Gc().then(x=>globalThis[Il]=x).catch(()=>globalThis[Il]=!1));const Ch=(x,D)=>{const N=D?[D]:(0,Y.C6)(),q=[];return N.forEach(se=>{se.container.getProvider(x).instances.forEach(Ie=>{q.includes(Ie)||q.push(Ie)})}),q};function ca(){}class Tl{constructor(D,N=Wf){this.zone=D,this.delegate=N}now(){return this.delegate.now()}schedule(D,N,q){const se=this.zone;return this.delegate.schedule(function(Ie){se.runGuarded(()=>{D.apply(this,[Ie])})},N,q)}}class ho{constructor(D){this.zone=D,this.task=null}call(D,N){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),N.pipe((0,vh.b)({next:q,complete:q,error:q})).subscribe(D).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uu=(()=>{class x{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Tl(Zone.current)),this.insideAngular=N.run(()=>new Tl(Zone.current,Lm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(N){return new(N||x)(u.LFG(u.R0b))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ra(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function ts(x){return Ra().ngZone.run(()=>x())}function Bm(x){return Ra(),function Oa(x){return function(N){return(N=N.lift(new ho(x.ngZone))).pipe((0,cu.R)(x.outsideAngular),(0,vc.Q)(x.insideAngular))}}(Ra())(x)}const ua=(x,D)=>function(){const q=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),ts(()=>x.apply(void 0,q))},du=(x,D)=>function(){let N;const q=arguments;for(let ce=0;ce<arguments.length;ce++)"function"==typeof q[ce]&&(D&&(N||(N=ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)))),q[ce]=ua(q[ce],N));const se=function es(x){return Ra().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,q));if(!D){if(se instanceof yc.y){const ce=Ra();return se.pipe((0,cu.R)(ce.outsideAngular),(0,vc.Q)(ce.insideAngular))}return ts(()=>se)}return se instanceof yc.y?se.pipe(Bm):se instanceof Promise?ts(()=>new Promise((ce,Ie)=>se.then(pt=>ts(()=>ce(pt)),pt=>ts(()=>Ie(pt))))):"function"==typeof se&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),se.apply(this,arguments)}:ts(()=>se)}},1389:(jt,Le,G)=>{"use strict";G.d(Le,{$:()=>en,A:()=>ne,D:()=>ze,I:()=>_i,J:()=>hs,L:()=>Ls,N:()=>pr,P:()=>Ni,Q:()=>zu,R:()=>sd,U:()=>Kl,V:()=>Gc,W:()=>rl,X:()=>ao,Y:()=>Yl,Z:()=>qc,_:()=>Ea,a:()=>Jr,a0:()=>th,a1:()=>ec,a2:()=>Pf,a3:()=>Gu,a4:()=>ms,a5:()=>nc,a6:()=>Mo,a7:()=>nr,a8:()=>ko,a9:()=>Is,aA:()=>ye,aB:()=>hd,aC:()=>wi,aD:()=>Ir,aE:()=>vh,aF:()=>Oo,aG:()=>ud,aH:()=>Bn,aL:()=>Po,aO:()=>Ao,aa:()=>Yc,ab:()=>qu,ac:()=>Rf,ad:()=>Zu,ae:()=>Ku,af:()=>Qc,ai:()=>Jc,aj:()=>Yu,ak:()=>_r,an:()=>eh,ao:()=>tu,aq:()=>ti,ar:()=>dc,as:()=>Ht,at:()=>Wt,au:()=>Re,av:()=>je,aw:()=>sn,ax:()=>fd,ay:()=>_n,az:()=>Be,b:()=>Ju,c:()=>zn,d:()=>ld,e:()=>mh,f:()=>_h,g:()=>yh,h:()=>Fm,i:()=>lh,j:()=>Lm,k:()=>Na,l:()=>au,m:()=>Al,o:()=>rx,p:()=>Ae,r:()=>zf,s:()=>Ma,u:()=>zs});var u=G(5861),Y=G(2090),z=G(6881),me=G(7582),we=G(1877),he=G(4859);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ut=function rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new we.Yd("@firebase/auth");function Xe(E,..._){$e.logLevel<=we.in.ERROR&&$e.error(`Auth (${z.SDK_VERSION}): ${E}`,..._)}function je(E,..._){throw ee(E,..._)}function Be(E,..._){return ee(E,..._)}function We(E,_,v){const S=Object.assign(Object.assign({},ut()),{[_]:v});return new Y.LL("auth","Firebase",S).create(_,{appName:E.name})}function it(E,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&je(E,"argument-error"),We(E,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ee(E,..._){if("string"!=typeof E){const v=_[0],S=[..._.slice(1)];return S[0]&&(S[0].appName=E.name),E._errorFactory.create(v,...S)}return Ct.create(E,..._)}function ye(E,_,...v){if(!E)throw ee(_,...v)}function ot(E){const _="INTERNAL ASSERTION FAILED: "+E;throw Xe(_),new Error(_)}function Ht(E,_){E||ot(_)}function dt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Et(){return"http:"===It()||"https:"===It()}function It(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ke{constructor(_,v){this.shortDelay=_,this.longDelay=v,Ht(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function no(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Et()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(E,_){Ht(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class He{static initialize(_,v,S){this.fetchImpl=_,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ge=new ke(3e4,6e4);function Ze(E,_){return E.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:E.tenantId}):_}function Tt(E,_,v,S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(E,_,v,S,F={}){return xt(E,F,(0,u.Z)(function*(){let H={},ue={};S&&("GET"===_?ue=S:H={body:JSON.stringify(S)});const xe=(0,Y.xO)(Object.assign({key:E.config.apiKey},ue)).slice(1),st=yield E._getAdditionalHeaders();return st["Content-Type"]="application/json",E.languageCode&&(st["X-Firebase-Locale"]=E.languageCode),He.fetch()(Zn(E,E.config.apiHost,v,xe),Object.assign({method:_,headers:st,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function xt(E,_,v){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(E,_,v){E._canInitEmulator=!1;const S=Object.assign(Object.assign({},et),_);try{const F=new Hi(E),H=yield Promise.race([v(),F.promise]);F.clearNetworkTimeout();const ue=yield H.json();if("needConfirmation"in ue)throw ui(E,"account-exists-with-different-credential",ue);if(H.ok&&!("errorMessage"in ue))return ue;{const xe=H.ok?ue.errorMessage:ue.error.message,[st,_t]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw ui(E,"credential-already-in-use",ue);if("EMAIL_EXISTS"===st)throw ui(E,"email-already-in-use",ue);if("USER_DISABLED"===st)throw ui(E,"user-disabled",ue);const $t=S[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(_t)throw We(E,$t,_t);je(E,$t)}}catch(F){if(F instanceof Y.ZR)throw F;je(E,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function pn(E,_,v,S){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(E,_,v,S,F={}){const H=yield Tt(E,_,v,S,F);return"mfaPendingCredential"in H&&je(E,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Zn(E,_,v,S){const F=`${_}${v}?${S}`;return E.config.emulator?Ue(E.config,F):`${E.config.apiScheme}://${F}`}class Hi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(Be(this.auth,"network-request-failed")),Ge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ui(E,_,v){const S={appName:E.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const F=Be(E,_,S);return F.customData._tokenResponse=v,F}function vi(){return(vi=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function gt(E){if(E)try{const _=new Date(Number(E));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function mi(){return(mi=(0,u.Z)(function*(E,_=!1){const v=(0,Y.m9)(E),S=yield v.getIdToken(_),F=si(S);ye(F&&F.exp&&F.auth_time&&F.iat,v.auth,"internal-error");const H="object"==typeof F.firebase?F.firebase:void 0,ue=H?.sign_in_provider;return{claims:F,token:S,authTime:gt(Jt(F.auth_time)),issuedAtTime:gt(Jt(F.iat)),expirationTime:gt(Jt(F.exp)),signInProvider:ue||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function Jt(E){return 1e3*Number(E)}function si(E){const[_,v,S]=E.split(".");if(void 0===_||void 0===v||void 0===S)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,Y.tV)(v);return F?JSON.parse(F):(Xe("Failed to decode base64 JWT payload"),null)}catch(F){return Xe("Caught error parsing JWT payload as JSON",F?.toString()),null}}function nn(E,_){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(E,_,v=!1){if(v)return _;try{return yield _}catch(S){throw S instanceof Y.ZR&&function Pt({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(S)&&E.auth.currentUser===E&&(yield E.auth.signOut()),S}})).apply(this,arguments)}class gi{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const F=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),S)}iteration(){var _=this;return(0,u.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Pi{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=gt(this.lastLoginAt),this.creationTime=gt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(E){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,u.Z)(function*(E){var _;const v=E.auth,S=yield E.getIdToken(),F=yield nn(E,function xr(E,_){return pi.apply(this,arguments)}(v,{idToken:S}));ye(F?.users.length,v,"internal-error");const H=F.users[0];E._notifyReloadListener(H);const ue=null!==(_=H.providerUserInfo)&&void 0!==_&&_.length?function Qr(E){return E.map(_=>{var{providerId:v}=_,S=(0,me._T)(_,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(H.providerUserInfo):[],xe=function cn(E,_){return[...E.filter(S=>!_.some(F=>F.providerId===S.providerId)),..._]}(E.providerData,ue),$t=!!E.isAnonymous&&!(E.email&&H.passwordHash||xe?.length),bn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:xe,metadata:new Pi(H.createdAt,H.lastLoginAt),isAnonymous:$t};Object.assign(E,bn)}),Sr.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(E){const _=(0,Y.m9)(E);yield An(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(E,_){const v=yield xt(E,{},(0,u.Z)(function*(){const S=(0,Y.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:F,apiKey:H}=E.config,ue=Zn(E,F,"/v1/token",`key=${H}`),xe=yield E._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",He.fetch()(ue,{method:"POST",headers:xe,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ye(_.idToken,"internal-error"),ye(typeof _.idToken<"u","internal-error"),ye(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function mn(E){const _=si(E);return ye(_,"internal-error"),ye(typeof _.exp<"u","internal-error"),ye(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var S=this;return(0,u.Z)(function*(){return ye(!S.accessToken||S.refreshToken,_,"user-token-expired"),v||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(_,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var S=this;return(0,u.Z)(function*(){const{accessToken:F,refreshToken:H,expiresIn:ue}=yield function gn(E,_){return Lr.apply(this,arguments)}(_,v);S.updateTokensAndExpiration(F,H,Number(ue))})()}updateTokensAndExpiration(_,v,S){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(_,v){const{refreshToken:S,accessToken:F,expirationTime:H}=v,ue=new lt;return S&&(ye("string"==typeof S,"internal-error",{appName:_}),ue.refreshToken=S),F&&(ye("string"==typeof F,"internal-error",{appName:_}),ue.accessToken=F),H&&(ye("number"==typeof H,"internal-error",{appName:_}),ue.expirationTime=H),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return ot("not implemented")}}function bi(E,_){ye("string"==typeof E||typeof E>"u","internal-error",{appName:_})}class hi{constructor(_){var{uid:v,auth:S,stsTokenManager:F}=_,H=(0,me._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Pi(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,u.Z)(function*(){const S=yield nn(v,v.stsTokenManager.getToken(v.auth,_));return ye(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(_){return function Cs(E){return mi.apply(this,arguments)}(this,_)}reload(){return function di(E){return Li.apply(this,arguments)}(this)}_assign(_){this!==_&&(ye(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new hi(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var S=this;return(0,u.Z)(function*(){let F=!1;_.idToken&&_.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(_),F=!0),v&&(yield An(S)),yield S.auth._persistUserIfCurrent(S),F&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var _=this;return(0,u.Z)(function*(){const v=yield _.getIdToken();return yield nn(_,function ki(E,_){return vi.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var S,F,H,ue,xe,st,_t,$t;const bn=null!==(S=v.displayName)&&void 0!==S?S:void 0,Ds=null!==(F=v.email)&&void 0!==F?F:void 0,Fa=null!==(H=v.phoneNumber)&&void 0!==H?H:void 0,Qf=null!==(ue=v.photoURL)&&void 0!==ue?ue:void 0,sx=null!==(xe=v.tenantId)&&void 0!==xe?xe:void 0,md=null!==(st=v._redirectEventId)&&void 0!==st?st:void 0,Xf=null!==(_t=v.createdAt)&&void 0!==_t?_t:void 0,z_=null!==($t=v.lastLoginAt)&&void 0!==$t?$t:void 0,{uid:Um,emailVerified:Th,isAnonymous:Jf,providerData:Dh,stsTokenManager:fu}=v;ye(Um&&fu,_,"internal-error");const ep=lt.fromJSON(this.name,fu);ye("string"==typeof Um,_,"internal-error"),bi(bn,_.name),bi(Ds,_.name),ye("boolean"==typeof Th,_,"internal-error"),ye("boolean"==typeof Jf,_,"internal-error"),bi(Fa,_.name),bi(Qf,_.name),bi(sx,_.name),bi(md,_.name),bi(Xf,_.name),bi(z_,_.name);const jm=new hi({uid:Um,auth:_,email:Ds,emailVerified:Th,displayName:bn,isAnonymous:Jf,photoURL:Qf,phoneNumber:Fa,tenantId:sx,stsTokenManager:ep,createdAt:Xf,lastLoginAt:z_});return Dh&&Array.isArray(Dh)&&(jm.providerData=Dh.map(zm=>Object.assign({},zm))),md&&(jm._redirectEventId=md),jm}static _fromIdTokenResponse(_,v,S=!1){return(0,u.Z)(function*(){const F=new lt;F.updateFromServerResponse(v);const H=new hi({uid:v.localId,auth:_,stsTokenManager:F,isAnonymous:S});return yield An(H),H})()}}const Ji=new Map;function wi(E){Ht(E instanceof Function,"Expected a class definition");let _=Ji.get(E);return _?(Ht(_ instanceof E,"Instance stored in cache mismatched with class"),_):(_=new E,Ji.set(E,_),_)}const pr=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,S){var F=this;return(0,u.Z)(function*(){F.storage[v]=S})()}_get(v){var S=this;return(0,u.Z)(function*(){const F=S.storage[v];return void 0===F?null:F})()}_remove(v){var S=this;return(0,u.Z)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return E.type="NONE",E})();function Ir(E,_,v){return`firebase:${E}:${_}:${v}`}class te{constructor(_,v,S){this.persistence=_,this.auth=v,this.userKey=S;const{config:F,name:H}=this.auth;this.fullUserKey=Ir(this.userKey,F.apiKey,H),this.fullPersistenceKey=Ir("persistence",F.apiKey,H),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?hi._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,u.Z)(function*(){if(v.persistence===_)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,S="authUser"){return(0,u.Z)(function*(){if(!v.length)return new te(wi(pr),_,S);const F=(yield Promise.all(v.map(function(){var _t=(0,u.Z)(function*($t){if(yield $t._isAvailable())return $t});return function($t){return _t.apply(this,arguments)}}()))).filter(_t=>_t);let H=F[0]||wi(pr);const ue=Ir(S,_.config.apiKey,_.name);let xe=null;for(const _t of v)try{const $t=yield _t._get(ue);if($t){const bn=hi._fromJSON(_,$t);_t!==H&&(xe=bn),H=_t;break}}catch{}const st=F.filter(_t=>_t._shouldAllowMigration);return H._shouldAllowMigration&&st.length?(H=st[0],xe&&(yield H._set(ue,xe.toJSON())),yield Promise.all(v.map(function(){var _t=(0,u.Z)(function*($t){if($t!==H)try{yield $t._remove(ue)}catch{}});return function($t){return _t.apply(this,arguments)}}())),new te(H,_,S)):new te(H,_,S)})()}}function Q(E){const _=E.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(oe(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if($(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vt(_))return"Blackberry";if(Kt(_))return"Webos";if(W(_))return"Safari";if((_.includes("chrome/")||U(_))&&!_.includes("edge/"))return"Chrome";if(Re(_))return"Android";{const S=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function $(E=(0,Y.z$)()){return/firefox\//i.test(E)}function W(E=(0,Y.z$)()){const _=E.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function U(E=(0,Y.z$)()){return/crios\//i.test(E)}function oe(E=(0,Y.z$)()){return/iemobile/i.test(E)}function Re(E=(0,Y.z$)()){return/android/i.test(E)}function vt(E=(0,Y.z$)()){return/blackberry/i.test(E)}function Kt(E=(0,Y.z$)()){return/webos/i.test(E)}function Wt(E=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function _n(E=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function ln(E=(0,Y.z$)()){return Wt(E)||Re(E)||Kt(E)||vt(E)||/windows phone/i.test(E)||oe(E)}function io(E,_=[]){let v;switch(E){case"Browser":v=Q((0,Y.z$)());break;case"Worker":v=`${Q((0,Y.z$)())}-${E}`;break;default:v=E}const S=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${z.SDK_VERSION}/${S}`}function ge(){return(ge=(0,u.Z)(function*(E){return(yield Tt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ye(E,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(E,_){return Tt(E,"GET","/v2/recaptchaConfig",Ze(E,_))})).apply(this,arguments)}function Xt(E){return void 0!==E&&void 0!==E.getResponse}function yn(E){return void 0!==E&&void 0!==E.enterprise}class zt{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function vn(E){return new Promise((_,v)=>{const S=document.createElement("script");S.setAttribute("src",E),S.onload=_,S.onerror=F=>{const H=Be("internal-error");H.customData=F,v(H)},S.type="text/javascript",S.charset="UTF-8",function On(){var E,_;return null!==(_=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==_?_:document}().appendChild(S)})}function er(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Kd="NO_RECAPTCHA";class Co{constructor(_){this.type="recaptcha-enterprise",this.auth=Bn(_)}verify(_="verify",v=!1){var S=this;return(0,u.Z)(function*(){function H(){return H=(0,u.Z)(function*(xe){if(!v){if(null==xe.tenantId&&null!=xe._agentRecaptchaConfig)return xe._agentRecaptchaConfig.siteKey;if(null!=xe.tenantId&&void 0!==xe._tenantRecaptchaConfigs[xe.tenantId])return xe._tenantRecaptchaConfigs[xe.tenantId].siteKey}return new Promise(function(){var st=(0,u.Z)(function*(_t,$t){Ye(xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bn=>{if(void 0!==bn.recaptchaKey){const Ds=new zt(bn);return null==xe.tenantId?xe._agentRecaptchaConfig=Ds:xe._tenantRecaptchaConfigs[xe.tenantId]=Ds,_t(Ds.siteKey)}$t(new Error("recaptcha Enterprise site key undefined"))}).catch(bn=>{$t(bn)})});return function(_t,$t){return st.apply(this,arguments)}}())}),H.apply(this,arguments)}function ue(xe,st,_t){const $t=window.grecaptcha;yn($t)?$t.enterprise.ready(()=>{$t.enterprise.execute(xe,{action:_}).then(bn=>{st(bn)}).catch(()=>{st(Kd)})}):_t(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xe,st)=>{(function F(xe){return H.apply(this,arguments)})(S.auth).then(_t=>{if(!v&&yn(window.grecaptcha))ue(_t,xe,st);else{if(typeof window>"u")return void st(new Error("RecaptchaVerifier is only supported in browser"));vn("https://www.google.com/recaptcha/enterprise.js?render="+_t).then(()=>{ue(_t,xe,st)}).catch($t=>{st($t)})}}).catch(_t=>{st(_t)})})})()}}function Wi(E,_,v){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(E,_,v,S=!1){const F=new Co(E);let H;try{H=yield F.verify(v)}catch{H=yield F.verify(v,!0)}const ue=Object.assign({},_);return Object.assign(ue,S?{captchaResp:H}:{captchaResponse:H}),Object.assign(ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ue})).apply(this,arguments)}class un{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const S=H=>new Promise((ue,xe)=>{try{ue(_(H))}catch(st){xe(st)}});S.onAbort=v,this.queue.push(S);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,u.Z)(function*(){if(v.auth.currentUser===_)return;const S=[];try{for(const F of v.queue)yield F(_),F.onAbort&&S.push(F.onAbort)}catch(F){S.reverse();for(const H of S)try{H()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}class oi{constructor(_,v,S,F){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ro(this),this.idTokenSubscription=new ro(this),this.beforeStateQueue=new un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(_,v){var S=this;return v&&(this._popupRedirectResolver=wi(v)),this._initializationPromise=this.queue((0,u.Z)(function*(){var F,H;if(!S._deleted&&(S.persistenceManager=yield te.create(S,_),!S._deleted)){if(null!==(F=S._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(H=S.currentUser)||void 0===H?void 0:H.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUser(_){var v=this;return(0,u.Z)(function*(){var S;const F=yield v.assertedPersistence.getCurrentUser();let H=F,ue=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const xe=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,st=H?._redirectEventId,_t=yield v.tryRedirectSignIn(_);(!xe||xe===st)&&_t?.user&&(H=_t.user,ue=!0)}if(!H)return v.directlySetCurrentUser(null);if(!H._redirectEventId){if(ue)try{yield v.beforeStateQueue.runMiddleware(H)}catch(xe){H=F,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(xe))}return H?v.reloadAndSetCurrentUserOrClear(H):v.directlySetCurrentUser(null)}return ye(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===H._redirectEventId?v.directlySetCurrentUser(H):v.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(_){var v=this;return(0,u.Z)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,u.Z)(function*(){try{yield An(_)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Ce(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,u.Z)(function*(){const S=_?(0,Y.m9)(_):null;return S&&ye(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(_,v=!1){var S=this;return(0,u.Z)(function*(){if(!S._deleted)return _&&ye(S.tenantId===_.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(_)),S.queue((0,u.Z)(function*(){yield S.directlySetCurrentUser(_),S.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var v=this;return this.queue((0,u.Z)(function*(){yield v.assertedPersistence.setPersistence(wi(_))}))}initializeRecaptchaConfig(){var _=this;return(0,u.Z)(function*(){const v=yield Ye(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),S=new zt(v);null==_.tenantId?_._agentRecaptchaConfig=S:_._tenantRecaptchaConfigs[_.tenantId]=S,S.emailPasswordEnabled&&new Co(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new Y.LL("auth","Firebase",_())}onAuthStateChanged(_,v,S){return this.registerStateListener(this.authStateSubscription,_,v,S)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,S){return this.registerStateListener(this.idTokenSubscription,_,v,S)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var S=this;return(0,u.Z)(function*(){const F=yield S.getOrInitRedirectPersistenceManager(v);return null===_?F.removeCurrentUser():F.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,u.Z)(function*(){if(!v.redirectPersistenceManager){const S=_&&wi(_)||v._popupRedirectResolver;ye(S,v,"argument-error"),v.redirectPersistenceManager=yield te.create(v,[wi(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,u.Z)(function*(){var S,F;return v._isInitialized&&(yield v.queue((0,u.Z)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===_?v._currentUser:(null===(F=v.redirectUser)||void 0===F?void 0:F._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,u.Z)(function*(){if(_===v.currentUser)return v.queue((0,u.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,S,F){if(this._deleted)return()=>{};const H="function"==typeof v?v:v.next.bind(v),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(ue,this,"internal-error"),ue.then(()=>H(this.currentUser)),"function"==typeof v?_.addObserver(v,S,F):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,u.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=io(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var v;const S={"X-Client-Version":_.clientVersion};_.app.options.appId&&(S["X-Firebase-gmpid"]=_.app.options.appId);const F=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();F&&(S["X-Firebase-Client"]=F);const H=yield _._getAppCheckToken();return H&&(S["X-Firebase-AppCheck"]=H),S})()}_getAppCheckToken(){var _=this;return(0,u.Z)(function*(){var v;const S=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Ke(E,..._){$e.logLevel<=we.in.WARN&&$e.warn(`Auth (${z.SDK_VERSION}): ${E}`,..._)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Bn(E){return(0,Y.m9)(E)}class ro{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,Y.ne)(v=>this.observer=v)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _i(E,_,v){const S=Bn(E);ye(S._canInitEmulator,S,"emulator-config-failed"),ye(/^https?:\/\//.test(_),S,"invalid-emulator-scheme");const F=!!v?.disableWarnings,H=Xa(_),{host:ue,port:xe}=function mr(E){const _=Xa(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(_.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(S);if(F){const H=F[1];return{host:H,port:dn(S.substr(H.length+1))}}{const[H,ue]=S.split(":");return{host:H,port:dn(ue)}}}(_);S.config.emulator={url:`${H}//${ue}${null===xe?"":`:${xe}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ue,port:xe,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function ql(){function E(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Xa(E){const _=E.indexOf(":");return _<0?"":E.substr(0,_+1)}function dn(E){if(!E)return null;const _=Number(E);return isNaN(_)?null:_}class hs{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return ot("not implemented")}_getIdTokenResponse(_){return ot("not implemented")}_linkToIdToken(_,v){return ot("not implemented")}_getReauthenticationResolver(_){return ot("not implemented")}}function Ja(E,_){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:resetPassword",Ze(E,_))})).apply(this,arguments)}function ai(E,_){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:update",Ze(E,_))})).apply(this,arguments)}function So(E,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signInWithPassword",Ze(E,_))})).apply(this,arguments)}function qn(E,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:sendOobCode",Ze(E,_))})).apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(E,_){return qn(E,_)})).apply(this,arguments)}function ya(E,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(E,_){return qn(E,_)})).apply(this,arguments)}function Xr(E,_){return qi.apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(E,_){return qn(E,_)})).apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(E,_){return qn(E,_)})).apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signInWithEmailLink",Ze(E,_))})).apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signInWithEmailLink",Ze(E,_))})).apply(this,arguments)}class Vr extends hs{constructor(_,v,S,F=null){super("password",S),this._email=_,this._password=v,this._tenantId=F}static _fromEmailAndPassword(_,v){return new Vr(_,v,"password")}static _fromEmailAndCode(_,v,S=null){return new Vr(_,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,u.Z)(function*(){var S;switch(v.signInMethod){case"password":const F={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=_._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const H=yield Wi(_,F,"signInWithPassword");return So(_,H)}return So(_,F).catch(function(){var H=(0,u.Z)(function*(ue){if("auth/missing-recaptcha-token"===ue.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xe=yield Wi(_,F,"signInWithPassword");return So(_,xe)}return Promise.reject(ue)});return function(ue){return H.apply(this,arguments)}}());case"emailLink":return function ps(E,_){return ea.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:je(_,"internal-error")}})()}_linkToIdToken(_,v){var S=this;return(0,u.Z)(function*(){switch(S.signInMethod){case"password":return ai(_,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Zl(E,_){return tl.apply(this,arguments)}(_,{idToken:v,email:S._email,oobCode:S._password});default:je(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function To(E,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signInWithIdp",Ze(E,_))})).apply(this,arguments)}class Ls extends hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Ls(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):je("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:F}=v,H=(0,me._T)(v,["providerId","signInMethod"]);if(!S||!F)return null;const ue=new Ls(S,F);return ue.idToken=H.idToken||void 0,ue.accessToken=H.accessToken||void 0,ue.secret=H.secret,ue.nonce=H.nonce,ue.pendingToken=H.pendingToken||null,ue}_getIdTokenResponse(_){return To(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,To(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,To(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,Y.xO)(v)}return _}}function Fu(){return(Fu=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:sendVerificationCode",Ze(E,_))})).apply(this,arguments)}function Bu(){return(Bu=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ze(E,_))})).apply(this,arguments)}function Vu(){return(Vu=(0,u.Z)(function*(E,_){const v=yield pn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ze(E,_));if(v.temporaryProof)throw ui(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Uu={USER_NOT_FOUND:"user-not-found"};function va(){return(va=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ze(E,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Uu)})).apply(this,arguments)}class Do extends hs{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Do({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Do({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Lu(E,_){return Bu.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Yd(E,_){return Vu.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function ju(E,_){return va.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:S,verificationCode:F}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:S,code:F}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:S,phoneNumber:F,temporaryProof:H}=_;return S||v||F||H?new Do({verificationId:v,verificationCode:S,phoneNumber:F,temporaryProof:H}):null}}class ba{constructor(_){var v,S,F,H,ue,xe;const st=(0,Y.zd)((0,Y.pd)(_)),_t=null!==(v=st.apiKey)&&void 0!==v?v:null,$t=null!==(S=st.oobCode)&&void 0!==S?S:null,bn=function oo(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=st.mode)&&void 0!==F?F:null);ye(_t&&$t&&bn,"argument-error"),this.apiKey=_t,this.operation=bn,this.code=$t,this.continueUrl=null!==(H=st.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(ue=st.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(xe=st.tenantId)&&void 0!==xe?xe:null}static parseLink(_){const v=function Qd(E){const _=(0,Y.zd)((0,Y.pd)(E)).link,v=_?(0,Y.zd)((0,Y.pd)(_)).deep_link_id:null,S=(0,Y.zd)((0,Y.pd)(E)).deep_link_id;return(S?(0,Y.zd)((0,Y.pd)(S)).link:null)||S||v||_||E}(_);try{return new ba(v)}catch{return null}}}let zu=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,S){return Vr._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const F=ba.parseLink(S);return ye(F,"argument-error"),Vr._fromEmailAndCode(v,F.code,F.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Bs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class il extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ao extends il{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return ye("providerId"in v&&"signInMethod"in v,"argument-error"),Ls._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ye(_.idToken||_.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ao.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ao.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:F,pendingToken:H,nonce:ue,providerId:xe}=_;if(!S&&!F&&!v&&!H||!xe)return null;try{return new ao(xe)._credential({idToken:v,accessToken:S,nonce:ue,pendingToken:H})}catch{return null}}}let Kl=(()=>{class E extends il{constructor(){super("facebook.com")}static credential(v){return Ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Gc=(()=>{class E extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:F}=v;if(!S&&!F)return null;try{return E.credential(S,F)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),rl=(()=>{class E extends il{constructor(){super("github.com")}static credential(v){return Ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Ao extends hs{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return To(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,To(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,To(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:F,pendingToken:H}=v;return S&&F&&H&&S===F?new Ao(S,H):null}static _create(_,v){return new Ao(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yl extends Bs{constructor(_){ye(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Yl.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Yl.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Ao.fromJSON(_);return ye(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:S}=_;if(!v||!S)return null;try{return Ao._create(S,v)}catch{return null}}}let qc=(()=>{class E extends il{constructor(){super("twitter.com")}static credential(v,S){return Ls._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:F}=v;if(!S||!F)return null;try{return E.credential(S,F)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function wa(E,_){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signUp",Ze(E,_))})).apply(this,arguments)}class li{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,S,F=!1){return(0,u.Z)(function*(){const H=yield hi._fromIdTokenResponse(_,S,F),ue=sl(S);return new li({user:H,providerId:ue,_tokenResponse:S,operationType:v})})()}static _forOperation(_,v,S){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(S,!0);const F=sl(S);return new li({user:_,providerId:F,_tokenResponse:S,operationType:v})})()}}function sl(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Ea(E){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(E){var _;const v=Bn(E);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new li({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield wa(v,{returnSecureToken:!0}),F=yield li._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(F.user),F})).apply(this,arguments)}class ia extends Y.ZR{constructor(_,v,S,F){var H;super(v.code,v.message),this.operationType=S,this.user=F,Object.setPrototypeOf(this,ia.prototype),this.customData={appName:_.name,tenantId:null!==(H=_.tenantId)&&void 0!==H?H:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(_,v,S,F){return new ia(_,v,S,F)}}function ra(E,_,v,S){return("reauthenticate"===_?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?ia._fromErrorAndOperation(E,H,_,S):H})}function tr(E){return new Set(E.map(({providerId:_})=>_).filter(_=>!!_))}function eh(E,_){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,u.Z)(function*(E,_){const v=(0,Y.m9)(E);yield ol(!0,v,_);const{providerUserInfo:S}=yield function Fi(E,_){return Gn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),F=tr(S||[]);return v.providerData=v.providerData.filter(H=>F.has(H.providerId)),F.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Ql.apply(this,arguments)}function Dr(E,_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(E,_,v=!1){const S=yield nn(E,_._linkToIdToken(E.auth,yield E.getIdToken()),v);return li._forOperation(E,"link",S)})).apply(this,arguments)}function ol(E,_,v){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(E,_,v){yield An(_);const F=!1===E?"provider-already-linked":"no-such-provider";ye(tr(_.providerData).has(v)===E,_.auth,F)})).apply(this,arguments)}function Hu(E,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(E,_,v=!1){const{auth:S}=E,F="reauthenticate";try{const H=yield nn(E,ra(S,F,_,E),v);ye(H.idToken,S,"internal-error");const ue=si(H.idToken);ye(ue,S,"internal-error");const{sub:xe}=ue;return ye(E.uid===xe,S,"user-mismatch"),li._forOperation(E,F,H)}catch(H){throw"auth/user-not-found"===H?.code&&je(S,"user-mismatch"),H}})).apply(this,arguments)}function al(E,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,u.Z)(function*(E,_,v=!1){const S="signIn",F=yield ra(E,S,_),H=yield li._fromIdTokenResponse(E,S,F);return v||(yield E._updateCurrentUser(H.user)),H})).apply(this,arguments)}function en(E,_){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,u.Z)(function*(E,_){return al(Bn(E),_)})).apply(this,arguments)}function th(E,_){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(E,_){const v=(0,Y.m9)(E);return yield ol(!1,v,_.providerId),Dr(v,_)})).apply(this,arguments)}function ec(E,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(E,_){return Hu((0,Y.m9)(E),_)})).apply(this,arguments)}function Wu(){return(Wu=(0,u.Z)(function*(E,_){return pn(E,"POST","/v1/accounts:signInWithCustomToken",Ze(E,_))})).apply(this,arguments)}function Pf(E,_){return Te.apply(this,arguments)}function Te(){return Te=(0,u.Z)(function*(E,_){const v=Bn(E),S=yield function $u(E,_){return Wu.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),F=yield li._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(F.user),F}),Te.apply(this,arguments)}class rn{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Zc._fromServerResponse(_,v):"totpInfo"in v?ll._fromServerResponse(_,v):je(_,"internal-error")}}class Zc extends rn{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Zc(v)}}class ll extends rn{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new ll(v)}}function Ci(E,_,v){var S;ye((null===(S=v.url)||void 0===S?void 0:S.length)>0,E,"invalid-continue-uri"),ye(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ye(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(ye(v.android.packageName.length>0,E,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Gu(E,_,v){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,u.Z)(function*(E,_,v){var S;const F=Bn(E),H={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=F._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const ue=yield Wi(F,H,"getOobCode",!0);v&&Ci(F,ue,v),yield ya(F,ue)}else v&&Ci(F,H,v),yield ya(F,H).catch(function(){var ue=(0,u.Z)(function*(xe){if("auth/missing-recaptcha-token"!==xe.code)return Promise.reject(xe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const st=yield Wi(F,H,"getOobCode",!0);v&&Ci(F,st,v),yield ya(F,st)}});return function(xe){return ue.apply(this,arguments)}}())}),Ca.apply(this,arguments)}function ms(E,_,v){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(E,_,v){yield Ja((0,Y.m9)(E),{oobCode:_,newPassword:v})})).apply(this,arguments)}function nc(E,_){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,u.Z)(function*(E,_){yield function xo(E,_){return Br.apply(this,arguments)}((0,Y.m9)(E),{oobCode:_})}),Kc.apply(this,arguments)}function Mo(E,_){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(E,_){const v=(0,Y.m9)(E),S=yield Ja(v,{oobCode:_}),F=S.requestType;switch(ye(F,v,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(S.mfaInfo,v,"internal-error");default:ye(S.email,v,"internal-error")}let H=null;return S.mfaInfo&&(H=rn._fromServerResponse(Bn(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:H},operation:F}})).apply(this,arguments)}function nr(E,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(E,_){const{data:v}=yield Mo((0,Y.m9)(E),_);return v.email})).apply(this,arguments)}function ko(E,_,v){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,u.Z)(function*(E,_,v){var S;const F=Bn(E),H={returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"};let ue;if(null!==(S=F._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const _t=yield Wi(F,H,"signUpPassword");ue=wa(F,_t)}else ue=wa(F,H).catch(function(){var _t=(0,u.Z)(function*($t){if("auth/missing-recaptcha-token"===$t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const bn=yield Wi(F,H,"signUpPassword");return wa(F,bn)}return Promise.reject($t)});return function($t){return _t.apply(this,arguments)}}());const xe=yield ue.catch(_t=>Promise.reject(_t)),st=yield li._fromIdTokenResponse(F,"signIn",xe);return yield F._updateCurrentUser(st.user),st}),Ss.apply(this,arguments)}function Is(E,_,v){return en((0,Y.m9)(E),zu.credential(_,v))}function Yc(E,_,v){return co.apply(this,arguments)}function co(){return co=(0,u.Z)(function*(E,_,v){var S;const F=Bn(E),H={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function ue(xe,st){ye(st.handleCodeInApp,F,"argument-error"),st&&Ci(F,xe,st)}if(null!==(S=F._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const xe=yield Wi(F,H,"getOobCode",!0);ue(xe,v),yield Xr(F,xe)}else ue(H,v),yield Xr(F,H).catch(function(){var xe=(0,u.Z)(function*(st){if("auth/missing-recaptcha-token"!==st.code)return Promise.reject(st);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const _t=yield Wi(F,H,"getOobCode",!0);ue(_t,v),yield Xr(F,_t)}});return function(st){return xe.apply(this,arguments)}}())}),co.apply(this,arguments)}function qu(E,_){return"EMAIL_SIGNIN"===ba.parseLink(_)?.operation}function Rf(E,_,v){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E),F=zu.credentialWithLink(_,v||dt());return ye(F._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),en(S,F)})).apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:createAuthUri",Ze(E,_))})).apply(this,arguments)}function Zu(E,_){return ic.apply(this,arguments)}function ic(){return ic=(0,u.Z)(function*(E,_){const S={identifier:_,continueUri:Et()?dt():"http://localhost"},{signinMethods:F}=yield function sa(E,_){return ul.apply(this,arguments)}((0,Y.m9)(E),S);return F||[]}),ic.apply(this,arguments)}function Ku(E,_){return oa.apply(this,arguments)}function oa(){return oa=(0,u.Z)(function*(E,_){const v=(0,Y.m9)(E),F={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};_&&Ci(v.auth,F,_);const{email:H}=yield function Wc(E,_){return el.apply(this,arguments)}(v.auth,F);H!==E.email&&(yield E.reload())}),oa.apply(this,arguments)}function Qc(E,_,v){return dl.apply(this,arguments)}function dl(){return dl=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:_};v&&Ci(S.auth,H,v);const{email:ue}=yield function Nu(E,_){return Tr.apply(this,arguments)}(S.auth,H);ue!==E.email&&(yield E.reload())}),dl.apply(this,arguments)}function rc(){return(rc=(0,u.Z)(function*(E,_){return Tt(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Jc(E,_){return sc.apply(this,arguments)}function sc(){return sc=(0,u.Z)(function*(E,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const S=(0,Y.m9)(E),H={idToken:yield S.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},ue=yield nn(S,function Xc(E,_){return rc.apply(this,arguments)}(S.auth,H));S.displayName=ue.displayName||null,S.photoURL=ue.photoUrl||null;const xe=S.providerData.find(({providerId:st})=>"password"===st);xe&&(xe.displayName=S.displayName,xe.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ue)}),sc.apply(this,arguments)}function Yu(E,_){return Us((0,Y.m9)(E),_,null)}function _r(E,_){return Us((0,Y.m9)(E),null,_)}function Us(E,_,v){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(E,_,v){const{auth:S}=E,H={idToken:yield E.getIdToken(),returnSecureToken:!0};_&&(H.email=_),v&&(H.password=v);const ue=yield nn(E,ai(S,H));yield E._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class Sa{constructor(_,v,S={}){this.isNewUser=_,this.providerId=v,this.profile=S}}class eu extends Sa{constructor(_,v,S,F){super(_,v,S),this.username=F}}class Of extends Sa{constructor(_,v){super(_,"facebook.com",v)}}class ac extends eu{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class hl extends Sa{constructor(_,v){super(_,"google.com",v)}}class lc extends eu{constructor(_,v,S){super(_,"twitter.com",v,S)}}function tu(E){const{user:_,_tokenResponse:v}=E;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function oc(E){var _,v;if(!E)return null;const{providerId:S}=E,F=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},H=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!S&&E?.idToken){const ue=null===(v=null===(_=si(E.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(ue)return new Sa(H,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!S)return null;switch(S){case"facebook.com":return new Of(H,F);case"github.com":return new ac(H,F);case"google.com":return new hl(H,F);case"twitter.com":return new lc(H,F,E.screenName||null);case"custom":case"anonymous":return new Sa(H,null);default:return new Sa(H,S,F)}}(v)}class Ve{constructor(_,v,S){this.type=_,this.credential=v,this.auth=S}static _fromIdtoken(_,v){return new Ve("enroll",_,v)}static _fromMfaPendingCredential(_){return new Ve("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,S;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ve._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(S=_.multiFactorSession)&&void 0!==S&&S.idToken)return Ve._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Lt{constructor(_,v,S){this.session=_,this.hints=v,this.signInResolver=S}static _fromError(_,v){const S=Bn(_),F=v.customData._serverResponse,H=(F.mfaInfo||[]).map(xe=>rn._fromServerResponse(S,xe));ye(F.mfaPendingCredential,S,"internal-error");const ue=Ve._fromMfaPendingCredential(F.mfaPendingCredential);return new Lt(ue,H,function(){var xe=(0,u.Z)(function*(st){const _t=yield st._process(S,ue);delete F.mfaInfo,delete F.mfaPendingCredential;const $t=Object.assign(Object.assign({},F),{idToken:_t.idToken,refreshToken:_t.refreshToken});switch(v.operationType){case"signIn":const bn=yield li._fromIdTokenResponse(S,v.operationType,$t);return yield S._updateCurrentUser(bn.user),bn;case"reauthenticate":return ye(v.user,S,"internal-error"),li._forOperation(v.user,v.operationType,$t);default:je(S,"internal-error")}});return function(st){return xe.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,u.Z)(function*(){return v.signInResolver(_)})()}}function ti(E,_){var v;const S=(0,Y.m9)(E),F=_;return ye(_.customData.operationType,S,"argument-error"),ye(null===(v=F.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),Lt._fromError(S,F)}class uc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>rn._fromServerResponse(_.auth,S)))})}static _fromUser(_){return new uc(_)}getSession(){var _=this;return(0,u.Z)(function*(){return Ve._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,v){var S=this;return(0,u.Z)(function*(){const F=_,H=yield S.getSession(),ue=yield nn(S.user,F._process(S.user.auth,H,v));return yield S.user._updateTokensIfNecessary(ue),S.user.reload()})()}unenroll(_){var v=this;return(0,u.Z)(function*(){const S="string"==typeof _?_:_.uid,F=yield v.user.getIdToken();try{const H=yield nn(v.user,function pl(E,_){return Tt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ze(E,_))}(v.user.auth,{idToken:F,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ue})=>ue!==S),yield v.user._updateTokensIfNecessary(H),yield v.user.reload()}catch(H){throw H}})()}}const ml=new WeakMap;function dc(E){const _=(0,Y.m9)(E);return ml.has(_)||ml.set(_,uc._fromUser(_)),ml.get(_)}const nu="__sak";class iu{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(nu,"1"),this.storage.removeItem(nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ju=(()=>{class E extends iu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nh(){const E=(0,Y.z$)();return W(E)||Wt(E)}()&&function $i(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const F=this.storage.getItem(S),H=this.localCache[S];F!==H&&v(S,H,F)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((xe,st,_t)=>{this.notifyListeners(xe,_t)});const F=v.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(F);if(v.newValue!==xe)null!==v.newValue?this.storage.setItem(F,v.newValue):this.storage.removeItem(F);else if(this.localCache[F]===v.newValue&&!S)return}const H=()=>{const xe=this.storage.getItem(F);!S&&this.localCache[F]===xe||this.notifyListeners(F,xe)},ue=this.storage.getItem(F);!function Kn(){return(0,Y.w1)()&&10===document.documentMode}()||ue===v.newValue||v.newValue===v.oldValue?H():setTimeout(H,10)}notifyListeners(v,S){this.localCache[v]=S;const F=this.listeners[v];if(F)for(const H of Array.from(F))H(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var F=()=>super._set,H=this;return(0,u.Z)(function*(){yield F().call(H,v,S),H.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,F=this;return(0,u.Z)(function*(){const H=yield S().call(F,v);return F.localCache[v]=JSON.stringify(H),H})()}_remove(v){var S=()=>super._remove,F=this;return(0,u.Z)(function*(){yield S().call(F,v),delete F.localCache[v]})()}}return E.type="LOCAL",E})(),Jr=(()=>{class E extends iu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return E.type="SESSION",E})();let sh=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(H=>H.isListeningto(v));if(S)return S;const F=new E(v);return this.receivers.push(F),F}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,u.Z)(function*(){const F=v,{eventId:H,eventType:ue,data:xe}=F.data,st=S.handlersMap[ue];if(!st?.size)return;F.ports[0].postMessage({status:"ack",eventId:H,eventType:ue});const _t=Array.from(st).map(function(){var bn=(0,u.Z)(function*(Ds){return Ds(F.origin,xe)});return function(Ds){return bn.apply(this,arguments)}}()),$t=yield function Nf(E){return Promise.all(E.map(function(){var _=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return _.apply(this,arguments)}}()))}(_t);F.ports[0].postMessage({status:"done",eventId:H,eventType:ue,response:$t})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Po(E="",_=10){let v="";for(let S=0;S<_;S++)v+=Math.floor(10*Math.random());return E+v}class Ff{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,S=50){var F=this;return(0,u.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let ue,xe;return new Promise((st,_t)=>{const $t=Po("",20);H.port1.start();const bn=setTimeout(()=>{_t(new Error("unsupported_event"))},S);xe={messageChannel:H,onMessage(Ds){const Fa=Ds;if(Fa.data.eventId===$t)switch(Fa.data.status){case"ack":clearTimeout(bn),ue=setTimeout(()=>{_t(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),st(Fa.data.response);break;default:clearTimeout(bn),clearTimeout(ue),_t(new Error("invalid_response"))}}},F.handlers.add(xe),H.port1.addEventListener("message",xe.onMessage),F.target.postMessage({eventType:_,eventId:$t,data:v},[H.port2])}).finally(()=>{xe&&F.removeMessageHandler(xe)})})()}}function Vi(){return window}function ed(){return typeof Vi().WorkerGlobalScope<"u"&&"function"==typeof Vi().importScripts}function su(){return(su=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ir="firebaseLocalStorageDb",hc=1,Si="firebaseLocalStorage",Am="fbase_key";class Da{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function nd(E,_){return E.transaction([Si],_?"readwrite":"readonly").objectStore(Si)}function oh(){const E=indexedDB.open(ir,hc);return new Promise((_,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const S=E.result;try{S.createObjectStore(Si,{keyPath:Am})}catch(F){v(F)}}),E.addEventListener("success",(0,u.Z)(function*(){const S=E.result;S.objectStoreNames.contains(Si)?_(S):(S.close(),yield function fc(){const E=indexedDB.deleteDatabase(ir);return new Da(E).toPromise()}(),_(yield oh()))}))})}function ah(E,_,v){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(E,_,v){const S=nd(E,!0).put({[Am]:_,value:v});return new Da(S).toPromise()})).apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(E,_){const v=nd(E,!1).get(_),S=yield new Da(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function ou(E,_){const v=nd(E,!0).delete(_);return new Da(v).toPromise()}const lh=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield oh()),v.db})()}_withRetries(v){var S=this;return(0,u.Z)(function*(){let F=0;for(;;)try{const H=yield S._openDb();return yield v(H)}catch(H){if(F++>3)throw H;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return ed()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=sh._getInstance(function td(){return ed()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,u.Z)(function*(F,H){return{keyProcessed:(yield v._poll()).includes(H.key)}});return function(F,H){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,u.Z)(function*(F,H){return["keyChanged"]});return function(F,H){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var S,F;if(v.activeServiceWorker=yield function Lf(){return su.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ff(v.activeServiceWorker);const H=yield v.sender._send("ping",{},800);H&&null!==(S=H[0])&&void 0!==S&&S.fulfilled&&null!==(F=H[0])&&void 0!==F&&F.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,u.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Bf(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield oh();return yield ah(v,nu,"1"),yield ou(v,nu),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,u.Z)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var F=this;return(0,u.Z)(function*(){return F._withPendingWrite((0,u.Z)(function*(){return yield F._withRetries(H=>ah(H,v,S)),F.localCache[v]=S,F.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,u.Z)(function*(){const F=yield S._withRetries(H=>function Mm(E,_){return gl.apply(this,arguments)}(H,v));return S.localCache[v]=F,F})()}_remove(v){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(F=>ou(F,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const S=yield v._withRetries(ue=>{const xe=nd(ue,!1).getAll();return new Da(xe).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const F=[],H=new Set;for(const{fbase_key:ue,value:xe}of S)H.add(ue),JSON.stringify(v.localCache[ue])!==JSON.stringify(xe)&&(v.notifyListeners(ue,xe),F.push(ue));for(const ue of Object.keys(v.localCache))v.localCache[ue]&&!H.has(ue)&&(v.notifyListeners(ue,null),F.push(ue));return F})()}notifyListeners(v,S){this.localCache[v]=S;const F=this.listeners[v];if(F)for(const H of Array.from(F))H(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),ch=1e12;class jf{constructor(_){this.auth=_,this.counter=ch,this._widgets=new Map}render(_,v){const S=this.counter;return this._widgets.set(S,new uh(_,this.auth.name,v||{})),this.counter++,S}reset(_){var v;const S=_||ch;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(_){var v;return(null===(v=this._widgets.get(_||ch))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,u.Z)(function*(){var S;return null===(S=v._widgets.get(_||ch))||void 0===S||S.execute(),""})()}}class uh{constructor(_,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof _?document.getElementById(_):_;ye(F,"argument-error",{appName:v}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dh(E){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<E;S++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pm=er("rcb"),gb=new ke(3e4,6e4);class bl{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Vi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return ye(function yb(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&Xt(Vi().grecaptcha)?Promise.resolve(Vi().grecaptcha):new Promise((S,F)=>{const H=Vi().setTimeout(()=>{F(Be(_,"network-request-failed"))},gb.get());Vi()[Pm]=()=>{Vi().clearTimeout(H),delete Vi()[Pm];const xe=Vi().grecaptcha;if(!xe||!Xt(xe))return void F(Be(_,"internal-error"));const st=xe.render;xe.render=(_t,$t)=>{const bn=st(_t,$t);return this.counter++,bn},this.hostLanguage=v,S(xe)},vn(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Pm,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(H),F(Be(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Vi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rm{load(_){return(0,u.Z)(function*(){return new jf(_)})()}clearedOneInstance(){}}const rr="recaptcha",rd={theme:"light",type:"image"};class sd{constructor(_,v=Object.assign({},rd),S){this.parameters=v,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bn(S),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof _?document.getElementById(_):_;ye(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rm:new bl,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),S=_.getAssertedRecaptcha();return S.getResponse(v)||new Promise(H=>{const ue=xe=>{xe&&(_.tokenChangeListeners.delete(ue),H(xe))};_.tokenChangeListeners.add(ue),_.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof _)_(v);else if("string"==typeof _){const S=Vi()[_];"function"==typeof S&&S(v)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){ye(Et()&&!ed(),_.auth,"internal-error"),yield function hh(){let E=null;return new Promise(_=>{"complete"!==document.readyState?(E=()=>_(),window.addEventListener("load",E)):_()}).catch(_=>{throw E&&window.removeEventListener("load",E),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function fe(E){return ge.apply(this,arguments)}(_.auth);ye(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ts{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Do._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Ma(E,_,v){return fh.apply(this,arguments)}function fh(){return(fh=(0,u.Z)(function*(E,_,v){const S=Bn(E),F=yield lu(S,_,(0,Y.m9)(v));return new Ts(F,H=>en(S,H))})).apply(this,arguments)}function au(E,_,v){return pc.apply(this,arguments)}function pc(){return(pc=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E);yield ol(!1,S,"phone");const F=yield lu(S.auth,_,(0,Y.m9)(v));return new Ts(F,H=>th(S,H))})).apply(this,arguments)}function zf(E,_,v){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E),F=yield lu(S.auth,_,(0,Y.m9)(v));return new Ts(F,H=>ec(S,H))})).apply(this,arguments)}function lu(E,_,v){return od.apply(this,arguments)}function od(){return od=(0,u.Z)(function*(E,_,v){var S;const F=yield v.verify();try{let H;if(ye("string"==typeof F,E,"argument-error"),ye(v.type===rr,E,"argument-error"),H="string"==typeof _?{phoneNumber:_}:_,"session"in H){const ue=H.session;if("phoneNumber"in H)return ye("enroll"===ue.type,E,"internal-error"),(yield function yr(E,_){return Tt(E,"POST","/v2/accounts/mfaEnrollment:start",Ze(E,_))}(E,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{ye("signin"===ue.type,E,"internal-error");const xe=(null===(S=H.multiFactorHint)||void 0===S?void 0:S.uid)||H.multiFactorUid;return ye(xe,E,"missing-multi-factor-info"),(yield function Vf(E,_){return Tt(E,"POST","/v2/accounts/mfaSignIn:start",Ze(E,_))}(E,{mfaPendingCredential:ue.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield function kf(E,_){return Fu.apply(this,arguments)}(E,{phoneNumber:H.phoneNumber,recaptchaToken:F});return ue}}finally{v._reset()}}),od.apply(this,arguments)}function zs(E,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(E,_){yield Dr((0,Y.m9)(E),_)})).apply(this,arguments)}let Ni=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=Bn(v)}verifyPhoneNumber(v,S){return lu(this.auth,v,(0,Y.m9)(S))}static credential(v,S){return Do._fromVerification(v,S)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:F}=v;return S&&F?Do._fromTokenResponse(S,F):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Pa(E,_){return _?wi(_):(ye(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class ad extends hs{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return To(_,this._buildIdpRequest())}_linkToIdToken(_,v){return To(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return To(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Ro(E){return al(E.auth,new ad(E),E.bypassAuthState)}function Hf(E){const{auth:_,user:v}=E;return ye(v,_,"internal-error"),Hu(v,new ad(E),E.bypassAuthState)}function ph(E){return mc.apply(this,arguments)}function mc(){return(mc=(0,u.Z)(function*(E){const{auth:_,user:v}=E;return ye(v,_,"internal-error"),Dr(v,new ad(E),E.bypassAuthState)})).apply(this,arguments)}class uo{constructor(_,v,S,F,H=!1){this.auth=_,this.resolver=S,this.user=F,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,u.Z)(function*(S,F){_.pendingPromise={resolve:S,reject:F};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(H){_.reject(H)}});return function(S,F){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,u.Z)(function*(){const{urlResponse:S,sessionId:F,postBody:H,tenantId:ue,error:xe,type:st}=_;if(xe)return void v.reject(xe);const _t={auth:v.auth,requestUri:S,sessionId:F,tenantId:ue||void 0,postBody:H||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(st)(_t))}catch($t){v.reject($t)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Ro;case"linkViaPopup":case"linkViaRedirect":return ph;case"reauthViaPopup":case"reauthViaRedirect":return Hf;default:je(this.auth,"internal-error")}}resolve(_){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wl=new ke(2e3,1e4);function zn(E,_,v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(E,_,v){const S=Bn(E);it(E,_,Bs);const F=Pa(S,v);return new cd(S,"signInViaPopup",_,F).executeNotNull()})).apply(this,arguments)}function mh(E,_,v){return El.apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E);it(S.auth,_,Bs);const F=Pa(S.auth,v);return new cd(S.auth,"reauthViaPopup",_,F,S).executeNotNull()})).apply(this,arguments)}function ld(E,_,v){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E);it(S.auth,_,Bs);const F=Pa(S.auth,v);return new cd(S.auth,"linkViaPopup",_,F,S).executeNotNull()})).apply(this,arguments)}let cd=(()=>{class E extends uo{constructor(v,S,F,H,ue){super(v,S,H,ue),this.provider=F,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const S=yield v.execute();return ye(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,u.Z)(function*(){Ht(1===v.filter.length,"Popup operations only handle one event");const S=Po();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(F=>{v.reject(F)}),v.resolver._isIframeWebStorageSupported(v.auth,F=>{F||v.reject(Be(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,F;this.pollId=null!==(F=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,wl.get())};v()}}return E.currentPopupAction=null,E})();const gh="pendingRedirect",Mr=new Map;class Hs extends uo{constructor(_,v,S=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,u.Z)(function*(){let S=Mr.get(v.auth._key());if(!S){try{const H=(yield function Om(E,_){return gc.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;S=()=>Promise.resolve(H)}catch(F){S=()=>Promise.reject(F)}Mr.set(v.auth._key(),S)}return v.bypassAuthState||Mr.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,S=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(S,_);if("unknown"!==_.type){if(_.eventId){const F=yield S.auth._redirectUserForId(_.eventId);if(F)return S.user=F,v().call(S,_);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function gc(){return(gc=(0,u.Z)(function*(E,_){const v=la(_),S=Nm(E);if(!(yield S._isAvailable()))return!1;const F="true"===(yield S._get(v));return yield S._remove(v),F})).apply(this,arguments)}function $f(E,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(E,_){return Nm(E)._set(la(_),"true")})).apply(this,arguments)}function ud(){Mr.clear()}function Oo(E,_){Mr.set(E._key(),_)}function Nm(E){return wi(E._redirectPersistence)}function la(E){return Ir(gh,E.config.apiKey,E.name)}function _h(E,_,v){return function Ur(E,_,v){return No.apply(this,arguments)}(E,_,v)}function No(){return(No=(0,u.Z)(function*(E,_,v){const S=Bn(E);it(E,_,Bs),yield S._initializationPromise;const F=Pa(S,v);return yield $f(F,S),F._openRedirect(S,_,"signInViaRedirect")})).apply(this,arguments)}function Fm(E,_,v){return function _c(E,_,v){return Sl.apply(this,arguments)}(E,_,v)}function Sl(){return(Sl=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E);it(S.auth,_,Bs),yield S.auth._initializationPromise;const F=Pa(S.auth,v);yield $f(F,S.auth);const H=yield vc(S);return F._openRedirect(S.auth,_,"reauthViaRedirect",H)})).apply(this,arguments)}function yh(E,_,v){return function Wf(E,_,v){return dd.apply(this,arguments)}(E,_,v)}function dd(){return(dd=(0,u.Z)(function*(E,_,v){const S=(0,Y.m9)(E);it(S.auth,_,Bs),yield S.auth._initializationPromise;const F=Pa(S.auth,v);yield ol(!1,S,_.providerId),yield $f(F,S.auth);const H=yield vc(S);return F._openRedirect(S.auth,_,"linkViaRedirect",H)})).apply(this,arguments)}function Lm(E,_){return yc.apply(this,arguments)}function yc(){return(yc=(0,u.Z)(function*(E,_){return yield Bn(E)._initializationPromise,vh(E,_,!1)})).apply(this,arguments)}function vh(E,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(E,_,v=!1){const S=Bn(E),F=Pa(S,_),ue=yield new Hs(S,F,v).execute();return ue&&!v&&(delete ue.user._redirectEventId,yield S._persistUserIfCurrent(ue.user),yield S._setRedirectUser(null,_)),ue})).apply(this,arguments)}function vc(E){return bc.apply(this,arguments)}function bc(){return(bc=(0,u.Z)(function*(E){const _=Po(`${E.uid}:::`);return E._redirectEventId=_,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),_})).apply(this,arguments)}class hd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(_,S)&&(v=!0,this.sendToConsumer(_,S),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Eh(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wh(E);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var S;if(_.error&&!wh(_)){const F=(null===(S=_.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(Be(this.auth,F))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const S=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&S}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Il(_))}saveEventToCache(_){this.cachedEventUids.add(Il(_)),this.lastProcessedEventTime=Date.now()}}function Il(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(_=>_).join("-")}function wh({type:E,error:_}){return"unknown"===E&&"auth/no-auth-event"===_?.code}function fd(E){return wc.apply(this,arguments)}function wc(){return(wc=(0,u.Z)(function*(E,_={}){return Tt(E,"GET","/v1/projects",_)})).apply(this,arguments)}const V_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gf=/^https?/;function Ec(){return(Ec=(0,u.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:_}=yield fd(E);for(const v of _)try{if(Ch(v))return}catch{}je(E,"unauthorized-domain")})).apply(this,arguments)}function Ch(E){const _=dt(),{protocol:v,hostname:S}=new URL(_);if(E.startsWith("chrome-extension://")){const ue=new URL(E);return""===ue.hostname&&""===S?"chrome-extension:"===v&&E.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&ue.hostname===S}if(!Gf.test(v))return!1;if(V_.test(E))return S===E;const F=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(S)}const ca=new ke(3e4,6e4);function Tl(){const E=Vi().___jsl;if(E?.H)for(const _ of Object.keys(E.H))if(E.H[_].r=E.H[_].r||[],E.H[_].L=E.H[_].L||[],E.H[_].r=[...E.H[_].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let uu=null;const es=new ke(5e3,15e3),ts="__/auth/iframe",xh="emulator/auth/iframe",vb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oa(E){const _=E.config;ye(_.authDomain,E,"auth-domain-config-required");const v=_.emulator?Ue(_,xh):`https://${E.config.authDomain}/${ts}`,S={apiKey:_.apiKey,appName:E.name,v:z.SDK_VERSION},F=Bm.get(E.config.apiHost);F&&(S.eid=F);const H=E._getFrameworks();return H.length&&(S.fw=H.join(",")),`${v}?${(0,Y.xO)(S).slice(1)}`}function du(){return du=(0,u.Z)(function*(E){const _=yield function Ra(E){return uu=uu||function ho(E){return new Promise((_,v)=>{var S,F,H;function ue(){Tl(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Tl(),v(Be(E,"network-request-failed"))},timeout:ca.get()})}if(null!==(F=null===(S=Vi().gapi)||void 0===S?void 0:S.iframes)&&void 0!==F&&F.Iframe)_(gapi.iframes.getContext());else{if(null===(H=Vi().gapi)||void 0===H||!H.load){const xe=er("iframefcb");return Vi()[xe]=()=>{gapi.load?ue():v(Be(E,"network-request-failed"))},vn(`https://apis.google.com/js/api.js?onload=${xe}`).catch(st=>v(st))}ue()}}).catch(_=>{throw uu=null,_})}(E),uu}(E),v=Vi().gapi;return ye(v,E,"internal-error"),_.open({where:document.body,url:Oa(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vb,dontclear:!0},S=>new Promise(function(){var F=(0,u.Z)(function*(H,ue){yield S.restyle({setHideOnLeave:!1});const xe=Be(E,"network-request-failed"),st=Vi().setTimeout(()=>{ue(xe)},es.get());function _t(){Vi().clearTimeout(st),H(S)}S.ping(_t).then(_t,()=>{ue(xe)})});return function(H,ue){return F.apply(this,arguments)}}()))}),du.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D=500,N=600,q="_blank",se="http://localhost";class ce{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ct="__/auth/handler",Vt="emulator/auth/handler",an=encodeURIComponent("fac");function sn(E,_,v,S,F,H){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(E,_,v,S,F,H){ye(E.config.authDomain,E,"auth-domain-config-required"),ye(E.config.apiKey,E,"invalid-api-key");const ue={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:S,v:z.SDK_VERSION,eventId:F};if(_ instanceof Bs){_.setDefaultLanguage(E.languageCode),ue.providerId=_.providerId||"",(0,Y.xb)(_.getCustomParameters())||(ue.customParameters=JSON.stringify(_.getCustomParameters()));for(const[$t,bn]of Object.entries(H||{}))ue[$t]=bn}if(_ instanceof il){const $t=_.getScopes().filter(bn=>""!==bn);$t.length>0&&(ue.scopes=$t.join(","))}E.tenantId&&(ue.tid=E.tenantId);const xe=ue;for(const $t of Object.keys(xe))void 0===xe[$t]&&delete xe[$t];const st=yield E._getAppCheckToken(),_t=st?`#${an}=${encodeURIComponent(st)}`:"";return`${function kr({config:E}){return E.emulator?Ue(E,Vt):`https://${E.authDomain}/${ct}`}(E)}?${(0,Y.xO)(xe).slice(1)}${_t}`})).apply(this,arguments)}const Dl="webStorageSupport",Na=class Sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=vh,this._overrideRedirectResult=Oo}_openPopup(_,v,S,F){var H=this;return(0,u.Z)(function*(){var ue;Ht(null===(ue=H.eventManagers[_._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const xe=yield sn(_,v,S,dt(),F);return function Ie(E,_,v,S=D,F=N){const H=Math.max((window.screen.availHeight-F)/2,0).toString(),ue=Math.max((window.screen.availWidth-S)/2,0).toString();let xe="";const st=Object.assign(Object.assign({},x),{width:S.toString(),height:F.toString(),top:H,left:ue}),_t=(0,Y.z$)().toLowerCase();v&&(xe=U(_t)?q:v),$(_t)&&(_=_||se,st.scrollbars="yes");const $t=Object.entries(st).reduce((Ds,[Fa,Qf])=>`${Ds}${Fa}=${Qf},`,"");if(function Yt(E=(0,Y.z$)()){var _;return Wt(E)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(_t)&&"_self"!==xe)return function pt(E,_){const v=document.createElement("a");v.href=E,v.target=_;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(_||"",xe),new ce(null);const bn=window.open(_||"",xe,$t);ye(bn,E,"popup-blocked");try{bn.focus()}catch{}return new ce(bn)}(_,xe,Po())})()}_openRedirect(_,v,S,F){var H=this;return(0,u.Z)(function*(){return yield H._originValidation(_),function Ta(E){Vi().location.href=E}(yield sn(_,v,S,dt(),F)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:F,promise:H}=this.eventManagers[v];return F?Promise.resolve(F):(Ht(H,"If manager is not set, promise should be"),H)}const S=this.initAndGetManager(_);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(_){var v=this;return(0,u.Z)(function*(){const S=yield function ua(E){return du.apply(this,arguments)}(_),F=new hd(_);return S.register("authEvent",H=>(ye(H?.authEvent,_,"invalid-auth-event"),{status:F.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:F},v.iframes[_._key()]=S,F})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Dl,{type:Dl},F=>{var H;const ue=null===(H=F?.[0])||void 0===H?void 0:H[Dl];void 0!==ue&&v(!!ue),je(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function qf(E){return Ec.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return ln()||W()||Wt()}};class Pr{constructor(_){this.factorId=_}_process(_,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,S);case"signin":return this._finalizeSignIn(_,v.credential);default:return ot("unexpected MultiFactorSessionType")}}}class ns extends Pr{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ns(_)}_finalizeEnroll(_,v,S){return function Oi(E,_){return Tt(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ze(E,_))}(_,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function vl(E,_){return Tt(E,"POST","/v2/accounts/mfaSignIn:finalize",Ze(E,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Al=(()=>{class E{constructor(){}static assertion(v){return ns._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var Zf="@firebase/auth";class hu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,u.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(S=>{_(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const j_=(0,Y.Pz)("authIdTokenMaxAge")||300;let bb=null;const wb=E=>function(){var _=(0,u.Z)(function*(v){const S=v&&(yield v.getIdTokenResult()),F=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(F&&F>j_)return;const H=S?.token;bb!==H&&(bb=H,yield fetch(E,{method:H?"POST":"DELETE",headers:H?{Authorization:`Bearer ${H}`}:{}}))});return function(v){return _.apply(this,arguments)}}();function rx(E=(0,z.getApp)()){const _=(0,z._getProvider)(E,"auth");if(_.isInitialized())return _.getImmediate();const v=function Gi(E,_){const v=(0,z._getProvider)(E,"auth");if(v.isInitialized()){const F=v.getImmediate(),H=v.getOptions();if((0,Y.vZ)(H,_??{}))return F;je(F,"already-initialized")}return v.initialize({options:_})}(E,{popupRedirectResolver:Na,persistence:[lh,Ju,Jr]}),S=(0,Y.Pz)("authTokenSyncURL");if(S){const H=wb(S);(function Ia(E,_,v){(0,Y.m9)(E).beforeAuthStateChanged(_,v)})(v,H,()=>H(v.currentUser)),function cc(E,_,v,S){(0,Y.m9)(E).onIdTokenChanged(_,v,S)}(v,ue=>H(ue))}const F=(0,Y.q4)("auth");return F&&_i(v,`http://${F}`),v}!function Vm(E){(0,z._registerComponent)(new he.wA("auth",(_,{options:v})=>{const S=_.getProvider("app").getImmediate(),F=_.getProvider("heartbeat"),H=_.getProvider("app-check-internal"),{apiKey:ue,authDomain:xe}=S.options;ye(ue&&!ue.includes(":"),"invalid-api-key",{appName:S.name});const st={apiKey:ue,authDomain:xe,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:io(E)},_t=new oi(S,F,H,st);return function Fs(E,_){const v=_?.persistence||[],S=(Array.isArray(v)?v:[v]).map(wi);_?.errorMap&&E._updateErrorMap(_.errorMap),E._initializeWithPersistence(S,_?.popupRedirectResolver)}(_t,v),_t},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,S)=>{_.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new he.wA("auth-internal",_=>{const v=Bn(_.getProvider("auth").getImmediate());return new hu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(Zf,"0.23.2",function Kf(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,z.registerVersion)(Zf,"0.23.2","esm2017")}("Browser")},2090:(jt,Le,G)=>{"use strict";G.d(Le,{$s:()=>wi,BH:()=>We,DV:()=>Gn,G6:()=>Ue,GJ:()=>vi,L:()=>Pe,LL:()=>Fn,P0:()=>Xe,Pz:()=>Be,Sg:()=>it,UG:()=>ot,UI:()=>pi,US:()=>he,Wl:()=>Dn,Yr:()=>ke,ZB:()=>de,ZR:()=>Tt,aH:()=>je,b$:()=>Et,cI:()=>pn,dS:()=>Qr,eu:()=>et,g5:()=>z,gK:()=>Sr,gQ:()=>mn,h$:()=>Ae,hl:()=>He,hu:()=>Y,jU:()=>Ht,m9:()=>Ir,ne:()=>nn,p$:()=>ne,pd:()=>si,q4:()=>Ke,r3:()=>Fi,ru:()=>dt,tV:()=>re,uI:()=>ye,ug:()=>gn,vZ:()=>gt,w1:()=>no,w9:()=>ki,xO:()=>mi,xb:()=>xr,z$:()=>ee,zI:()=>Ge,zd:()=>Jt});const u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Y=function(te,Q){if(!te)throw z(Q)},z=function(te){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+te)},me=function(te){const Q=[];let $=0;for(let W=0;W<te.length;W++){let U=te.charCodeAt(W);U<128?Q[$++]=U:U<2048?(Q[$++]=U>>6|192,Q[$++]=63&U|128):55296==(64512&U)&&W+1<te.length&&56320==(64512&te.charCodeAt(W+1))?(U=65536+((1023&U)<<10)+(1023&te.charCodeAt(++W)),Q[$++]=U>>18|240,Q[$++]=U>>12&63|128,Q[$++]=U>>6&63|128,Q[$++]=63&U|128):(Q[$++]=U>>12|224,Q[$++]=U>>6&63|128,Q[$++]=63&U|128)}return Q},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,Q){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let U=0;U<te.length;U+=3){const oe=te[U],Re=U+1<te.length,vt=Re?te[U+1]:0,Kt=U+2<te.length,Wt=Kt?te[U+2]:0;let Kn=(15&vt)<<2|Wt>>6,ln=63&Wt;Kt||(ln=64,Re||(Kn=64)),W.push($[oe>>2],$[(3&oe)<<4|vt>>4],$[Kn],$[ln])}return W.join("")},encodeString(te,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(te):this.encodeByteArray(me(te),Q)},decodeString(te,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(te):function(te){const Q=[];let $=0,W=0;for(;$<te.length;){const U=te[$++];if(U<128)Q[W++]=String.fromCharCode(U);else if(U>191&&U<224){const oe=te[$++];Q[W++]=String.fromCharCode((31&U)<<6|63&oe)}else if(U>239&&U<365){const Kt=((7&U)<<18|(63&te[$++])<<12|(63&te[$++])<<6|63&te[$++])-65536;Q[W++]=String.fromCharCode(55296+(Kt>>10)),Q[W++]=String.fromCharCode(56320+(1023&Kt))}else{const oe=te[$++],Re=te[$++];Q[W++]=String.fromCharCode((15&U)<<12|(63&oe)<<6|63&Re)}}return Q.join("")}(this.decodeStringToByteArray(te,Q))},decodeStringToByteArray(te,Q){this.init_();const $=Q?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let U=0;U<te.length;){const oe=$[te.charAt(U++)],vt=U<te.length?$[te.charAt(U)]:0;++U;const Wt=U<te.length?$[te.charAt(U)]:64;++U;const Yt=U<te.length?$[te.charAt(U)]:64;if(++U,null==oe||null==vt||null==Wt||null==Yt)throw new Ne;W.push(oe<<2|vt>>4),64!==Wt&&(W.push(vt<<4&240|Wt>>2),64!==Yt&&W.push(Wt<<6&192|Yt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(te){const Q=me(te);return he.encodeByteArray(Q,!0)},Pe=function(te){return Ae(te).replace(/\./g,"")},re=function(te){try{return he.decodeString(te,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ne(te){return de(void 0,te)}function de(te,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return Q}for(const $ in Q)!Q.hasOwnProperty($)||!rt($)||(te[$]=de(te[$],Q[$]));return te}function rt(te){return"__proto__"!==te}const $e=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=te&&re(te[1]);return Q&&JSON.parse(Q)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Ke=te=>{var Q,$;return null===($=null===(Q=$e())||void 0===Q?void 0:Q.emulatorHosts)||void 0===$?void 0:$[te]},Xe=te=>{const Q=Ke(te);if(!Q)return;const $=Q.lastIndexOf(":");if($<=0||$+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);const W=parseInt(Q.substring($+1),10);return"["===Q[0]?[Q.substring(1,$-1),W]:[Q.substring(0,$),W]},je=()=>{var te;return null===(te=$e())||void 0===te?void 0:te.config},Be=te=>{var Q;return null===(Q=$e())||void 0===Q?void 0:Q[`_${te}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,$)=>{this.resolve=Q,this.reject=$})}wrapCallback(Q){return($,W)=>{$?this.reject($):this.resolve(W),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q($):Q($,W))}}}function it(te,Q){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=Q||"demo-project",U=te.iat||0,oe=te.sub||te.user_id;if(!oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Re=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:U,exp:U+3600,auth_time:U,sub:oe,user_id:oe,firebase:{sign_in_provider:"custom",identities:{}}},te);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(Re)),""].join(".")}function ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function ot(){var te;const Q=null===(te=$e())||void 0===te?void 0:te.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function dt(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function no(){const te=ee();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function ke(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN}function Ue(){return!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"==typeof indexedDB}catch{return!1}}function et(){return new Promise((te,Q)=>{try{let $=!0;const W="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(W);U.onsuccess=()=>{U.result.close(),$||self.indexedDB.deleteDatabase(W),te(!0)},U.onupgradeneeded=()=>{$=!1},U.onerror=()=>{var oe;Q((null===(oe=U.error)||void 0===oe?void 0:oe.message)||"")}}catch($){Q($)}})}function Ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tt extends Error{constructor(Q,$,W){super($),this.code=Q,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}}class Fn{constructor(Q,$,W){this.service=Q,this.serviceName=$,this.errors=W}create(Q,...$){const W=$[0]||{},U=`${this.service}/${Q}`,oe=this.errors[Q],Re=oe?function xt(te,Q){return te.replace(Bt,($,W)=>{const U=Q[W];return null!=U?String(U):`<${W}?>`})}(oe,W):"Error";return new Tt(U,`${this.serviceName}: ${Re} (${U}).`,W)}}const Bt=/\{\$([^}]+)}/g;function pn(te){return JSON.parse(te)}function Dn(te){return JSON.stringify(te)}const Zn=function(te){let Q={},$={},W={},U="";try{const oe=te.split(".");Q=pn(re(oe[0])||""),$=pn(re(oe[1])||""),U=oe[2],W=$.d||{},delete $.d}catch{}return{header:Q,claims:$,data:W,signature:U}},ki=function(te){const $=Zn(te).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},vi=function(te){const Q=Zn(te).claims;return"object"==typeof Q&&!0===Q.admin};function Fi(te,Q){return Object.prototype.hasOwnProperty.call(te,Q)}function Gn(te,Q){if(Object.prototype.hasOwnProperty.call(te,Q))return te[Q]}function xr(te){for(const Q in te)if(Object.prototype.hasOwnProperty.call(te,Q))return!1;return!0}function pi(te,Q,$){const W={};for(const U in te)Object.prototype.hasOwnProperty.call(te,U)&&(W[U]=Q.call($,te[U],U,te));return W}function gt(te,Q){if(te===Q)return!0;const $=Object.keys(te),W=Object.keys(Q);for(const U of $){if(!W.includes(U))return!1;const oe=te[U],Re=Q[U];if(ri(oe)&&ri(Re)){if(!gt(oe,Re))return!1}else if(oe!==Re)return!1}for(const U of W)if(!$.includes(U))return!1;return!0}function ri(te){return null!==te&&"object"==typeof te}function mi(te){const Q=[];for(const[$,W]of Object.entries(te))Array.isArray(W)?W.forEach(U=>{Q.push(encodeURIComponent($)+"="+encodeURIComponent(U))}):Q.push(encodeURIComponent($)+"="+encodeURIComponent(W));return Q.length?"&"+Q.join("&"):""}function Jt(te){const Q={};return te.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[U,oe]=W.split("=");Q[decodeURIComponent(U)]=decodeURIComponent(oe)}}),Q}function si(te){const Q=te.indexOf("?");if(!Q)return"";const $=te.indexOf("#",Q);return te.substring(Q,$>0?$:void 0)}class mn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Q=1;Q<this.blockSize;++Q)this.pad_[Q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Q,$){$||($=0);const W=this.W_;if("string"==typeof Q)for(let Yt=0;Yt<16;Yt++)W[Yt]=Q.charCodeAt($)<<24|Q.charCodeAt($+1)<<16|Q.charCodeAt($+2)<<8|Q.charCodeAt($+3),$+=4;else for(let Yt=0;Yt<16;Yt++)W[Yt]=Q[$]<<24|Q[$+1]<<16|Q[$+2]<<8|Q[$+3],$+=4;for(let Yt=16;Yt<80;Yt++){const Kn=W[Yt-3]^W[Yt-8]^W[Yt-14]^W[Yt-16];W[Yt]=4294967295&(Kn<<1|Kn>>>31)}let Wt,_n,U=this.chain_[0],oe=this.chain_[1],Re=this.chain_[2],vt=this.chain_[3],Kt=this.chain_[4];for(let Yt=0;Yt<80;Yt++){Yt<40?Yt<20?(Wt=vt^oe&(Re^vt),_n=1518500249):(Wt=oe^Re^vt,_n=1859775393):Yt<60?(Wt=oe&Re|vt&(oe|Re),_n=2400959708):(Wt=oe^Re^vt,_n=3395469782);const Kn=(U<<5|U>>>27)+Wt+Kt+_n+W[Yt]&4294967295;Kt=vt,vt=Re,Re=4294967295&(oe<<30|oe>>>2),oe=U,U=Kn}this.chain_[0]=this.chain_[0]+U&4294967295,this.chain_[1]=this.chain_[1]+oe&4294967295,this.chain_[2]=this.chain_[2]+Re&4294967295,this.chain_[3]=this.chain_[3]+vt&4294967295,this.chain_[4]=this.chain_[4]+Kt&4294967295}update(Q,$){if(null==Q)return;void 0===$&&($=Q.length);const W=$-this.blockSize;let U=0;const oe=this.buf_;let Re=this.inbuf_;for(;U<$;){if(0===Re)for(;U<=W;)this.compress_(Q,U),U+=this.blockSize;if("string"==typeof Q){for(;U<$;)if(oe[Re]=Q.charCodeAt(U),++Re,++U,Re===this.blockSize){this.compress_(oe),Re=0;break}}else for(;U<$;)if(oe[Re]=Q[U],++Re,++U,Re===this.blockSize){this.compress_(oe),Re=0;break}}this.inbuf_=Re,this.total_+=$}digest(){const Q=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let U=this.blockSize-1;U>=56;U--)this.buf_[U]=255&$,$/=256;this.compress_(this.buf_);let W=0;for(let U=0;U<5;U++)for(let oe=24;oe>=0;oe-=8)Q[W]=this.chain_[U]>>oe&255,++W;return Q}}function nn(te,Q){const $=new ht(te,Q);return $.subscribe.bind($)}class ht{constructor(Q,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{Q(this)}).catch(W=>{this.error(W)})}next(Q){this.forEachObserver($=>{$.next(Q)})}error(Q){this.forEachObserver($=>{$.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,$,W){let U;if(void 0===Q&&void 0===$&&void 0===W)throw new Error("Missing Observer.");U=function gi(te,Q){if("object"!=typeof te||null===te)return!1;for(const $ of Q)if($ in te&&"function"==typeof te[$])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:$,complete:W},void 0===U.next&&(U.next=Pi),void 0===U.error&&(U.error=Pi),void 0===U.complete&&(U.complete=Pi);const oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),oe}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,Q)}sendOne(Q,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{$(this.observers[Q])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pi(){}function Sr(te,Q){return`${te} failed: ${Q} argument `}const Qr=function(te){const Q=[];let $=0;for(let W=0;W<te.length;W++){let U=te.charCodeAt(W);if(U>=55296&&U<=56319){const oe=U-55296;W++,Y(W<te.length,"Surrogate pair missing trail surrogate."),U=65536+(oe<<10)+(te.charCodeAt(W)-56320)}U<128?Q[$++]=U:U<2048?(Q[$++]=U>>6|192,Q[$++]=63&U|128):U<65536?(Q[$++]=U>>12|224,Q[$++]=U>>6&63|128,Q[$++]=63&U|128):(Q[$++]=U>>18|240,Q[$++]=U>>12&63|128,Q[$++]=U>>6&63|128,Q[$++]=63&U|128)}return Q},gn=function(te){let Q=0;for(let $=0;$<te.length;$++){const W=te.charCodeAt($);W<128?Q++:W<2048?Q+=2:W>=55296&&W<=56319?(Q+=4,$++):Q+=3}return Q},lt=1e3,bi=2,hi=144e5,Ji=.5;function wi(te,Q=lt,$=bi){const W=Q*Math.pow($,te),U=Math.round(Ji*W*(Math.random()-.5)*2);return Math.min(hi,W+U)}function Ir(te){return te&&te._delegate?te._delegate:te}},6471:(jt,Le,G)=>{"use strict";var u=G(4650);let Y=null;function z(){return Y}class we{}const he=new u.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return(0,u.LFG)(re)}()},providedIn:"platform"}),n})();const Pe=new u.OlP("Location Initialized");let re=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(t){const i=z().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=z().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function de(){return new re((0,u.LFG)(he))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function rt(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ze(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ut(n){return n&&"?"!==n[0]?"?"+n:n}let Ct=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)($e)},providedIn:"root"}),n})();const Me=new u.OlP("appBaseHref");let $e=(()=>{class n extends Ct{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rt(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ut(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+ut(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+ut(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ke=(()=>{class n extends Ct{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=rt(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+ut(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+ut(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function it(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ze(We(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ut(i))}normalize(t){return n.stripTrailingSlash(function Be(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ut,n.joinWithSlash=rt,n.stripTrailingSlash=ze,n.\u0275fac=function(t){return new(t||n)(u.LFG(Ct))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function je(){return new Xe((0,u.LFG)(Ct))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}function Co(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const Wi=/\s+/,mt=[];let un=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=mt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Wi):mt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Wi):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Wi).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Gi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gi(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,o),_i(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{_i(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _i(n,e){n.context.$implicit=e.item}let mr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ql("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ql("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function ql(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let So=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:u.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();let ps=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function fs(n,e){return new u.vHH(2100,!1)}();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Qd="browser";function Bs(n){return n===Qd}let rl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Jd((0,u.LFG)(he),window)}),n})();class Jd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ta(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ao(this.window.history)||Ao(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ao(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qc{}class Xu extends we{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cc extends Xu{static makeCurrent(){!function me(n){Y||(Y=n)}(new cc)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fl(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}();return null==t?null:function T(n){gs=gs||document.createElement("a"),gs.setAttribute("href",n);const e=gs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Co(document.cookie,e)}}let gs,Ia=null;const M=new u.OlP("TRANSITION_ID"),J=[{provide:u.ip1,useFactory:function B(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=z(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[M,he,u.zs3],multi:!0}];let Lt=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ti=new u.OlP("EventManagerPlugins");let yr=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ti),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Oi{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=z().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let aa=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends aa{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uc=/%COMP%/g,ru=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ju(n,e){return e.flat(100).map(t=>t.replace(uc,n))}function rh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Jr=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Nf(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof ed?r.applyToHost(t):r instanceof Ta&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestory;switch(i.encapsulation){case u.ifc.Emulated:s=new ed(o,c,i,this.appId,h);break;case u.ifc.ShadowDom:return new Vi(o,c,t,i);default:s=new Ta(o,c,i,h)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yr),u.LFG(js),u.LFG(u.AFp),u.LFG(ru))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Nf{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ff(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ff(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=pl[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=pl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,rh(i)):this.eventManager.addEventListener(e,t,rh(i))}}function Ff(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Vi extends Nf{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ju(r.id,r.styles);for(const o of s){const c=document.createElement("style");c.textContent=o,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ta extends Nf{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Ju(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ed extends Ta{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function Dm(n){return"_ngcontent-%COMP%".replace(uc,n)}(o),this.hostAttr=function ih(n){return"_nghost-%COMP%".replace(uc,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Lf=(()=>{class n extends Oi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const su=["alt","control","meta","shift"],Bf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},td={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ir=(()=>{class n extends Oi{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),su.forEach(p=>{const g=i.indexOf(p);g>-1&&(i.splice(g,1),o+=p+".")}),o+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=o,h}static matchEventFullKeyCode(t,i){let r=Bf[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),su.forEach(o=>{o!==r&&(0,td[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Mm=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Qd},{provide:u.g9A,useValue:function fc(){cc.makeCurrent()},multi:!0},{provide:he,useFactory:function ah(){return(0,u.RDi)(document),document},deps:[]}]),gl=new u.OlP(""),ou=[{provide:u.rWj,useClass:class Ve{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let s=r.length,o=!1;const c=function(h){o=o||h,s--,0==s&&i(o)};r.forEach(function(h){h.whenStable(c)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],_l=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function oh(){return new u.qLn},deps:[]},{provide:ti,useClass:Lf,multi:!0,deps:[he,u.R0b,u.Lbi]},{provide:ti,useClass:ir,multi:!0,deps:[he]},{provide:Jr,useClass:Jr,deps:[yr,js,u.AFp,ru]},{provide:u.FYo,useExisting:Jr},{provide:aa,useExisting:js},{provide:js,useClass:js,deps:[he]},{provide:yr,useClass:yr,deps:[ti,u.R0b]},{provide:qc,useClass:Lt,deps:[]},[]];let yl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:M,useExisting:u.AFp},J]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gl,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[..._l,...ou],imports:[oo,u.hGG]}),n})(),km=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function vl(){return new km((0,u.LFG)(he))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(od),i},providedIn:"root"}),n})(),od=(()=>{class n extends ka{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${u.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u.JZr})`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function lu(n){return new od(n.get(he))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var ni=G(8996),Ni=G(9751);const{isArray:Pa}=Array,{getPrototypeOf:ad,prototype:Ro,keys:Hf}=Object;function ph(n){if(1===n.length){const e=n[0];if(Pa(e))return{args:e,keys:null};if(function mc(n){return n&&"object"==typeof n&&ad(n)===Ro}(e)){const t=Hf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var uo=G(8421),wl=G(3269),zn=G(5403),Rt=G(4004);const{isArray:mh}=Array;function ld(n){return(0,Rt.U)(e=>function El(n,e){return mh(e)?n(...e):n(e)}(n,e))}function Cl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function cd(...n){const e=(0,wl.jO)(n),{args:t,keys:i}=ph(n),r=new Ni.y(s=>{const{length:o}=t;if(!o)return void s.complete();const c=new Array(o);let h=o,p=o;for(let g=0;g<o;g++){let b=!1;(0,uo.Xf)(t[g]).subscribe((0,zn.x)(s,C=>{b||(b=!0,p--),c[g]=C},()=>h--,void 0,()=>{(!h||!b)&&(p||s.next(i?Cl(i,c):c),s.complete())}))}});return e?r.pipe(ld(e)):r}let gh=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Mr=(()=>{class n extends gh{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Hs=new u.OlP("NgValueAccessor"),$f={provide:Hs,useExisting:(0,u.Gpc)(()=>Oo),multi:!0},ud=new u.OlP("CompositionEventMode");let Oo=(()=>{class n extends gh{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xl(){const n=z()?z().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ud,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[u._Bn([$f]),u.qOj]}),n})();const Nm=!1;function la(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _h(n){return null!=n&&"number"==typeof n.length}const Ur=new u.OlP("NgValidators"),No=new u.OlP("NgAsyncValidators"),Fm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _c{static min(e){return function Sl(n){return e=>{if(la(e.value)||la(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function yh(n){return e=>{if(la(e.value)||la(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Wf(e)}static requiredTrue(e){return function dd(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Lm(n){return la(n.value)||Fm.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function yc(n){return e=>la(e.value)||!_h(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function vh(n){return e=>_h(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function cu(n){if(!n)return vc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(la(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return fd(e)}static composeAsync(e){return V_(e)}}function Wf(n){return la(n.value)?{required:!0}:null}function vc(n){return null}function bc(n){return null!=n}function bh(n){const e=(0,u.QGY)(n)?(0,ni.D)(n):n;if(Nm&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function hd(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Il(n,e){return e.map(t=>t(n))}function Eh(n){return n.map(e=>function wh(n){return!n.validate}(e)?e:t=>e.validate(t))}function fd(n){if(!n)return null;const e=n.filter(bc);return 0==e.length?null:function(t){return hd(Il(t,e))}}function wc(n){return null!=n?fd(Eh(n)):null}function V_(n){if(!n)return null;const e=n.filter(bc);return 0==e.length?null:function(t){return cd(Il(t,e).map(bh)).pipe((0,Rt.U)(hd))}}function Gf(n){return null!=n?V_(Eh(n)):null}function qf(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ec(n){return n._rawValidators}function Ch(n){return n._rawAsyncValidators}function ca(n){return n?Array.isArray(n)?n:[n]:[]}function Tl(n,e){return Array.isArray(n)?n.includes(e):n===e}function ho(n,e){const t=ca(e);return ca(n).forEach(r=>{Tl(t,r)||t.push(r)}),t}function uu(n,e){return ca(e).filter(t=>!Tl(n,t))}class Ra{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class es extends Ra{get formDirective(){return null}get path(){return null}}class ts extends Ra{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xh{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Oa=(()=>{class n extends xh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ts,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),ua=(()=>{class n extends xh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(es,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();function jr(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Na=!1,Pr="VALID",ns="INVALID",Al="PENDING",Cc="DISABLED";function Ih(n){return(pd(n)?n.validators:n)||null}function xc(n,e){return(pd(e)?e.asyncValidators:n)||null}function pd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Vm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pr}get invalid(){return this.status===ns}get pending(){return this.status==Al}get disabled(){return this.status===Cc}get enabled(){return this.status!==Cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ho(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ho(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uu(e,this._rawAsyncValidators))}hasValidator(e){return Tl(this._rawValidators,e)}hasAsyncValidator(e){return Tl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Al,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pr,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pr||this.status===Al)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cc:Pr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Al,this._hasOwnPendingAsyncValidator=!0;const t=bh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Cc:this.errors?ns:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Al)?Al:this._anyControlsHaveStatus(ns)?ns:Pr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function U_(n){return Array.isArray(n)?wc(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Zf(n){return Array.isArray(n)?Gf(n):n||null}(this._rawAsyncValidators)}}class Yf extends Vm{constructor(e,t,i){super(Ih(t),xc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Kf(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,Na?function Sh(n,e){return`Must supply a value for form control ${jr(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function hu(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,Na?function kr(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new u.vHH(1001,Na?function Dl(n,e){return`Cannot find form control ${jr(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const E=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_}),_="always";function v(n,e){return[...e.path,n]}function S(n,e,t=_){xe(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function _t(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&bn(n,e)})}(n,e),function Ds(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $t(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&bn(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ue(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function F(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),st(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function H(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xe(n,e){const t=Ec(n);null!==e.validator?n.setValidators(qf(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Ch(n);null!==e.asyncValidator?n.setAsyncValidators(qf(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();H(e._rawValidators,r),H(e._rawAsyncValidators,r)}function st(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Ec(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Ch(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return H(e._rawValidators,i),H(e._rawAsyncValidators,i),t}function bn(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fa(n,e){xe(n,e)}function Th(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Dh(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function fu(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Oo?t=s:function Jf(n){return Object.getPrototypeOf(n.constructor)===Mr}(s)?i=s:r=s}),r||i||t||null}const zm={provide:es,useExisting:(0,u.Gpc)(()=>Ml)},Ah=(()=>Promise.resolve())();let Ml=(()=>{class n extends es{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Yf({},wc(t),Gf(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ah.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),S(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ah.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ah.then(()=>{const i=this._findContainer(t.path),r=new Yf({});Fa(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ah.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Ah.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Dh(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ur,10),u.Y36(No,10),u.Y36(E,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([zm]),u.qOj]}),n})();function tp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ox(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gd=class extends Vm{constructor(e=null,t,i){super(Ih(t),xc(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ox(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ox(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},KM={provide:ts,useExisting:(0,u.Gpc)(()=>_d)},YM=(()=>Promise.resolve())();let _d=(()=>{class n extends ts{constructor(t,i,r,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new gd,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fu(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Th(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){S(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){YM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,u.D6c)(i);YM.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?v(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(es,9),u.Y36(Ur,10),u.Y36(No,10),u.Y36(Hs,10),u.Y36(u.sBO,8),u.Y36(E,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([KM]),u.qOj,u.TTD]}),n})(),Sc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const QM={provide:Hs,useExisting:(0,u.Gpc)(()=>H_),multi:!0};let H_=(()=>{class n extends Mr{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[u._Bn([QM]),u.qOj]}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Sb=new u.OlP("NgModelWithFormControlWarning"),JM={provide:es,useExisting:(0,u.Gpc)(()=>La)};let La=(()=>{class n extends es{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(st(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return S(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){F(t.control||null,t,!1),function ep(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Dh(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(F(i||null,t),(n=>n instanceof gd)(r)&&(S(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Fa(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Qf(n,e){return st(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xe(this.form,this),this._oldForm&&st(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ur,10),u.Y36(No,10),u.Y36(E,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([JM]),u.qOj,u.TTD]}),n})();const t1={provide:ts,useExisting:(0,u.Gpc)(()=>Db)};let Db=(()=>{class n extends ts{set isDisabled(t){}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fu(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Th(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return v(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(es,13),u.Y36(Ur,10),u.Y36(No,10),u.Y36(Hs,10),u.Y36(Sb,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([t1]),u.qOj,u.TTD]}),n})(),rp=(()=>{class n{constructor(){this._validator=vc}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):vc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const yx={provide:Ur,useExisting:(0,u.Gpc)(()=>sp),multi:!0};let sp=(()=>{class n extends rp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>Wf}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([yx]),u.qOj]}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Cb]}),n})(),xx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:E,useValue:t.callSetDisabledState??_}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ex]}),n})(),Sx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sb,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:E,useValue:t.callSetDisabledState??_}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ex]}),n})();function Ot(...n){const e=(0,wl.yG)(n);return(0,ni.D)(n,e)}var Yn=G(7579);class da extends Yn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const $m=(0,G(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var kh=G(4671),PV=G(9672);function Wm(...n){const e=(0,wl.yG)(n),t=(0,wl.jO)(n),{args:i,keys:r}=ph(n);if(0===i.length)return(0,ni.D)([],e);const s=new Ni.y(function p1(n,e,t=kh.y){return i=>{Y_(e,()=>{const{length:r}=n,s=new Array(r);let o=r,c=r;for(let h=0;h<r;h++)Y_(e,()=>{const p=(0,ni.D)(n[h],e);let g=!1;p.subscribe((0,zn.x)(i,b=>{s[h]=b,g||(g=!0,c--),c||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>Cl(r,o):kh.y));return t?s.pipe(ld(t)):s}function Y_(n,e,t){n?(0,PV.f)(t,n,e):e()}var op=G(8189);function Ba(...n){return function Tx(){return(0,op.J)(1)}()((0,ni.D)(n,(0,wl.yG)(n)))}function Q_(n){return new Ni.y(e=>{(0,uo.Xf)(n()).subscribe(e)})}var Nb=G(9635),fo=G(576);function Ph(n,e){const t=(0,fo.m)(n)?n:()=>n,i=r=>r.error(t());return new Ni.y(e?r=>e.schedule(i,0,r):i)}var Tc=G(515),Dc=G(727),Ui=G(4482);function X_(){return(0,Ui.e)((n,e)=>{let t=null;n._refCount++;const i=(0,zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Gm extends Ni.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ui.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dc.w0.EMPTY)}return e}refCount(){return X_()(this)}}function vr(n,e){return(0,Ui.e)((t,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();t.subscribe((0,zn.x)(i,h=>{r?.unsubscribe();let p=0;const g=s++;(0,uo.Xf)(n(h,g)).subscribe(r=(0,zn.x)(i,b=>i.next(e?e(h,b,g,p++):b),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function _s(n){return n<=0?()=>Tc.E:(0,Ui.e)((e,t)=>{let i=0;e.subscribe((0,zn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function J_(...n){const e=(0,wl.yG)(n);return(0,Ui.e)((t,i)=>{(e?Ba(n,t,e):Ba(n,t)).subscribe(i)})}function ji(n,e){return(0,Ui.e)((t,i)=>{let r=0;t.subscribe((0,zn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var As=G(5577);function ey(n){return(0,Ui.e)((e,t)=>{let i=!1;e.subscribe((0,zn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Dx(n=Fb){return(0,Ui.e)((e,t)=>{let i=!1;e.subscribe((0,zn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Fb(){return new $m}function pu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ji((r,s)=>n(r,s,i)):kh.y,_s(1),t?ey(e):Dx(()=>new $m))}function mu(n,e){return(0,fo.m)(e)?(0,As.z)(n,e,1):(0,As.z)(n,1)}var zr=G(8505);function Ac(n){return(0,Ui.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,zn.x)(t,void 0,void 0,o=>{s=(0,uo.Xf)(n(o,Ac(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Ax(n,e){return(0,Ui.e)(function RV(n,e,t,i,r){return(s,o)=>{let c=t,h=e,p=0;s.subscribe((0,zn.x)(o,g=>{const b=p++;h=c?n(h,g,b):(c=!0,g),i&&o.next(h)},r&&(()=>{c&&o.next(h),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Rh(n){return n<=0?()=>Tc.E:(0,Ui.e)((e,t)=>{let i=[];e.subscribe((0,zn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Mx(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ji((r,s)=>n(r,s,i)):kh.y,Rh(1),t?ey(e):Dx(()=>new $m))}function lp(n){return(0,Rt.U)(()=>n)}function ty(n){return(0,Ui.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const En="primary",qm=Symbol("RouteTitle");class m1{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cp(n){return new m1(n)}function kx(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=n[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Va(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!ny(n[r],e[r]))return!1;return!0}function ny(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Rx(n){return Array.prototype.concat.apply([],n)}function iy(n){return n.length>0?n[n.length-1]:null}function Ms(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yd(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,ni.D)(Promise.resolve(n)):Ot(n)}const sy=!1,g1={exact:function Oh(n,e,t){if(!vd(n.segments,e.segments)||!Bb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Oh(n.children[i],e.children[i],t))return!1;return!0},subset:Nx},Ox={exact:function _1(n,e){return Va(n,e)},subset:function gu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ny(n[t],e[t]))},ignored:()=>!0};function Lb(n,e,t){return g1[t.paths](n.root,e.root,t.matrixParams)&&Ox[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Nx(n,e,t){return Fx(n,e,e.segments,t)}function Fx(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!vd(r,t)||e.hasChildren()||!Bb(r,t,i))}if(n.segments.length===t.length){if(!vd(n.segments,t)||!Bb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Nx(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(vd(n.segments,r)&&Bb(n.segments,r,i)&&n.children[En])&&Fx(n.children[En],e,s,i)}}function Bb(n,e,t){return e.every((i,r)=>Ox[t](n[r].parameters,i.parameters))}class Nh{constructor(e=new Mn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cp(this.queryParams)),this._queryParamMap}toString(){return v1.serialize(this)}}class Mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ms(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fo(this)}}class oy{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cp(this.parameters)),this._parameterMap}toString(){return Bx(this)}}function vd(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Vb},providedIn:"root"}),n})();class Vb{parse(e){const t=new jx(e);return new Nh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zm(e.root,!0)}`,i=function E1(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ay(t)}=${ay(r)}`).join("&"):`${ay(t)}=${ay(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function b1(n){return encodeURI(n)}(e.fragment)}`:""}`}}const v1=new Vb;function Fo(n){return n.segments.map(e=>Bx(e)).join("/")}function Zm(n,e){if(!n.hasChildren())return Fo(n);if(e){const t=n.children[En]?Zm(n.children[En],!1):"",i=[];return Ms(n.children,(r,s)=>{s!==En&&i.push(`${s}:${Zm(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function y1(n,e){let t=[];return Ms(n.children,(i,r)=>{r===En&&(t=t.concat(e(i,r)))}),Ms(n.children,(i,r)=>{r!==En&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===En?[Zm(n.children[En],!1)]:[`${r}:${Zm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[En]?`${Fo(n)}/${t[0]}`:`${Fo(n)}/(${t.join("//")})`}}function Ub(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ay(n){return Ub(n).replace(/%3B/gi,";")}function jb(n){return Ub(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ly(n){return decodeURIComponent(n)}function zb(n){return ly(n.replace(/\+/g,"%20"))}function Bx(n){return`${jb(n.path)}${function w1(n){return Object.keys(n).map(e=>`;${jb(e)}=${jb(n[e])}`).join("")}(n.parameters)}`}const Cn=/^[^\/()?;=#]+/;function Km(n){const e=n.match(Cn);return e?e[0]:""}const Vx=/^[^=?&#]+/,C1=/^[^&#]+/;class jx{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[En]=new Mn(e,t)),i}parseSegment(){const e=Km(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,sy);return this.capture(e),new oy(ly(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Km(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Km(this.remaining);r&&(i=r,this.capture(i))}e[ly(t)]=ly(i)}parseQueryParam(e){const t=function Ux(n){const e=n.match(Vx);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function x1(n){const e=n.match(C1);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=zb(t),s=zb(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Km(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,sy);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=En);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[En]:new Mn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,sy)}}function Hb(n){return n.segments.length>0?new Mn([],{[En]:n}):n}function Ym(n){const e={};for(const i of Object.keys(n.children)){const s=Ym(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function S1(n){if(1===n.numberOfChildren&&n.children[En]){const e=n.children[En];return new Mn(n.segments.concat(e.segments),e.children)}return n}(new Mn(n.segments,e))}function Fh(n){return n instanceof Nh}const zx=!1;function T1(n,e,t,i,r){if(0===t.length)return dp(e.root,e.root,e.root,i,r);const s=function M1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new A1(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Ms(s.outlets,(h,p)=>{c[p]="string"==typeof h?h.split("/"):h}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,h)=>{0==h&&"."===c||(0==h&&""===c?t=!0:".."===c?e++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new A1(t,e,i)}(t);return s.toRoot()?dp(e.root,e.root,new Mn([],{}),i,r):function o(h){const p=function OV(n,e,t,i){if(n.isAbsolute)return new hp(e.root,!0,0);if(-1===i)return new hp(t,t===e.root,0);return function $x(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new u.vHH(4005,zx&&"Invalid number of '../'");r=i.segments.length}return new hp(i,!1,r-s)}(t,i+(Lh(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,h),g=p.processChildren?Vh(p.segmentGroup,p.index,s.commands):Wb(p.segmentGroup,p.index,s.commands);return dp(e.root,p.segmentGroup,g,i,r)}(n.snapshot?._lastPathIndex)}function Lh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bh(n){return"object"==typeof n&&null!=n&&n.outlets}function dp(n,e,t,i,r){let o,s={};i&&Ms(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`}),o=n===e?t:D1(n,e,t);const c=Hb(Ym(o));return new Nh(c,s,r)}function D1(n,e,t){const i={};return Ms(n.children,(r,s)=>{i[s]=r===e?t:D1(r,e,t)}),new Mn(n.segments,i)}class A1{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Lh(i[0]))throw new u.vHH(4003,zx&&"Root segment cannot have matrix parameters");const r=i.find(Bh);if(r&&r!==iy(i))throw new u.vHH(4004,zx&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hp{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Wb(n,e,t){if(n||(n=new Mn([],{})),0===n.segments.length&&n.hasChildren())return Vh(n,e,t);const i=function cy(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],c=t[i];if(Bh(c))break;const h=`${c}`,p=i<t.length-1?t[i+1]:null;if(r>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!qx(h,p,o))return s;i+=2}else{if(!qx(h,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Mn(n.segments.slice(0,i.pathIndex),{});return s.children[En]=new Mn(n.segments.slice(i.pathIndex),n.children),Vh(s,0,r)}return i.match&&0===r.length?new Mn(n.segments,{}):i.match&&!n.hasChildren()?Gb(n,e,t):i.match?Vh(n,0,r):Gb(n,e,t)}function Vh(n,e,t){if(0===t.length)return new Mn(n.segments,{});{const i=function fp(n){return Bh(n[0])?n[0].outlets:{[En]:n}}(t),r={};if(!i[En]&&n.children[En]&&1===n.numberOfChildren&&0===n.children[En].segments.length){const s=Vh(n.children[En],e,t);return new Mn(n.segments,s.children)}return Ms(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Wb(n.children[o],e,s))}),Ms(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Mn(n.segments,r)}}function Gb(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Bh(s)){const h=Wx(s.outlets);return new Mn(i,h)}if(0===r&&Lh(t[0])){i.push(new oy(n.segments[e].path,Gx(t[0]))),r++;continue}const o=Bh(s)?s.outlets[En]:`${s}`,c=r<t.length-1?t[r+1]:null;o&&c&&Lh(c)?(i.push(new oy(o,Gx(c))),r+=2):(i.push(new oy(o,{})),r++)}return new Mn(i,{})}function Wx(n){const e={};return Ms(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Gb(new Mn([],{}),0,t))}),e}function Gx(n){const e={};return Ms(n,(t,i)=>e[i]=`${t}`),e}function qx(n,e,t){return n==t.path&&Va(e,t.parameters)}const Qm="imperative";class Mc{constructor(e,t){this.id=e,this.url=t}}class qb extends Mc{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wd extends Mc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uy extends Mc{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xm extends Mc{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class dy extends Mc{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zb extends Mc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NV extends Mc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kb extends Mc{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class k1 extends Mc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FV extends Mc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class P1{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kx{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R1{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jm{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let eg=(()=>{class n{createUrlTree(t,i,r,s,o,c){return T1(t||i.root,r,s,o,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return eg.\u0275fac(e)},providedIn:"root"}),n})();class Xb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=tg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=tg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ng(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ng(e,this._root).map(t=>t.value)}}function tg(n,e){if(n===e.value)return e;for(const t of e.children){const i=tg(n,t);if(i)return i}return null}function ng(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ng(n,t);if(i.length)return i.unshift(e),i}return[]}class kl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fy extends Xb{constructor(e,t){super(e),this.snapshot=t,Jb(this,e)}toString(){return this.snapshot.toString()}}function Yx(n,e){const t=function N1(n,e){const o=new ig([],{},{},"",{},En,e,null,n.root,-1,{});return new Jx("",new kl(o,[]))}(n,e),i=new da([new oy("",{})]),r=new da({}),s=new da({}),o=new da({}),c=new da(""),h=new jh(i,r,o,c,s,En,e,t.root);return h.snapshot=t.root,new fy(new kl(h,[]),t)}class jh{constructor(e,t,i,r,s,o,c,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.title=this.data?.pipe((0,Rt.U)(p=>p[qm]))??Ot(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(e=>cp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(e=>cp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qx(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Xx(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ig{get title(){return this.data?.[qm]}constructor(e,t,i,r,s,o,c,h,p,g,b){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=g,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jx extends Xb{constructor(e,t){super(t),this.url=e,Jb(this,t)}toString(){return Lo(this._root)}}function Jb(n,e){e.value._routerState=n,e.children.forEach(t=>Jb(n,t))}function Lo(n){const e=n.children.length>0?` { ${n.children.map(Lo).join(", ")} } `:"";return`${n.value}${e}`}function e0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Va(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Va(e.params,t.params)||n.params.next(t.params),function Px(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Va(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Va(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function t0(n,e){const t=Va(n.params,e.params)&&function Lx(n,e){return vd(n,e)&&n.every((t,i)=>Va(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||t0(n.parent,e.parent))}function zh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function eS(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return zh(n,i,r);return zh(n,i)})}(n,e,t);return new kl(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>zh(n,c)),o}}const i=function F1(n){return new jh(new da(n.url),new da(n.params),new da(n.queryParams),new da(n.fragment),new da(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>zh(n,s));return new kl(i,r)}}const n0="ngNavigationCancelingError";function tS(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Fh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=r0(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function r0(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[n0]=!0,i.cancellationCode=e,t&&(i.url=t),i}function nS(n){return iS(n)&&Fh(n.url)}function iS(n){return n&&n[n0]}class s0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rg,this.attachRef=null}}let rg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new s0,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const py=!1;let o0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=En,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(rg),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,py);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,py);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,py);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,py);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,h=new L1(t,c,r.injector);if(i&&function B1(n){return!!n.resolveComponentFactory}(i)){const p=i.resolveComponentFactory(o);this.activated=r.createComponent(p,r.length,h)}else this.activated=r.createComponent(o,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class L1{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===jh?this.route:e===rg?this.childContexts:this.parent.get(e,t)}}let Ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[o0],encapsulation:2}),n})();function my(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function c0(n){const e=n.children&&n.children.map(c0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==En&&(t.component=Ua),t}function po(n){return n.outlet||En}function sg(n,e){const t=n.filter(i=>po(i)===e);return t.push(...n.filter(i=>po(i)!==e)),t}function Ed(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class u0{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),e0(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Uh(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Ms(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Uh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Uh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Uh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new O1(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kx(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(e0(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),e0(c.route.value),this.activateChildRoutes(e,null,o.children)}else{const c=Ed(r.snapshot),h=c?.get(u._Vd)??null;o.attachRef=null,o.route=r,o.resolver=h,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class z1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class og{constructor(e,t){this.component=e,this.route=t}}function rS(n,e,t){const i=n._root;return $h(i,e?e._root:null,t,[i.value])}function Hh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function $h(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Uh(e);return n.children.forEach(o=>{(function _u(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const h=function gy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vd(n.url,e.url)||!Va(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!t0(n,e)||!Va(n.queryParams,e.queryParams);default:return!t0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new z1(i)):(s.data=o.data,s._resolvedData=o._resolvedData),$h(n,e,s.component?c?c.children:null:t,i,r),h&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new og(c.outlet.component,o))}else o&&Cd(e,c,r),r.canActivateChecks.push(new z1(i)),$h(n,null,s.component?c?c.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Ms(s,(o,c)=>Cd(o,t.getContext(c),r)),r}function Cd(n,e,t){const i=Uh(n),r=n.value;Ms(i,(s,o)=>{Cd(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new og(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function yu(n){return"function"==typeof n}function d0(n){return n instanceof $m||"EmptyError"===n?.name}const _y=Symbol("INITIAL_VALUE");function gp(){return vr(n=>Wm(n.map(e=>e.pipe(_s(1),J_(_y)))).pipe((0,Rt.U)(e=>{for(const t of e)if(!0!==t){if(t===_y)return _y;if(!1===t||t instanceof Nh)return t}return!0}),ji(e=>e!==_y),_s(1)))}function cS(n){return(0,Nb.z)((0,zr.b)(e=>{if(Fh(e))throw tS(0,e)}),(0,Rt.U)(e=>!0===e))}const p0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uS(n,e,t,i,r){const s=m0(n,e,t);return s.matched?function X1(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ot(r.map(o=>{const c=Hh(o,n);return yd(function ag(n){return n&&yu(n.canMatch)}(c)?c.canMatch(e,t):n.runInContext(()=>c(e,t)))})).pipe(gp(),cS()):Ot(!0)}(i=my(e,i),e,t).pipe((0,Rt.U)(o=>!0===o?s:{...p0})):Ot(s)}function m0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...p0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||kx)(t,n,e);if(!r)return{...p0};const s={};Ms(r.posParams,(c,h)=>{s[h]=c.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function yy(n,e,t,i){if(t.length>0&&function J1(n,e,t){return t.some(i=>lg(n,e,i)&&po(i)!==En)}(n,t,i)){const s=new Mn(e,function hS(n,e,t,i){const r={};r[En]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&po(s)!==En){const o=new Mn([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[po(s)]=o}return r}(n,e,i,new Mn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function $V(n,e,t){return t.some(i=>lg(n,e,i))}(n,t,i)){const s=new Mn(n.segments,function dS(n,e,t,i,r){const s={};for(const o of i)if(lg(n,t,o)&&!r[po(o)]){const c=new Mn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[po(o)]=c}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new Mn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function lg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ek(n,e,t,i){return!!(po(n)===i||i!==En&&lg(e,t,n))&&("**"===n.path||m0(e,n,t).matched)}function cg(n,e,t){return 0===e.length&&!n.children[t]}const vy=!1;class by{constructor(e){this.segmentGroup=e||null}}class wy{constructor(e){this.urlTree=e}}function ug(n){return Ph(new by(n))}function Pl(n){return Ph(new wy(n))}class Ey{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=yy(this.urlTree.root,[],[],this.config).segmentGroup,t=new Mn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,En).pipe((0,Rt.U)(s=>this.createUrlTree(Ym(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ac(s=>{if(s instanceof wy)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof by?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,En).pipe((0,Rt.U)(r=>this.createUrlTree(Ym(r),e.queryParams,e.fragment))).pipe(Ac(r=>{throw r instanceof by?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,vy)}createUrlTree(e,t,i){const r=Hb(e);return new Nh(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Rt.U)(s=>new Mn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,ni.D)(r).pipe(mu(s=>{const o=i.children[s],c=sg(t,s);return this.expandSegmentGroup(e,c,o,s).pipe((0,Rt.U)(h=>({segment:h,outlet:s})))}),Ax((s,o)=>(s[o.outlet]=o.segment,s),{}),Mx())}expandSegment(e,t,i,r,s,o){return(0,ni.D)(i).pipe(mu(c=>this.expandSegmentAgainstRoute(e,t,i,c,r,s,o).pipe(Ac(p=>{if(p instanceof by)return Ot(null);throw p}))),pu(c=>!!c),Ac((c,h)=>{if(d0(c))return cg(t,r,s)?Ot(new Mn([],{})):ug(t);throw c}))}expandSegmentAgainstRoute(e,t,i,r,s,o,c){return ek(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):ug(t):ug(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Pl(s):this.lineralizeSegments(i,s).pipe((0,As.z)(o=>{const c=new Mn(o,{});return this.expandSegment(e,c,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:c,consumedSegments:h,remainingSegments:p,positionalParamSegments:g}=m0(t,r,s);if(!c)return ug(t);const b=this.applyRedirectCommands(h,r.redirectTo,g);return r.redirectTo.startsWith("/")?Pl(b):this.lineralizeSegments(r,b).pipe((0,As.z)(C=>this.expandSegment(e,t,i,C.concat(p),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=my(i,e),i.loadChildren?(i._loadedRoutes?Ot({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Rt.U)(c=>(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,new Mn(r,{})))):Ot(new Mn(r,{}))):uS(t,i,r,e).pipe(vr(({matched:o,consumedSegments:c,remainingSegments:h})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe((0,As.z)(g=>{const b=g.injector??e,C=g.routes,{segmentGroup:k,slicedSegments:R}=yy(t,c,h,C),L=new Mn(k.segments,k.children);if(0===R.length&&L.hasChildren())return this.expandChildren(b,C,L).pipe((0,Rt.U)(pe=>new Mn(c,pe)));if(0===C.length&&0===R.length)return Ot(new Mn(c,{}));const V=po(i)===s;return this.expandSegment(b,L,C,R,V?En:s,!0).pipe((0,Rt.U)(ie=>new Mn(c.concat(ie.segments),ie.children)))})):ug(t)))}getChildConfig(e,t,i){return t.children?Ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function Q1(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ot(!0):Ot(r.map(o=>{const c=Hh(o,n);return yd(function oS(n){return n&&yu(n.canLoad)}(c)?c.canLoad(e,t):n.runInContext(()=>c(e,t)))})).pipe(gp(),cS())}(e,t,i).pipe((0,As.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,zr.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function $s(n){return Ph(r0(vy,3))}())):Ot({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ot(i);if(r.numberOfChildren>1||!r.children[En])return e.redirectTo,Ph(new u.vHH(4e3,vy));r=r.children[En]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Nh(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ms(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const c=r.substring(1);i[s]=t[c]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Ms(t.children,(c,h)=>{o[h]=this.createSegmentGroup(e,c,i,r)}),new Mn(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,vy);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class _p{}class bp{constructor(e,t,i,r,s,o,c){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c}recognize(){const e=yy(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,En).pipe((0,Rt.U)(t=>{if(null===t)return null;const i=new ig([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},En,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kl(i,t),s=new Jx(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Qx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,ni.D)(Object.keys(i.children)).pipe(mu(r=>{const s=i.children[r],o=sg(t,r);return this.processSegmentGroup(e,o,s,r)}),Ax((r,s)=>r&&s?(r.push(...s),r):null),function ap(n,e=!1){return(0,Ui.e)((t,i)=>{let r=0;t.subscribe((0,zn.x)(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),ey(null),Mx(),(0,Rt.U)(r=>{if(null===r)return null;const s=Gh(r);return function wp(n){n.sort((e,t)=>e.value.outlet===En?-1:t.value.outlet===En?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,ni.D)(t).pipe(mu(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),pu(o=>!!o),Ac(o=>{if(d0(o))return cg(i,r,s)?Ot([]):Ot(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!ek(t,i,r,s))return Ot(null);let o;if("**"===t.path){const c=r.length>0?iy(r).parameters:{},h=_0(i)+r.length;o=Ot({snapshot:new ig(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y0(t),po(t),t.component??t._loadedComponent??null,t,g0(i),h,v0(t)),consumedSegments:[],remainingSegments:[]})}else o=uS(i,t,r,e).pipe((0,Rt.U)(({matched:c,consumedSegments:h,remainingSegments:p,parameters:g})=>{if(!c)return null;const b=_0(i)+h.length;return{snapshot:new ig(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y0(t),po(t),t.component??t._loadedComponent??null,t,g0(i),b,v0(t)),consumedSegments:h,remainingSegments:p}}));return o.pipe(vr(c=>{if(null===c)return Ot(null);const{snapshot:h,consumedSegments:p,remainingSegments:g}=c;e=t._injector??e;const b=t._loadedInjector??e,C=function Ep(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:R}=yy(i,p,g,C.filter(V=>void 0===V.redirectTo));if(0===R.length&&k.hasChildren())return this.processChildren(b,C,k).pipe((0,Rt.U)(V=>null===V?null:[new kl(h,V)]));if(0===C.length&&0===R.length)return Ot([new kl(h,[])]);const L=po(t)===s;return this.processSegment(b,C,k,R,L?En:s).pipe((0,Rt.U)(V=>null===V?null:[new kl(h,V)]))}))}}function Cp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gh(n){const e=[],t=new Set;for(const i of n){if(!Cp(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Gh(i.children);e.push(new kl(i.value,r))}return e.filter(i=>!t.has(i))}function g0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function y0(n){return n.data||{}}function v0(n){return n.resolve||{}}function b0(n){return"string"==typeof n.title||null===n.title}function w0(n){return vr(e=>{const t=n(e);return t?(0,ni.D)(t).pipe((0,Rt.U)(()=>e)):Ot(e)})}const xd=new u.OlP("ROUTES");let hg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=yd(t.loadComponent()).pipe((0,Rt.U)(fg),(0,zr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ty(()=>{this.componentLoaders.delete(t)})),r=new Gm(i,()=>new Yn.x).pipe(X_());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Rt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,p,g=!1;Array.isArray(c)?p=c:(h=c.create(t).injector,p=Rx(h.get(xd,[],u.XFs.Self|u.XFs.Optional)));return{routes:p.map(c0),injector:h}}),ty(()=>{this.childrenLoaders.delete(i)})),o=new Gm(s,()=>new Yn.x).pipe(X_());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return yd(t()).pipe((0,Rt.U)(fg),(0,As.z)(i=>i instanceof u.YKP||Array.isArray(i)?Ot(i):(0,ni.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fg(n){return function rk(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Sp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yn.x,this.configLoader=(0,u.f3M)(hg),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(up),this.rootContexts=(0,u.f3M)(rg),this.navigationId=0,this.afterPreactivation=()=>Ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Zx(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new pp(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new da({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qm,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ji(i=>0!==i.id),(0,Rt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),vr(i=>{let r=!1,s=!1;return Ot(i).pipe((0,zr.b)(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vr(o=>{const c=t.browserUrlTree.toString(),h=!t.navigated||o.extractedUrl.toString()!==c||c!==t.currentUrlTree.toString();if(!h&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Xm(o.id,t.serializeUrl(i.rawUrl),g,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Tc.E}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return _S(o.source)&&(t.browserUrlTree=o.extractedUrl),Ot(o).pipe(vr(g=>{const b=this.transitions?.getValue();return this.events.next(new qb(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),b!==this.transitions?.getValue()?Tc.E:Promise.resolve(g)}),function ja(n,e,t,i){return vr(r=>function Wh(n,e,t,i,r){return new Ey(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Rt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,zr.b)(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},i.urlAfterRedirects=g.urlAfterRedirects}),function fS(n,e,t,i,r){return(0,As.z)(s=>function vp(n,e,t,i,r,s,o="emptyOnly"){return new bp(n,e,t,i,r,o,s).recognize().pipe(vr(c=>null===c?function yp(n){return new Ni.y(e=>e.error(n))}(new _p):Ot(c)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,Rt.U)(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,zr.b)(g=>{if(i.targetSnapshot=g.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!g.extras.skipLocationChange){const C=t.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);t.setBrowserUrl(C,g)}t.browserUrlTree=g.urlAfterRedirects}const b=new Zb(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:g,extractedUrl:b,source:C,restoredState:k,extras:R}=o,L=new qb(g,this.urlSerializer.serialize(b),C,k);this.events.next(L);const V=Yx(b,this.rootComponentType).snapshot;return Ot(i={...o,targetSnapshot:V,urlAfterRedirects:b,extras:{...R,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new Xm(o.id,t.serializeUrl(i.extractedUrl),g,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Tc.E}}),(0,zr.b)(o=>{const c=new NV(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),(0,Rt.U)(o=>i={...o,guards:rS(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function G1(n,e){return(0,As.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ot({...t,guardsResult:!0}):function q1(n,e,t,i){return(0,ni.D)(n).pipe((0,As.z)(r=>function f0(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ot(s.map(c=>{const h=Ed(e)??r,p=Hh(c,h);return yd(function W1(n){return n&&yu(n.canDeactivate)}(p)?p.canDeactivate(n,e,t,i):h.runInContext(()=>p(n,e,t,i))).pipe(pu())})).pipe(gp()):Ot(!0)}(r.component,r.route,t,e,i)),pu(r=>!0!==r,!0))}(o,i,r,n).pipe((0,As.z)(c=>c&&function H1(n){return"boolean"==typeof n}(c)?function Z1(n,e,t,i){return(0,ni.D)(e).pipe(mu(r=>Ba(function lS(n,e){return null!==n&&e&&e(new P1(n)),Ot(!0)}(r.route.parent,i),function K1(n,e){return null!==n&&e&&e(new R1(n)),Ot(!0)}(r.route,i),function Y1(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function sS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Q_(()=>Ot(o.guards.map(h=>{const p=Ed(o.node)??t,g=Hh(h,p);return yd(function $1(n){return n&&yu(n.canActivateChild)}(g)?g.canActivateChild(i,n):p.runInContext(()=>g(i,n))).pipe(pu())})).pipe(gp())));return Ot(s).pipe(gp())}(n,r.path,t),function h0(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ot(!0);const r=i.map(s=>Q_(()=>{const o=Ed(e)??t,c=Hh(s,o);return yd(function aS(n){return n&&yu(n.canActivate)}(c)?c.canActivate(e,n):o.runInContext(()=>c(e,n))).pipe(pu())}));return Ot(r).pipe(gp())}(n,r.route,t))),pu(r=>!0!==r,!0))}(i,s,n,e):Ot(c)),(0,Rt.U)(c=>({...t,guardsResult:c})))})}(this.environmentInjector,o=>this.events.next(o)),(0,zr.b)(o=>{if(i.guardsResult=o.guardsResult,Fh(o.guardsResult))throw tS(0,o.guardsResult);const c=new Kb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),ji(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),w0(o=>{if(o.guards.canActivateChecks.length)return Ot(o).pipe((0,zr.b)(c=>{const h=new k1(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),vr(c=>{let h=!1;return Ot(c).pipe(function pS(n,e){return(0,As.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ot(t);let s=0;return(0,ni.D)(r).pipe(mu(o=>function mS(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!b0(r)&&(s[qm]=r.title),function gS(n,e,t,i){const r=function nk(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ot({});const s={};return(0,ni.D)(r).pipe((0,As.z)(o=>function ik(n,e,t,i){const r=Ed(e)??i,s=Hh(n,r);return yd(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(pu(),(0,zr.b)(c=>{s[o]=c}))),Rh(1),lp(s),Ac(o=>d0(o)?Tc.E:Ph(o)))}(s,n,e,i).pipe((0,Rt.U)(o=>(n._resolvedData=o,n.data=Qx(n,t).resolve,r&&b0(r)&&(n.data[qm]=r.title),null)))}(o.route,i,n,e)),(0,zr.b)(()=>s++),Rh(1),(0,As.z)(o=>s===r.length?Ot(t):Tc.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,zr.b)({next:()=>h=!0,complete:()=>{h||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),(0,zr.b)(c=>{const h=new FV(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),w0(o=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe((0,zr.b)(g=>{h.component=g}),(0,Rt.U)(()=>{})));for(const g of h.children)p.push(...c(g));return p};return Wm(c(o.targetSnapshot.root)).pipe(ey(),_s(1))}),w0(()=>this.afterPreactivation()),(0,Rt.U)(o=>{const c=function LV(n,e,t){const i=zh(n,e._root,t?t._root:void 0);return new fy(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:c}}),(0,zr.b)(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>(0,Rt.U)(i=>(new u0(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),_s(1),(0,zr.b)({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new wd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),ty(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ac(o=>{if(s=!0,iS(o)){nS(o)||(t.navigated=!0,t.restoreHistory(i,!0));const c=new uy(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(c),nS(o)){const h=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||_S(i.source)};t.scheduleNavigation(h,Qm,null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const c=new dy(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(t.errorHandler(o))}catch(h){i.reject(h)}}return Tc.E}))}))}cancelNavigationTransition(t,i,r){const s=new uy(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _S(n){return n!==Qm}let xy=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===En);return i}getResolvedTitleForRoute(t){return t.data[qm]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(C0)},providedIn:"root"}),n})(),C0=(()=>{class n extends xy{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(km))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(x0)},providedIn:"root"}),n})();class vS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let x0=(()=>{class n extends vS{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pg=new u.OlP("",{providedIn:"root",factory:()=>({})});let S0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(I0)},providedIn:"root"}),n})(),I0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wS(n){throw n}function ES(n,e,t){return e.parse("/")}const CS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let is=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(pg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ES,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(S0),this.routeReuseStrategy=(0,u.f3M)(yS),this.urlCreationStrategy=(0,u.f3M)(hy),this.titleStrategy=(0,u.f3M)(xy),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Rx((0,u.f3M)(xd,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Sp),this.urlSerializer=(0,u.f3M)(up),this.location=(0,u.f3M)(Xe),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yx(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const h={...r};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const c=this.parseUrl(t);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(c0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:h}=i,p=h?this.currentUrlTree.fragment:o;let g=null;switch(c){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,g,p??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Fh(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Qm,null,i)}navigate(t,i={skipLocationChange:!1}){return function SS(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...CS}:!1===i?{...xS}:i,Fh(t))return Lb(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Lb(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,h,p,g;return o?(c=o.resolve,h=o.reject,p=o.promise):p=new Promise((b,C)=>{c=b,h=C}),g="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:g,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(b=>Promise.reject(b))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zh=(()=>{class n{constructor(t,i,r,s,o,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Yn.x;const h=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===h||"area"===h,this.isAnchorElement?this.subscription=t.events.subscribe(p=>{p instanceof wd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is),u.Y36(jh),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ct))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&u.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class A0{}let TS=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ji(t=>t instanceof wd),mu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,u.MMx)(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return(0,ni.D)(r).pipe((0,op.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ot(null);const s=r.pipe((0,As.z)(o=>null===o?Ot(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){const o=this.loader.loadComponent(i);return(0,ni.D)([s,o]).pipe((0,op.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(is),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(A0),u.LFG(hg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sy=new u.OlP("");let M0=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Jm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var Bo=(()=>((Bo=Bo||{})[Bo.COMPLETE=0]="COMPLETE",Bo[Bo.FAILED=1]="FAILED",Bo[Bo.REDIRECTING=2]="REDIRECTING",Bo))();const vu=!1;function Sd(n,e){return{\u0275kind:n,\u0275providers:e}}const mg=new u.OlP("",{providedIn:"root",factory:()=>!1});function Iy(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(is),r=n.get(ak);1===n.get(kS)&&i.initialNavigation(),n.get(RS,null,u.XFs.Optional)?.setUpPreloading(),n.get(Sy,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const ak=new u.OlP(vu?"bootstrap done indicator":"",{factory:()=>new Yn.x}),kS=new u.OlP(vu?"initial navigation":"",{providedIn:"root",factory:()=>1});function PS(){let n=[];return n=vu?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(is);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function mp(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Sd(1,n)}const RS=new u.OlP(vu?"router preloader":"");function rs(n){return Sd(0,[{provide:RS,useExisting:TS},{provide:A0,useExisting:n}])}const Ip=!1,k0=new u.OlP(Ip?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),OS=[Xe,{provide:up,useClass:Vb},is,rg,{provide:jh,useFactory:function AS(n){return n.routerState.root},deps:[is]},hg,Ip?{provide:mg,useValue:!0}:[]];function Tp(){return new u.PXZ("Router",is)}let NS=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[OS,Ip&&i?.enableTracing?PS().\u0275providers:[],{provide:xd,multi:!0,useValue:t},{provide:k0,useFactory:LS,deps:[[is,new u.FiY,new u.tp0]]},{provide:pg,useValue:i||{}},i?.useHash?{provide:Ct,useClass:Ke}:{provide:Ct,useClass:$e},{provide:Sy,useFactory:()=>{const n=(0,u.f3M)(rl),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(pg),i=(0,u.f3M)(Sp),r=(0,u.f3M)(up);return t.scrollOffset&&n.setOffset(t.scrollOffset),new M0(r,i,n,e,t)}},i?.preloadingStrategy?rs(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Tp},i?.initialNavigation?KV(i):[],[{provide:Ty,useFactory:Iy},{provide:u.tb,multi:!0,useExisting:Ty}]]}}static forChild(t){return{ngModule:n,providers:[{provide:xd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(k0,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ua]}),n})();function LS(n){if(Ip&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function KV(n){return["disabled"===n.initialNavigation?Sd(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(is);return()=>{e.setUpLocationChangeListener()}}},{provide:kS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Sd(2,[{provide:kS,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Pe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(is),s=e.get(ak);(function DS(n,e){n.events.pipe(ji(t=>t instanceof wd||t instanceof uy||t instanceof dy||t instanceof Xm),(0,Rt.U)(t=>t instanceof wd||t instanceof Xm?Bo.COMPLETE:t instanceof uy&&(0===t.code||1===t.code)?Bo.REDIRECTING:Bo.FAILED),ji(t=>t!==Bo.REDIRECTING),_s(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Sp).afterPreactivation=()=>(i(!0),s.closed?Ot(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Ty=new u.OlP(Ip?"Router Initializer":"");let R0;try{R0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{R0=!1}let Dp,Ay,Qh,O0,Vo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Bs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!R0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dy(n){return function pk(){if(null==Dp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dp=!0}))}finally{Dp=Dp||!1}return Dp}()?n:!!n.capture}function My(){if(null==Qh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qh=!1,Qh;if("scrollBehavior"in document.documentElement.style)Qh=!0;else{const n=Element.prototype.scrollTo;Qh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qh}function Eu(){if("object"!=typeof document||!document)return 0;if(null==Ay){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Ay=0,0===n.scrollLeft&&(n.scrollLeft=1,Ay=0===n.scrollLeft?1:2),n.remove()}return Ay}function Cu(n){return n.composedPath?n.composedPath()[0]:n.target}function ky(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function WS(n){return ji((e,t)=>n<=t)}function tP(n,e){return n===e}var By=G(5032);function Id(n){return(0,Ui.e)((e,t)=>{(0,uo.Xf)(n).subscribe((0,zn.x)(t,()=>t.complete(),By.Z)),!t.closed&&e.subscribe(t)})}function Vy(n){return null!=n&&"false"!=`${n}`}function Mp(n){return Array.isArray(n)?n:[n]}function Hr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Xh(n){return n instanceof u.SBq?n.nativeElement:n}var Uy=G(4986);const GS=new Set;let kp,rP=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function sP(n){if(!GS.has(n))try{kp||(kp=document.createElement("style"),kp.setAttribute("type","text/css"),document.head.appendChild(kp)),kp.sheet&&(kp.sheet.insertRule(`@media ${n} {body{ }}`,0),GS.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qS(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jy=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Yn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ZS(Mp(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Wm(ZS(Mp(t)).map(o=>this._registerQuery(o).observable));return s=Ba(s.pipe(_s(1)),s.pipe(WS(1),function iP(n,e=Uy.z){return(0,Ui.e)((t,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function h(){const p=o+n,g=e.now();if(g<p)return r=this.schedule(void 0,p-g),void i.add(r);c()}t.subscribe((0,zn.x)(i,p=>{s=p,o=e.now(),r||(r=e.schedule(h,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}(0))),s.pipe((0,Rt.U)(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:h,query:p})=>{c.matches=c.matches||h,c.breakpoints[p]=h}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Ni.y(o=>{const c=h=>this._zone.run(()=>o.next(h));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(J_(i),(0,Rt.U)(({matches:o})=>({query:t,matches:o})),Id(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rP),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZS(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function JS(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function vP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const bP=new u.OlP("cdk-input-modality-detector-options"),wP={ignoreKeys:[18,17,224,91,16]},Jh=Dy({passive:!0,capture:!0});let EP=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new da(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(JS(o)?"keyboard":"mouse"),this._mostRecentTarget=Cu(o))},this._onTouchstart=o=>{vP(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cu(o))},this._options={...wP,...s},this.modalityDetected=this._modality.pipe(WS(1)),this.modalityChanged=this.modalityDetected.pipe(function U0(n,e=kh.y){return n=n??tP,(0,Ui.e)((t,i)=>{let r,s=!0;t.subscribe((0,zn.x)(i,o=>{const c=e(o);(s||!n(r,c))&&(s=!1,r=c,i.next(o))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Jh),r.addEventListener("mousedown",this._onMousedown,Jh),r.addEventListener("touchstart",this._onTouchstart,Jh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jh),document.removeEventListener("mousedown",this._onMousedown,Jh),document.removeEventListener("touchstart",this._onTouchstart,Jh))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vo),u.LFG(u.R0b),u.LFG(he),u.LFG(bP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CP=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function xP(){return null}}),SP=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let IP=0,eI=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+IP++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(CP,8),u.LFG(u.R0b),u.LFG(he),u.LFG(SP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TP=new u.OlP("cdk-focus-monitor-default-options"),Td=Dy({passive:!0,capture:!0});let tI=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Yn.x,this._rootNodeFocusAndBlurListener=c=>{for(let p=Cu(c);p;p=p.parentElement)"focus"===c.type?this._onFocus(c,p):this._onBlur(c,p)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=Xh(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ot(null);const s=function mk(n){if(function BS(){if(null==O0){const n=typeof document<"u"?document.head:null;O0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return O0}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new Yn.x,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const i=Xh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Xh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,h])=>this._originChanged(c,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Cu(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Td),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Td)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Id(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Td),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Td),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Vo),u.LFG(EP),u.LFG(he,8),u.LFG(TP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q0="cdk-high-contrast-black-on-white",Z0="cdk-high-contrast-white-on-black",Hy="cdk-high-contrast-active";let nI=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(jy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Hy,q0,Z0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Hy,q0):2===i&&t.add(Hy,Z0)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vo),u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cj=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function iI(){return(0,u.f3M)(he)}}),AP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $y=(()=>{class n{constructor(t){this.value="ltr",this.change=new u.vpe,t&&(this.value=function MP(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?AP.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cj,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const aI=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function kP(){return!0}});let mo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ky()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nI),u.LFG(aI,8),u.LFG(he))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[xu,xu]}),n})();function Y0(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Vy(e)}constructor(...e){super(...e),this._disabled=!1}}}function Q0(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function X0(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Vy(e)}constructor(...e){super(...e),this._disableRipple=!1}}}let ef=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mo,mo]}),n})();class HP{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hI=Dy({passive:!0,capture:!0});class wj{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Cu(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,hI)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,hI)))}}const $P={enterDuration:225,exitDuration:150},Gy=Dy({passive:!0,capture:!0}),Pp=["mousedown","touchstart"],pI=["mouseup","mouseleave","touchend","touchcancel"];class tf{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Xh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...$P,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function WP(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),c=e-r.left,h=t-r.top,p=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=c-o+"px",g.style.top=h-o+"px",g.style.height=2*o+"px",g.style.width=2*o+"px",null!=i.color&&(g.style.backgroundColor=i.color),g.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(g);const b=window.getComputedStyle(g),k=b.transitionDuration,R="none"===b.transitionProperty||"0s"===k||"0s, 0s"===k||0===r.width&&0===r.height,L=new HP(this,g,i,R);g.style.transform="scale3d(1, 1, 1)",L.state=0,i.persistent||(this._mostRecentTransientRipple=L);let V=null;return!R&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const X=()=>this._finishRippleTransition(L),ie=()=>this._destroyRipple(L);g.addEventListener("transitionend",X),g.addEventListener("transitioncancel",ie),V={onTransitionEnd:X,onTransitionCancel:ie}}),this._activeRipples.set(L,V),(R||!p)&&this._finishRippleTransition(L),L}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...$P,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Xh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Pp.forEach(i=>{tf._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pI.forEach(t=>{this._triggerElement.addEventListener(t,this,Gy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=JS(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!vP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Pp.forEach(t=>tf._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&pI.forEach(t=>e.removeEventListener(t,this,Gy)))}}tf._eventManager=new wj;const mI=new u.OlP("mat-ripple-global-options");let gI=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new tf(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Vo),u.Y36(mI,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mo,mo]}),n})();const XP=["mat-button",""],Sj=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],JP=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],sR=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],bI=Q0(Y0(X0(class{constructor(n){this._elementRef=n}})));let wI=(()=>{class n extends bI{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,u.f3M)(tI),this._isFab=!1;const o=t.nativeElement.classList;for(const c of sR)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(h=>{o.add(h)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,i){if(1&t&&u.Gf(gI,5),2&t){let r;u.iGM(r=u.CRH())&&(i.ripple=r.first)}},features:[u.qOj]}),n})(),qy=(()=>{class n extends wI{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Vo),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:XP,ngContentSelectors:JP,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(u.F$t(Sj),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),u.xp6(6),u.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[gI],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),lR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mo,GP,mo]}),n})();class tw{}class Zy{}const kc="*";function nw(n,e){return{type:7,name:n,definitions:e,options:{}}}function iw(n,e=null){return{type:4,styles:e,timings:n}}function rw(n,e=null){return{type:2,steps:n,options:e}}function Dd(n){return{type:6,styles:n,offset:null}}function xI(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ky(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function cR(n){Promise.resolve().then(n)}class wg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){cR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class SI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?cR(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const ow="!";class aw{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Eg extends aw{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class II extends aw{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Lj extends aw{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class Uo{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Eg?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof II?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Lj?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lw extends Uo{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const c=o.element,h=this._document.createComment("dom-portal");c.parentNode.insertBefore(h,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let cw=(()=>{class n extends Uo{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=s=>{const o=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(he))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var AI=G(1144);const pR=["addListener","removeListener"],MI=["addEventListener","removeEventListener"],mR=["on","off"];function Ad(n,e,t,i){if((0,fo.m)(t)&&(i=t,t=void 0),i)return Ad(n,e,t).pipe(ld(i));const[r,s]=function uw(n){return(0,fo.m)(n.addEventListener)&&(0,fo.m)(n.removeEventListener)}(n)?MI.map(o=>c=>n[o](e,c,t)):function Md(n){return(0,fo.m)(n.addListener)&&(0,fo.m)(n.removeListener)}(n)?pR.map(Rc(n,e)):function kI(n){return(0,fo.m)(n.on)&&(0,fo.m)(n.off)}(n)?mR.map(Rc(n,e)):[];if(!r&&(0,AI.z)(n))return(0,As.z)(o=>Ad(o,e,t))((0,uo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ni.y(o=>{const c=(...h)=>o.next(1<h.length?h:h[0]);return r(c),()=>s(c)})}function Rc(n,e){return t=>i=>n[t](e,i)}var dw=G(4408);const Cg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Cg;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Dc.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Cg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Cg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var PI=G(7565);const _R=new class gR extends PI.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class jj extends dw.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Cg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Cg.cancelAnimationFrame(t),e._scheduled=void 0)}});let OI,RI=1;const xg={};function NI(n){return n in xg&&(delete xg[n],!0)}const FI={setImmediate(n){const e=RI++;return xg[e]=!0,OI||(OI=Promise.resolve()),OI.then(()=>NI(e)&&n()),e},clearImmediate(n){NI(n)}},{setImmediate:hw,clearImmediate:LI}=FI,Sg={setImmediate(...n){const{delegate:e}=Sg;return(e?.setImmediate||hw)(...n)},clearImmediate(n){const{delegate:e}=Sg;return(e?.clearImmediate||LI)(n)},delegate:void 0},UI=new class VI extends PI.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class BI extends dw.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Sg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Sg.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var jI=G(3532);function zI(n=0,e,t=Uy.P){let i=-1;return null!=e&&((0,jI.K)(e)?t=e:i=e),new Ni.y(r=>{let s=function yR(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function HI(n,e=Uy.z){return function Yy(n){return(0,Ui.e)((e,t)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const p=r;r=null,t.next(p)}o&&t.complete()},h=()=>{s=null,o&&t.complete()};e.subscribe((0,zn.x)(t,p=>{i=!0,r=p,s||(0,uo.Xf)(n(p)).subscribe(s=(0,zn.x)(t,c,h))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>zI(n,e))}const Hj=["contentWrapper"],$j=["*"],$I=new u.OlP("VIRTUAL_SCROLL_STRATEGY");let pw=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Yn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ni.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(HI(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ji(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Xh(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ad(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Vo),u.LFG(he,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vR=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Yn.x,this._elementScrolled=new Ni.y(o=>this.ngZone.runOutsideAngular(()=>Ad(this.elementRef.nativeElement,"scroll").pipe(Id(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Eu()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Eu()?t.left=t.right:1==Eu()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;My()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==Eu()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Eu()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(pw),u.Y36(u.R0b),u.Y36($y,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),WI=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Yn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HI(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vo),u.LFG(u.R0b),u.LFG(he,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GI=new u.OlP("VIRTUAL_SCROLLABLE");let Qy=(()=>{class n extends vR{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(pw),u.Y36(u.R0b),u.Y36($y,8))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const wR=typeof requestAnimationFrame<"u"?_R:UI;let qI=(()=>{class n extends Qy{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Vy(t)}constructor(t,i,r,s,o,c,h,p){super(t,c,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=p,this._platform=(0,u.f3M)(Vo),this._detachedSubject=new Yn.x,this._renderedRangeSubject=new Yn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ni.y(g=>this._scrollStrategy.scrolledIndexChange.subscribe(b=>Promise.resolve().then(()=>this.ngZone.run(()=>g.next(b))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Dc.w0.EMPTY,this._viewportChanges=h.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(J_(null),HI(0,wR)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Id(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function bR(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let h=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(h+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==t?o?s:r:"end"==t?o?r:s:t||("horizontal"===this.orientation?"left":"top");const c=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-c}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36($I,8),u.Y36($y,8),u.Y36(pw),u.Y36(WI),u.Y36(GI,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&u.Gf(Hj,7),2&t){let r;u.iGM(r=u.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[u._Bn([{provide:vR,useFactory:(e,t)=>e||t,deps:[[new u.FiY,new u.tBr(GI)],n]}]),u.qOj,u.jDz],ngContentSelectors:$j,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(3),u.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),YI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Xy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[xu,YI,qI,xu,YI]}),n})();var Op=G(6451);const Ig=My();class Yj{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Hr(-this._previousScrollPosition.left),e.style.top=Hr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Ig&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ig&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Qj{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(ji(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class CR{enable(){}disable(){}attach(){}}function Jy(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function QI(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xR{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Jy(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let SR=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new CR,this.close=o=>new Qj(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Yj(this._viewportRuler,this._document),this.reposition=o=>new xR(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pw),u.LFG(WI),u.LFG(u.R0b),u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XI{constructor(e){if(this.scrollStrategy=new CR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class JI{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let mw=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gw=(()=>{class n extends mw{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ez=(()=>{class n extends mw{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Cu(s)},this._clickListener=s=>{const o=Cu(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const g=h[p];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(g.overlayElement.contains(o)||g.overlayElement.contains(c))break;const b=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(s)):b.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(Vo),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_w=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ky()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),ky()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(Vo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yw{constructor(e,t,i,r,s,o,c,h,p,g=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=g,this._backdropElement=null,this._backdropClick=new Yn.x,this._attachments=new Yn.x,this._detachments=new Yn.x,this._locationChanges=Dc.w0.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new Yn.x,this._outsidePointerEvents=new Yn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_s(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Hr(this._config.width),e.height=Hr(this._config.height),e.minWidth=Hr(this._config.minWidth),e.minHeight=Hr(this._config.minHeight),e.maxWidth=Hr(this._config.maxWidth),e.maxHeight=Hr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Mp(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Id((0,Op.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const eT="cdk-overlay-connected-position-bounding-box",DR=/([A-Za-z%]+)$/;class tz{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yn.x,this._resizeSubscription=Dc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(eT),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let h=this._getOriginPoint(e,r,c),p=this._getOverlayPoint(h,t,c),g=this._getOverlayFit(p,t,i,c);if(g.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,h);this._canFitWithFlexibleDimensions(g,p,i)?s.push({position:c,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,c)}):(!o||o.overlayFit.visibleArea<g.visibleArea)&&(o={overlayFit:g,overlayPoint:p,originPoint:h,position:c,overlayRect:t})}if(s.length){let c=null,h=-1;for(const p of s){const g=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);g>h&&(h=g,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Np(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(eT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r="start"==i.originX?o:c}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=nT(t);let{x:o,y:c}=e,h=this._getOffset(r,"x"),p=this._getOffset(r,"y");h&&(o+=h),p&&(c+=p);let C=0-c,k=c+s.height-i.height,R=this._subtractOverflows(s.width,0-o,o+s.width-i.width),L=this._subtractOverflows(s.height,C,k),V=R*L;return{visibleArea:V,isCompletelyWithinViewport:s.width*s.height===V,fitsInViewportVertically:L===s.height,fitsInViewportHorizontally:R==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=tT(this._overlayRef.getConfig().minHeight),c=tT(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=nT(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),c=Math.max(e.y+r.height-s.height,0),h=Math.max(s.top-i.top-e.y,0),p=Math.max(s.left-i.left-e.x,0);let g=0,b=0;return g=r.width<=s.width?p||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,b=r.height<=s.height?h||-c:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:g,y:b},{x:e.x+g,y:e.y+b}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new JI(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,c,g,b,C;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)c=i.height-e.y+2*this._viewportMargin,s=i.height-c+this._viewportMargin;else{const k=Math.min(i.bottom-e.y+i.top,e.y),R=this._lastBoundingBoxSize.height;s=2*k,o=e.y-k,s>R&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-R/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)C=i.width-e.x+this._viewportMargin,g=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)b=e.x,g=i.right-e.x;else{const k=Math.min(i.right-e.x+i.left,e.x),R=this._lastBoundingBoxSize.width;g=2*k,b=e.x-k,g>R&&!this._isInitialRender&&!this._growAfterOpen&&(b=e.x-R/2)}return{top:o,left:b,bottom:c,right:C,width:g,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Hr(i.height),r.top=Hr(i.top),r.bottom=Hr(i.bottom),r.width=Hr(i.width),r.left=Hr(i.left),r.right=Hr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Hr(s)),o&&(r.maxWidth=Hr(o))}this._lastBoundingBoxSize=i,Np(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Np(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Np(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const g=this._viewportRuler.getViewportScrollPosition();Np(i,this._getExactOverlayY(t,e,g)),Np(i,this._getExactOverlayX(t,e,g))}else i.position="static";let c="",h=this._getOffset(t,"x"),p=this._getOffset(t,"y");h&&(c+=`translateX(${h}px) `),p&&(c+=`translateY(${p}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=Hr(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Hr(o.maxWidth):s&&(i.maxWidth="")),Np(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Hr(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Hr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QI(e,i),isOriginOutsideView:Jy(e,i),isOverlayClipped:QI(t,i),isOverlayOutsideView:Jy(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Mp(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Np(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function tT(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(DR);return t&&"px"!==t?null:parseFloat(e)}return n||null}function nT(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const AR="cdk-global-overlay-wrapper";class iz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(AR),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,h=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),p=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),g=this._xPosition,b=this._xOffset,C="rtl"===this._overlayRef.getConfig().direction;let k="",R="",L="";h?L="flex-start":"center"===g?(L="center",C?R=b:k=b):C?"left"===g||"end"===g?(L="flex-end",k=b):("right"===g||"start"===g)&&(L="flex-start",R=b):"left"===g||"start"===g?(L="flex-start",k=b):("right"===g||"end"===g)&&(L="flex-end",R=b),e.position=this._cssPosition,e.marginLeft=h?"0":k,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=h?"0":R,t.justifyContent=L,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(AR),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let rz=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new iz}flexibleConnectedTo(t){return new tz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(WI),u.LFG(he),u.LFG(Vo),u.LFG(_w))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MR=0,vw=(()=>{class n{constructor(t,i,r,s,o,c,h,p,g,b,C,k){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=h,this._document=p,this._directionality=g,this._location=b,this._outsideClickDispatcher=C,this._animationsModuleType=k}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new XI(t);return o.direction=o.direction||this._directionality.value,new yw(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+MR++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new lw(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(SR),u.LFG(_w),u.LFG(u._Vd),u.LFG(rz),u.LFG(gw),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(he),u.LFG($y),u.LFG(Xe),u.LFG(ez),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[vw],useFactory:function oz(n){return()=>n.scrollStrategies.reposition()}};let l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[vw,a],imports:[xu,DI,Xy,Xy]}),n})();function f(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2)(1,"button",3),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.action())}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.hij(" ",t.data.action," ")}}const m=["label"];function y(n,e){}const w=Math.pow(2,31)-1;class I{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Yn.x,this._afterOpened=new Yn.x,this._onAction=new Yn.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,w))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const P=new u.OlP("MatSnackBarData");class O{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),_e=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(I),u.Y36(P))},n.\u0275cmp=u.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u._uU(1),u.qZA(),u.YNc(2,f,3,1,"div",1)),2&t&&(u.xp6(1),u.hij(" ",i.data.message,"\n"),u.xp6(1),u.Q6J("ngIf",i.hasAction))},dependencies:[mr,qy,j,K,le],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const Fe={snackBarState:nw("state",[xI("void, hidden",Dd({transform:"scale(0.8)",opacity:0})),xI("visible",Dd({transform:"scale(1)",opacity:1})),Ky("* => visible",iw("150ms cubic-bezier(0, 0, 0.2, 1)")),Ky("* => void, * => hidden",iw("75ms cubic-bezier(0.4, 0.0, 1, 1)",Dd({opacity:0})))])};let at=0,bt=(()=>{class n extends Uo{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=(0,u.f3M)(he),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Yn.x,this._onExit=new Yn.x,this._onEnter=new Yn.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+at++,this.attachDomPortal=c=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),h},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(_s(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Vo),u.Y36(O))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,i){if(1&t&&u.Gf(cw,7),2&t){let r;u.iGM(r=u.CRH())&&(i._portalOutlet=r.first)}},features:[u.qOj]}),n})(),Ut=(()=>{class n extends bt{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&u.Gf(m,7),2&t){let r;u.iGM(r=u.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&u.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&u.d8E("@state",i._animationState)},features:[u.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),u.YNc(4,y,0,0,"ng-template",4),u.qZA(),u._UZ(5,"div"),u.qZA()()),2&t&&(u.xp6(5),u.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[cw],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Fe.snackBarState]}}),n})(),tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[l,DI,oo,lR,mo,mo]}),n})();const wn=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Qe(){return new O}});let Zi=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,o,c){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=c,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=u.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:i}]}),o=new Eg(this.snackBarContainerComponent,i.viewContainerRef,s),c=t.attach(o);return c.instance.snackBarConfig=i,c.instance}_attach(t,i){const r={...new O,...this._defaultConfig,...i},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),c=new I(o,s);if(t instanceof u.Rgc){const h=new II(t,null,{$implicit:r.data,snackBarRef:c});c.instance=o.attachTemplatePortal(h)}else{const h=this._createInjector(r,c),p=new Eg(t,void 0,h),g=o.attachComponentPortal(p);c.instance=g.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Id(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(c,r),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new XI;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,c=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):c?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return u.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:i},{provide:P,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vw),u.LFG(eI),u.LFG(u.zs3),u.LFG(jy),u.LFG(n,12),u.LFG(wn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Nr=(()=>{class n extends Zi{constructor(t,i,r,s,o,c){super(t,i,r,s,o,c),this.simpleSnackBarComponent=_e,this.snackBarContainerComponent=Ut,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vw),u.LFG(eI),u.LFG(u.zs3),u.LFG(jy),u.LFG(n,12),u.LFG(wn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:tn}),n})(),kR=(()=>{class n{constructor(){}transform(t,i){if(null!=i){if("ingles"==i)switch(t){case 1:return"reservasrcassets\video\video1.mp4";case 2:return"reservasrcassets\video\video2.mp4";case 3:return"reservasrcassets\video\video3.mp4";case 4:return"reservasrcassets\video\video4.mp4";case 5:return"reservasrcassets\video\video5.mp4";case 6:return"reservasrcassets\video\video6.mp4";case 7:return"reservasrcassets\video\video7.mp4"}if("portugues"==i)switch(t){case 1:return"um";case 2:return"dois";case 3:return"tr\xeas";case 4:return"quatro";case 5:return"cinco";case 6:return"seis";case 7:return"sete"}}switch(t){case 1:return"assets/video/video1.mp4";case 2:return"assets/video/video2.mp4";case 3:return"assets/video/video3.mp4";case 4:return"assets/video/video4.mp4";case 0:return"assets/video/video5.mp4";case 6:return"assets/video/video6.mp4";case 7:return"assets/video/video7.mp4"}return"assets/video/video1.mp4"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"video",type:n,pure:!0}),n})(),zZ=(()=>{class n{handleSearch(t){console.log(t)}constructor(t){this.snackBar=t,this.X=Math.round(2*Math.random()+1),this.images=[{url:"assets/images/img1.jpg",description:"PLAYA DEL CARMEN"},{url:"assets/images/img2.jpg",description:"PIRAMIDES DE EGIPTO"},{url:"assets/images/img3.jpg",description:"KIOTO JAPON"},{url:"assets/images/img4.jpg",description:"QUINTANA ROO"},{url:"assets/images/img5.jpg",description:"FESTIBAL DEL GLOBO LEON"},{url:"assets/images/img6.jpg",description:"MADRID ESPA\xd1A"}]}openSnackBar(t,i){this.snackBar.open(t,i)}onRightClick(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:54,vars:4,consts:[["id","home1"],[1,"title"],[1,"subtitle"],["id","carouselExampleControls","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/images/car1.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","assets/images/car2.jpg","alt","...",1,"d-block","w-100"],["src","assets/images/car3.jpg","alt","...",1,"d-block","w-100"],["src","assets/images/car4.jpg","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselExampleControls","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleControls","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"titlegaleria"],[2,"display","flex","align-items","center","justify-content","center","height","100vh","margin-top","-50px",3,"contextmenu"],[1,"card"],["src","/assets/images/seul.jpg","alt","Image 1"],[2,"font-family","'Times New Roman', Times, serif"],["src","/assets/images/img1.jpg","alt","Image 2"],["width","500","height","500","controls",""],["type","video/mp4",3,"src"],[1,"card",2,"margin-top","10px"],["src","/assets/images/img4.jpg","alt","Image 3"],["src","/assets/images/img3.jpg","alt","Image 4"],["mat-raised-button","","color","warn",1,"mat-medium",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"ESCAPE"),u.qZA(),u.TgZ(4,"h3",2),u._uU(5,"Agrega m\xe1s aventura a tu vida"),u.qZA()(),u._UZ(6,"br"),u.TgZ(7,"div",3)(8,"div",4)(9,"div",5),u._UZ(10,"img",6),u.qZA(),u.TgZ(11,"div",7),u._UZ(12,"img",8),u.qZA(),u.TgZ(13,"div",7),u._UZ(14,"img",9),u.qZA(),u.TgZ(15,"div",7),u._UZ(16,"img",10),u.qZA()(),u.TgZ(17,"button",11),u._UZ(18,"span",12),u.TgZ(19,"span",13),u._uU(20,"Previous"),u.qZA()(),u.TgZ(21,"button",14),u._UZ(22,"span",15),u.TgZ(23,"span",13),u._uU(24,"Next"),u.qZA()()(),u.TgZ(25,"div",16),u._UZ(26,"br")(27,"br"),u.TgZ(28,"h4"),u._uU(29,"VIDEOS DE NUESTROS TOURS"),u.qZA(),u.TgZ(30,"h6"),u._uU(31,"\xa1Invertir en viajar es invertir en uno mismo!"),u.qZA()(),u.TgZ(32,"div",17),u.NdJ("contextmenu",function(){return i.onRightClick()}),u.TgZ(33,"div",18),u._UZ(34,"img",19),u.TgZ(35,"p",20),u._uU(36,"SEUL"),u.qZA(),u._UZ(37,"img",21),u.TgZ(38,"p",20),u._uU(39,"CANCUN"),u.qZA()(),u.TgZ(40,"li"),u._uU(41),u.TgZ(42,"video",22),u._UZ(43,"source",23),u.ALo(44,"video"),u.qZA()(),u.TgZ(45,"div",24),u._UZ(46,"img",25),u.TgZ(47,"p",20),u._uU(48,"QUINTANA ROO"),u.qZA(),u._UZ(49,"img",26),u.TgZ(50,"p",20),u._uU(51,"JAPON"),u.qZA()()(),u.TgZ(52,"button",27),u.NdJ("click",function(){return i.openSnackBar("EMPIEZA A VIVIR TU VIAJE","Cerrar")}),u._uU(53," SUSCRIBETE\n"),u.qZA()()),2&t&&(u.xp6(41),u.hij(" ",i.X," "),u.xp6(2),u.Q6J("src",u.lcZ(44,2,i.X),u.LSH))},dependencies:[qy,kR],styles:["@media (min-width: 576px){.card-columns[_ngcontent-%COMP%]{column-count:2}}@media (min-width: 768px){.card-columns[_ngcontent-%COMP%]{column-count:3}}@media (min-width: 992px){.card-columns[_ngcontent-%COMP%]{column-count:4}}@media (min-width: 1200px){.card-columns[_ngcontent-%COMP%]{column-count:5}}.title[_ngcontent-%COMP%]{text-align:center;font-size:48px;color:#000;font-weight:700;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,1);animation:_ngcontent-%COMP%_titleAnimation 2s linear infinite}@keyframes _ngcontent-%COMP%_titleAnimation{0%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}to{transform:scale(1);opacity:1}}.subtitle[_ngcontent-%COMP%]{font-style:italic;margin-top:10px;font-size:24px;color:gray;text-shadow:1px 1px 2px rgba(0,0,0,.5);font-family:Arial Black,sans-serif;background:linear-gradient(0deg,hsl(316,100%,51%),#009dff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-rendering:optimizeLegibility}.titlegaleria[_ngcontent-%COMP%]{text-align:center}.my-video[_ngcontent-%COMP%]{border:none}.gallery[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:50px;margin-right:50px}.card[_ngcontent-%COMP%]{width:calc(33.33% - 10px);margin:5px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}#home1[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#c7e6ff,#9ad4ff,#5bc0de,#4ca8d7,#79d6f2)}"]}),n})();var HZ=G(5226),az=G.n(HZ);function $Z(n,e){if(1&n&&(u.TgZ(0,"tr",28)(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.nombre1),u.xp6(2),u.Oqu(t.comentario1)}}const lz=function(n){return{visibility:n}};function WZ(n,e){if(1&n&&(u.TgZ(0,"div",25)(1,"table")(2,"thead")(3,"tr")(4,"th",26),u._uU(5,"Nombre"),u.qZA(),u.TgZ(6,"th",26),u._uU(7,"Comentario"),u.qZA()()(),u.TgZ(8,"tbody"),u.YNc(9,$Z,5,2,"tr",27),u.qZA()()()),2&n){const t=u.oxw();u.Q6J("ngStyle",u.VKq(2,lz,t.visibilidad1)),u.xp6(9),u.Q6J("ngForOf",t.comentarios1)}}function GZ(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u._UZ(3,"td"),u.TgZ(4,"td"),u._uU(5),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.nombre2),u.xp6(3),u.Oqu(t.comentario2)}}function qZ(n,e){if(1&n&&(u.TgZ(0,"div",29)(1,"table")(2,"thead")(3,"tr")(4,"th"),u._uU(5,"Nombre"),u.qZA(),u._UZ(6,"th"),u.TgZ(7,"th"),u._uU(8,"Comentario"),u.qZA()()(),u.TgZ(9,"tbody"),u.YNc(10,GZ,6,2,"tr",30),u.qZA()()()),2&n){const t=u.oxw();u.Q6J("ngStyle",u.VKq(2,lz,t.visibilidad2)),u.xp6(10),u.Q6J("ngForOf",t.comentarios2)}}function ZZ(n,e){}const KZ=function(){return{visibility:"visibilidad1"}};let YZ=(()=>{class n{constructor(){this.alerta="Comentarios enviados.",this.nom="",this.cor="",this.com="",this.cont1=0,this.visibilidad1="hidden",this.nom2="",this.cor2="",this.com2="",this.cont2=0,this.visibilidad2="hidden",this.comentarios1=[],this.comentarios2=[]}ngOnInit(){}agregar1(){this.comentarios1.push({id1:this.cont1,nombre1:this.nom,correo1:this.cor,comentario1:this.com}),localStorage.setItem("data",JSON.stringify(this.comentarios1)),this.cont1++,console.log(this.comentarios1),this.nom="",this.cor="",this.com="",az().fire("Enviado",this.alerta,"success")}agregar2(){this.comentarios2.push({id2:this.cont2,nombre2:this.nom2,correo2:this.cor2,comentario2:this.com2}),localStorage.setItem("data2",JSON.stringify(this.comentarios2)),this.cont2++,console.log(this.comentarios2),this.nom2="",this.cor2="",this.com2="",az().fire("Enviado",this.alerta,"success")}ver1(){this.visibilidad1="visible",this.data=localStorage.getItem(JSON.parse("data"))}ver2(){this.visibilidad2="visible"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-feedback"]],decls:95,vars:12,consts:[[1,"feedback"],[1,"title"],[1,"cajas"],[1,"contenido"],["action",""],[1,"form1","form-group"],["for","nombre"],["type","text",3,"ngModel","ngModelChange"],["for","correo"],["id","email1","type","email",3,"ngModel","ngModelChange"],["for","comentario"],["id","comentario1","type","text",3,"ngModel","ngModelChange"],["id","env1","type","submit",3,"click"],["id","mc1","type","submit",3,"click"],["class"," table tabla1",3,"ngStyle",4,"ngIf","ngIfElse"],[1,"pagina"],[1,"form2"],[1,"form2","form-group"],["id","nombre","type","text",3,"ngModel","ngModelChange"],["type","email",3,"ngModel","ngModelChange"],["id","env2","type","submit",3,"click"],["id","mc2","type","submit",3,"click"],["class"," table tabla2",3,"ngStyle",4,"ngIf","ngIfElse"],[3,"ngStyle"],["noComen",""],[1,"table","tabla1",3,"ngStyle"],["scope","col"],["scope","row",4,"ngFor","ngForOf"],["scope","row"],[1,"table","tabla2",3,"ngStyle"],[4,"ngFor","ngForOf"]],template:function(t,i){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"\xbfTienes alguna sugerencia?"),u.qZA(),u.TgZ(4,"h5"),u._uU(5,"Queremos mejorar para ti. Deja tu mensaje en la secci\xf3n correspondiente."),u.qZA(),u._UZ(6,"br")(7,"br")(8,"br"),u.qZA(),u.TgZ(9,"div",2)(10,"div",3)(11,"h5"),u._uU(12,"Para mejorar nuestro contenido."),u.qZA(),u.TgZ(13,"p"),u._uU(14,"Puedes decirnos qu\xe9 m\xe1s te gustar\xeda ver en nuestra p\xe1gina, qu\xe9 informaci\xf3n necesitas para mejorar tu experiencia."),u.qZA(),u.TgZ(15,"form",4)(16,"div",5)(17,"label",6),u._uU(18,"Nombre "),u.qZA(),u._UZ(19,"br"),u.TgZ(20,"input",7),u.NdJ("ngModelChange",function(s){return i.nom=s}),u.qZA(),u._UZ(21,"br"),u.TgZ(22,"small"),u._uU(23,"Escribe tu nombre"),u.qZA(),u._UZ(24,"br")(25,"br"),u.TgZ(26,"label",8),u._uU(27,"E-mail"),u.qZA(),u._UZ(28,"br"),u.TgZ(29,"input",9),u.NdJ("ngModelChange",function(s){return i.cor=s}),u.qZA(),u._UZ(30,"br"),u.TgZ(31,"small"),u._uU(32,"Escribe tu e-mail"),u.qZA(),u._UZ(33,"br")(34,"br"),u.TgZ(35,"label",10),u._uU(36,"Comentario"),u.qZA(),u._UZ(37,"br"),u.TgZ(38,"input",11),u.NdJ("ngModelChange",function(s){return i.com=s}),u.qZA(),u._UZ(39,"br"),u.TgZ(40,"small"),u._uU(41,"Escribe tus comentarios"),u.qZA(),u._UZ(42,"br")(43,"br"),u.TgZ(44,"button",12),u.NdJ("click",function(){return i.agregar1()}),u._uU(45,"Enviar"),u.qZA(),u._UZ(46,"br")(47,"br"),u.TgZ(48,"button",13),u.NdJ("click",function(){return i.ver1()}),u._uU(49,"Mostrar Comentarios"),u.qZA()()(),u.YNc(50,WZ,10,4,"div",14),u.qZA(),u.TgZ(51,"div",15)(52,"h5"),u._uU(53,"Para mejorar nuestra p\xe1gina."),u.qZA(),u.TgZ(54,"p"),u._uU(55,"D\xe9janos saber si encontraste alguna falla o \xe1rea de oportunidad."),u.qZA(),u.TgZ(56,"form",4)(57,"div",16)(58,"div",17)(59,"label",6),u._uU(60,"Nombre "),u.qZA(),u._UZ(61,"br"),u.TgZ(62,"input",18),u.NdJ("ngModelChange",function(s){return i.nom2=s}),u.qZA(),u._UZ(63,"br"),u.TgZ(64,"small"),u._uU(65,"Escribe tu nombre"),u.qZA(),u._UZ(66,"br")(67,"br"),u.TgZ(68,"label",8),u._uU(69,"E-mail"),u.qZA(),u._UZ(70,"br"),u.TgZ(71,"input",19),u.NdJ("ngModelChange",function(s){return i.cor2=s}),u.qZA(),u._UZ(72,"br"),u.TgZ(73,"small"),u._uU(74,"Escribe tu e-mail"),u.qZA(),u._UZ(75,"br")(76,"br"),u.TgZ(77,"label",10),u._uU(78,"Comentario"),u.qZA(),u._UZ(79,"br"),u.TgZ(80,"input",7),u.NdJ("ngModelChange",function(s){return i.com2=s}),u.qZA(),u._UZ(81,"br"),u.TgZ(82,"small"),u._uU(83,"Escribe tus comentarios"),u.qZA(),u._UZ(84,"br")(85,"br"),u.TgZ(86,"button",20),u.NdJ("click",function(){return i.agregar2()}),u._uU(87,"Enviar"),u.qZA(),u._UZ(88,"br")(89,"br"),u.TgZ(90,"button",21),u.NdJ("click",function(){return i.ver2()}),u._uU(91,"Mostrar Comentarios"),u.qZA()()()(),u.YNc(92,qZ,11,4,"div",22),u.qZA()()(),u.YNc(93,ZZ,0,0,"ng-template",23,24,u.W1O)),2&t){const r=u.MAs(94);u.xp6(20),u.Q6J("ngModel",i.nom),u.xp6(9),u.Q6J("ngModel",i.cor),u.xp6(9),u.Q6J("ngModel",i.com),u.xp6(12),u.Q6J("ngIf",i.comentarios1.length>0)("ngIfElse",r),u.xp6(12),u.Q6J("ngModel",i.nom2),u.xp6(9),u.Q6J("ngModel",i.cor2),u.xp6(9),u.Q6J("ngModel",i.com2),u.xp6(12),u.Q6J("ngIf",i.comentarios2.length>0)("ngIfElse",r),u.xp6(1),u.Q6J("ngStyle",u.DdM(11,KZ))}},dependencies:[Fs,mr,So,Sc,Oo,Oa,ua,_d,Ml],styles:[".feedback[_ngcontent-%COMP%]{background-color:#d3e0f0}.title[_ngcontent-%COMP%]{text-align:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}label[_ngcontent-%COMP%]{color:#223f34;font-weight:700}p[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}small[_ngcontent-%COMP%]{color:#5f7a70}input[_ngcontent-%COMP%]{text-align:center;border:solid white 2px;border-radius:3px;background-color:#a1b3ac}.cajas[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center;padding-bottom:25px}.contenido[_ngcontent-%COMP%], .pagina[_ngcontent-%COMP%]{border:solid 1px;border-radius:5px;padding-bottom:4px;background-color:#c6d8d2}#env1[_ngcontent-%COMP%], #mc1[_ngcontent-%COMP%], #env2[_ngcontent-%COMP%], #mc2[_ngcontent-%COMP%]{height:30px;width:180px}.table[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{border-radius:5px;border:solid white 2px}"]}),n})();function QZ(n,e){1&n&&(u.TgZ(0,"h5",2),u._uU(1," -SELECCIONADO- "),u.qZA())}let cz=(()=>{class n{constructor(t){this.router=t,this.reserve=new u.vpe}reserveTours(){localStorage.setItem("tourSelection",this.tour.name),this.router.navigate(["reserva"])}getSelectedTour(){return localStorage.getItem("tourSelection")?localStorage.getItem("tourSelection"):"Ninguno"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tourlist"]],inputs:{tour:"tour"},outputs:{reserve:"reserve"},decls:9,vars:3,consts:[["style","color: red;",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[2,"color","red"]],template:function(t,i){1&t&&(u.YNc(0,QZ,2,0,"h5",0),u.TgZ(1,"h2"),u._uU(2,"Detalles del Tour"),u.qZA(),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.TgZ(5,"p"),u._uU(6),u.qZA(),u.TgZ(7,"button",1),u.NdJ("click",function(){return i.reserveTours()}),u._uU(8,"Seleccionar Tour"),u.qZA()),2&t&&(u.Q6J("ngIf",i.getSelectedTour()===i.tour.name),u.xp6(4),u.hij("Nombre: ",i.tour.name,""),u.xp6(2),u.hij("Precio: $ ",i.tour.price,""))},dependencies:[mr,qy]}),n})();var os=G(4976),Oc=G(259);class ev{constructor(e){return e}}class PR{constructor(){return(0,Oc.C6)()}}const RR=new u.OlP("angularfire2._apps"),JZ={provide:ev,useFactory:function XZ(n){return n&&1===n.length?n[0]:new ev((0,Oc.Mq)())},deps:[[new u.FiY,RR]]},e9={provide:PR,deps:[[new u.FiY,RR]]};function t9(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ev(i)}}let n9=(()=>{class n{constructor(t){(0,Oc.KN)("angularfire",os.q4.full,"core"),(0,Oc.KN)("angularfire",os.q4.full,"app"),(0,Oc.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[JZ,e9]}),n})();function i9(n,...e){return{ngModule:n9,providers:[{provide:RR,useFactory:t9(n),multi:!0,deps:[u.R0b,u.zs3,os.HU,...e]}]}}const r9=(0,os.u3)(Oc.ZF,!0);var Oe=G(5861),ks=G(6881),tv=G(4859),ae=G(2090),Ha=G(1877);const OR=new Map,uz={activated:!1,tokenObservers:[]},s9={initialized:!1,enabled:!1};function $r(n){return OR.get(n)||Object.assign({},uz)}function iT(){return s9}const NR="https://content-firebaseappcheck.googleapis.com/v1",c9="exchangeDebugToken",dz={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class d9{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Oe.Z)(function*(){t.stop();try{t.pending=new ae.BH,yield function h9(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ae.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const go=new ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function FR(n){if(!$r(n).activated)throw go.create("use-before-activation",{appName:n.name})}function oT(n,e){return BR.apply(this,arguments)}function BR(){return(BR=(0,Oe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const b=yield r.getHeartbeatsHeader();b&&(i["X-Firebase-Client"]=b)}const s={method:"POST",body:JSON.stringify(e),headers:i};let o,c;try{o=yield fetch(n,s)}catch(b){throw go.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==o.status)throw go.create("fetch-status-error",{httpStatus:o.status});try{c=yield o.json()}catch(b){throw go.create("fetch-parse-error",{originalErrorMessage:b?.message})}const h=c.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw go.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const p=1e3*Number(h[1]),g=Date.now();return{token:c.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})).apply(this,arguments)}function hz(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${NR}/projects/${t}/apps/${i}:${c9}?key=${r}`,body:{debug_token:e}}}const g9="firebase-app-check-database",_9=1,bw="firebase-app-check-store";let aT=null;function mz(n,e){return VR.apply(this,arguments)}function VR(){return(VR=(0,Oe.Z)(function*(n,e){const i=(yield function pz(){return aT||(aT=new Promise((n,e)=>{try{const t=indexedDB.open(g9,_9);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(go.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(bw,{keyPath:"compositeKey"})}}catch(t){e(go.create("storage-open",{originalErrorMessage:t?.message}))}}),aT)}()).transaction(bw,"readwrite"),s=i.objectStore(bw).put({compositeKey:n,value:e});return new Promise((o,c)=>{s.onsuccess=h=>{o()},i.onerror=h=>{var p;c(go.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const ww=new Ha.Yd("@firebase/app-check");function zR(n,e){return(0,ae.hl)()?function v9(n,e){return mz(function _z(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ww.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $R(){return iT().enabled}function WR(){return GR.apply(this,arguments)}function GR(){return(GR=(0,Oe.Z)(function*(){const n=iT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const S9={error:"UNKNOWN_ERROR"};function I9(n){return ae.US.encodeString(JSON.stringify(n),!1)}function lT(n){return qR.apply(this,arguments)}function qR(){return(qR=(0,Oe.Z)(function*(n,e=!1){const t=n.app;FR(t);const i=$r(t);let s,r=i.token;if(r&&!nv(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(nv(h)?r=h:yield zR(t,void 0))}if(!e&&r&&nv(r))return{token:r.token};let c,o=!1;if($R()){i.exchangeTokenPromise||(i.exchangeTokenPromise=oT(hz(t,yield WR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const h=yield i.exchangeTokenPromise;return yield zR(t,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield $r(t).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?ww.warn(h.message):ww.error(h),s=h}return r?s?c=nv(r)?{token:r.token,internalError:s}:wz(s):(c={token:r.token},i.token=r,yield zR(t,r)):c=wz(s),o&&function bz(n,e){const t=$r(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,c),c})).apply(this,arguments)}function yz(n){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,Oe.Z)(function*(n){const e=n.app;FR(e);const{provider:t}=$r(e);if($R()){const i=yield WR(),{token:r}=yield oT(hz(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function YR(n,e){const t=$r(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function vz(n){const{app:e}=n,t=$r(e);let i=t.tokenRefresher;i||(i=function T9(n){const{app:e}=n;return new d9((0,Oe.Z)(function*(){let i;if(i=$r(e).token?yield lT(n,!0):yield lT(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=$r(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},dz.RETRIAL_MIN_WAIT,dz.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nv(n){return n.expireTimeMillis-Date.now()>0}function wz(n){return{token:I9(S9),error:n}}class D9{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=$r(this.app);for(const t of e)YR(this.app,t.next);return Promise.resolve()}}const Az="app-check-internal";!function z9(){(0,ks._registerComponent)(new tv.wA("app-check",n=>function A9(n,e){return new D9(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Az).initialize()})),(0,ks._registerComponent)(new tv.wA(Az,n=>function M9(n){return{getToken:e=>lT(n,e),getLimitedUseToken:()=>yz(n),addTokenListener:e=>function KR(n,e,t,i){const{app:r}=n,s=$r(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&nv(s.token)){const c=s.token;Promise.resolve().then(()=>{t({token:c.token}),vz(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>vz(n))}(n,"INTERNAL",e),removeTokenListener:e=>YR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ks.registerVersion)("@firebase/app-check","0.8.0")}();class uT{constructor(){return(0,os.vb)("app-check")}}typeof window<"u"&&window;var q9=G(1389);class tO{constructor(e){return e}}class Pz{constructor(){return(0,os.vb)("auth")}}const nO=new u.OlP("angularfire2.auth-instances");function K9(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new tO(i)}}const Y9={provide:Pz,deps:[[new u.FiY,nO]]},Q9={provide:tO,useFactory:function Z9(n,e){const t=(0,os.JM)("auth",n,e);return t&&new tO(t)},deps:[[new u.FiY,nO],ev]};let X9=(()=>{class n{constructor(){(0,Oc.KN)("angularfire",os.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Q9,Y9]}),n})();function J9(n,...e){return{ngModule:X9,providers:[{provide:nO,useFactory:K9(n),multi:!0,deps:[u.R0b,u.zs3,os.HU,PR,[new u.FiY,uT],...e]}]}}const eK=(0,os.u3)(q9.o,!0),Rz="@firebase/database";let iO="";class nK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ae.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ae.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class iK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ae.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Nz=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nK(e)}}catch{}return new iK},Tg=Nz("localStorage"),rO=Nz("sessionStorage"),iv=new Ha.Yd("@firebase/database"),Fz=function(){let n=1;return function(){return n++}}(),Lz=function(n){const e=(0,ae.dS)(n),t=new ae.gQ;t.update(e);const i=t.digest();return ae.US.encodeByteArray(i)},Ew=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Ew.apply(null,i):e+="object"==typeof i?(0,ae.Wl)(i):i,e+=" "}return e};let Dg=null,Bz=!0;const Gs=function(...n){if(!0===Bz&&(Bz=!1,null===Dg&&!0===rO.get("logging_enabled")&&function(n,e){(0,ae.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(iv.logLevel=Ha.in.VERBOSE,Dg=iv.log.bind(iv),e&&rO.set("logging_enabled",!0)):"function"==typeof n?Dg=n:(Dg=null,rO.remove("logging_enabled"))}(!0)),Dg){const e=Ew.apply(null,n);Dg(e)}},Cw=function(n){return function(...e){Gs(n,...e)}},sO=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ew(...n);iv.error(e)},kd=function(...n){const e=`FIREBASE FATAL ERROR: ${Ew(...n)}`;throw iv.error(e),new Error(e)},jo=function(...n){const e="FIREBASE WARNING: "+Ew(...n);iv.warn(e)},dT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Fp="[MIN_NAME]",nf="[MAX_NAME]",Ag=function(n,e){if(n===e)return 0;if(n===Fp||e===nf)return-1;if(e===Fp||n===nf)return 1;{const t=zz(n),i=zz(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},oK=function(n,e){return n===e?0:n<e?-1:1},xw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ae.Wl)(e))},oO=function(n){if("object"!=typeof n||null===n)return(0,ae.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,ae.Wl)(e[i]),t+=":",t+=oO(n[e[i]]);return t+="}",t},Uz=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function qs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const jz=function(n){(0,ae.hu)(!dT(n),"Invalid JSON number");const i=1023;let r,s,o,c,h;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,o=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);for(h=11;h;h-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(r?1:0),p.reverse();const g=p.join("");let b="";for(h=0;h<64;h+=8){let C=parseInt(g.substr(h,8),2).toString(16);1===C.length&&(C="0"+C),b+=C}return b.toLowerCase()},uK=new RegExp("^-?(0*)\\d{1,10}$"),zz=function(n){if(uK.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},rv=function(n){try{n()}catch(e){setTimeout(()=>{throw jo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},fK=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sw=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class pK{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){jo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mK{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Gs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jo(e)}}let Iw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const qz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yz="websocket",Qz="long_polling";class lO{constructor(e,t,i,r,s=!1,o="",c=!1,h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Xz(n,e,t){let i;if((0,ae.hu)("string"==typeof e,"typeof type must == string"),(0,ae.hu)("object"==typeof t,"typeof params must == object"),e===Yz)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Qz)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function gK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return qs(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class _K{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ae.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ae.p$)(this.counters_)}}const cO={},uO={};function dO(n){const e=n.toString();return cO[e]||(cO[e]=new _K),cO[e]}class vK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&rv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Lp{constructor(e,t,i,r,s,o,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cw(e),this.stats_=dO(t),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),Xz(t,Qz,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ae.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hO((...s)=>{const[o,c,h,p,g]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=h;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&qz.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lp.forceAllow_=!0}static forceDisallow(){Lp.forceDisallow_=!0}static isAvailable(){return!((0,ae.Yr)()||!Lp.forceAllow_&&(Lp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ae.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,ae.h$)(t),r=Uz(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ae.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ae.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class hO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ae.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Fz(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=hO.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Gs("frame writing exception"),c.stack&&Gs(c.stack),Gs(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Gs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,ae.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Gs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let fT=null;typeof MozWebSocket<"u"?fT=MozWebSocket:typeof WebSocket<"u"&&(fT=WebSocket);let sv=(()=>{class n{constructor(t,i,r,s,o,c,h){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cw(this.connId),this.stats_=dO(i),this.connURL=n.connectionURL_(i,c,h,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){const c={v:"5"};return!(0,ae.Yr)()&&typeof location<"u"&&location.hostname&&qz.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),o&&(c.p=o),Xz(t,Yz,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tg.set("previous_websocket_failure",!0);try{let r;if((0,ae.Yr)()){r={headers:{"User-Agent":`Firebase/5/${iO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,c=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new fT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==fT&&!n.forceDisallow_}static previouslyFailed(){return Tg.isInMemoryStorage||!0===Tg.get("previous_websocket_failure")}markConnectionHealthy(){Tg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ae.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ae.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,ae.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Uz(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),sH=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Lp,sv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=sv&&sv.isAvailable();let r=i&&!sv.previouslyFailed();if(t.webSocketOnly&&(i||jo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sv];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class hH{constructor(e,t,i,r,s,o,c,h,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cw("c:"+this.id+":"),this.transportManager_=new sH(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Sw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xw("t",e),i=xw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xw("t",e),i=xw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xw("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?sO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&jo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Sw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fH{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class pH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ae.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,ae.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class pT extends pH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ae.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pT}getInitialEvent(e){return(0,ae.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const mH=32,gH=768;class yi{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ci(){return new yi("")}function Vn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Bp(n){return n.pieces_.length-n.pieceNum_}function zi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new yi(n.pieces_,e)}function pO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Tw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function _H(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new yi(e,0)}function br(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof yi)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new yi(t,0)}function Un(n){return n.pieceNum_>=n.pieces_.length}function ha(n,e){const t=Vn(n),i=Vn(e);if(null===t)return e;if(t===i)return ha(zi(n),zi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function mO(n,e){if(Bp(n)!==Bp(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Nc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Bp(n)>Bp(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class zK{constructor(e,t){this.errorPrefix_=t,this.parts_=Tw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ae.ug)(this.parts_[i]);yH(this)}}function yH(n){if(n.byteLength_>gH)throw new Error(n.errorPrefix_+"has a key path longer than "+gH+" bytes ("+n.byteLength_+").");if(n.parts_.length>mH)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+mH+") or object contains a cycle "+Mg(n))}function Mg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class gO extends pH{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new gO}getInitialEvent(e){return(0,ae.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Dw=1e3;let gT,kg=(()=>{class n extends fH{constructor(t,i,r,s,o,c,h,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=Cw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,ae.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&pT.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_((0,ae.Wl)(o)),(0,ae.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new ae.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;"ok"===c.s?i.resolve(h):i.reject(h)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),(0,ae.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ae.hu)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,h=>{const p=h.d,g=h.s;n.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",h),"ok"!==g&&this.removeListen_(r,s),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,ae.r3)(t,"w")){const r=(0,ae.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();jo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ae.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,ae.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,ae.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const c={p:i,d:r};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ae.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):sO("Unrecognized action received from server: "+(0,ae.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ae.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Dw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Dw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Oe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,c=t.lastSessionId;let h=!1,p=null;const g=function(){p?p.close():(h=!0,s())};t.realtime_={close:g,sendRequest:function(k){(0,ae.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(k)}};const C=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[k,R]=yield Promise.all([t.authTokenProvider_.getToken(C),t.appCheckTokenProvider_.getToken(C)]);h?Gs("getToken() completed but was canceled"):(Gs("getToken() completed. Creating connection."),t.authToken_=k&&k.accessToken,t.appCheckToken_=R&&R.token,p=new hH(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,L=>{jo(L+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},c))}catch(k){t.log_("Failed to get token: "+k),h||(t.repoInfo_.nodeAdmin&&jo(k),g())}}})()}interrupt(t){Gs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Gs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ae.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Dw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(o=>oO(o)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new yi(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Gs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Gs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,ae.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+iO.replace(/\./g,"-")]=1,(0,ae.uI)()?t["framework.cordova"]=1:(0,ae.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=pT.getInstance().currentlyOnline();return(0,ae.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class jn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new jn(e,t)}}class mT{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new jn(Fp,e),r=new jn(Fp,t);return 0!==this.compare(i,r)}minPost(){return jn.MIN}}class wH extends mT{static get __EMPTY_NODE(){return gT}static set __EMPTY_NODE(e){gT=e}compare(e,t){return Ag(e.name,t.name)}isDefinedOn(e){throw(0,ae.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return jn.MIN}maxPost(){return new jn(nf,gT)}makePost(e,t){return(0,ae.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new jn(e,gT)}toString(){return".key"}}const Pd=new wH;class _T{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let yO,Iu=(()=>{class n{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??$a.EMPTY_NODE,this.right=o??$a.EMPTY_NODE}copy(t,i,r,s,o){return new n(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return $a.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return $a.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class $a{constructor(e,t=$a.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new $a(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Iu.BLACK,null,null))}remove(e){return new $a(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Iu.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _T(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new _T(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new _T(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new _T(this.root_,null,this.comparator_,!0,e)}}function YK(n,e){return Ag(n.name,e.name)}function _O(n,e){return Ag(n,e)}$a.EMPTY_NODE=new class KK{copy(e,t,i,r,s){return this}insert(e,t,i){return new Iu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const EH=function(n){return"number"==typeof n?"number:"+jz(n):"string:"+n},CH=function(n){if(n.isLeafNode()){const e=n.val();(0,ae.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ae.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ae.hu)(n===yO||n.isEmpty(),"priority of unexpected type.");(0,ae.hu)(n===yO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xH,SH,IH,ov=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,ae.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),CH(this.priorityNode_)}static set __childrenNodeConstructor(t){xH=t}static get __childrenNodeConstructor(){return xH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Un(t)?this:".priority"===Vn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Vn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ae.hu)(".priority"!==r||1===Bp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(zi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+EH(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?jz(this.value_):this.value_,this.lazyHash_=Lz(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ae.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ae.hu)(s>=0,"Unknown leaf type: "+i),(0,ae.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ki=new class eY extends mT{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Ag(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return jn.MIN}maxPost(){return new jn(nf,new ov("[PRIORITY-POST]",IH))}makePost(e,t){const i=SH(e);return new jn(t,new ov("[PRIORITY-POST]",i))}toString(){return".priority"}},tY=Math.log(2);class nY{constructor(e){this.count=parseInt(Math.log(e+1)/tY,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yT=function(n,e,t,i){n.sort(e);const r=function(h,p){const g=p-h;let b,C;if(0===g)return null;if(1===g)return b=n[h],C=t?t(b):b,new Iu(C,b.node,Iu.BLACK,null,null);{const k=parseInt(g/2,10)+h,R=r(h,k),L=r(k+1,p);return b=n[k],C=t?t(b):b,new Iu(C,b.node,Iu.BLACK,R,L)}},c=function(h){let p=null,g=null,b=n.length;const C=function(R,L){const V=b-R,X=b;b-=R;const ie=r(V+1,X),pe=n[V],ve=t?t(pe):pe;k(new Iu(ve,pe.node,L,null,ie))},k=function(R){p?(p.left=R,p=R):(g=R,p=R)};for(let R=0;R<h.count;++R){const L=h.nextBitIsOne(),V=Math.pow(2,h.count-(R+1));L?C(V,Iu.BLACK):(C(V,Iu.BLACK),C(V,Iu.RED))}return g}(new nY(n.length));return new $a(i||e,c)};let vO;const av={};class rf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ae.hu)(av&&Ki,"ChildrenNode.ts has not been loaded"),vO=vO||new rf({".priority":av},{".priority":Ki}),vO}get(e){const t=(0,ae.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $a?t:null}hasIndex(e){return(0,ae.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ae.hu)(e!==Pd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(jn.Wrap);let c,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();c=r?yT(i,e.getCompare()):av;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new rf(g,p)}addToIndexes(e,t){const i=(0,ae.UI)(this.indexes_,(r,s)=>{const o=(0,ae.DV)(this.indexSet_,s);if((0,ae.hu)(o,"Missing index implementation for "+s),r===av){if(o.isDefinedOn(e.node)){const c=[],h=t.getIterator(jn.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&c.push(p),p=h.getNext();return c.push(e),yT(c,o.getCompare())}return av}{const c=t.get(e.name);let h=r;return c&&(h=h.remove(new jn(e.name,c))),h.insert(e,e.node)}});return new rf(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,ae.UI)(this.indexes_,r=>{if(r===av)return r;{const s=t.get(e.name);return s?r.remove(new jn(e.name,s)):r}});return new rf(i,this.indexSet_)}}let Aw,Tn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CH(this.priorityNode_),this.children_.isEmpty()&&(0,ae.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Aw||(Aw=new n(new $a(_O),null,rf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Aw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Aw:i}}getChild(t){const i=Vn(t);return null===i?this:this.getImmediateChild(i).getChild(zi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,ae.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new jn(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?Aw:this.priorityNode_;return new n(s,c,o)}}updateChild(t,i){const r=Vn(t);if(null===r)return i;{(0,ae.hu)(".priority"!==Vn(t)||1===Bp(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(zi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(Ki,(c,h)=>{i[c]=h.val(t),r++,o&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!t&&o&&s<2*r){const c=[];for(const h in i)c[h]=i[h];return c}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+EH(this.getPriority().val())+":"),this.forEachChild(Ki,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":Lz(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new jn(t,i));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new jn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new jn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,jn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,jn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Mw?-1:0}withIndex(t){if(t===Pd||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Pd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ki),s=i.getIterator(Ki);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(t){return t===Pd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Mw=new class iY extends Tn{constructor(){super(new $a(_O),Tn.EMPTY_NODE,rf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Tn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(jn,{MIN:{value:new jn(Fp,Tn.EMPTY_NODE)},MAX:{value:new jn(nf,Mw)}}),wH.__EMPTY_NODE=Tn.EMPTY_NODE,ov.__childrenNodeConstructor=Tn,function QK(n){yO=n}(Mw),function JK(n){IH=n}(Mw);const rY=!0;function Fr(n,e=null){if(null===n)return Tn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ae.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ov(n,Fr(e));if(n instanceof Array||!rY){let t=Tn.EMPTY_NODE;return qs(n,(i,r)=>{if((0,ae.r3)(n,i)&&"."!==i.substring(0,1)){const s=Fr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Fr(e))}{const t=[];let i=!1;if(qs(n,(o,c)=>{if("."!==o.substring(0,1)){const h=Fr(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new jn(o,h)))}}),0===t.length)return Tn.EMPTY_NODE;const s=yT(t,YK,o=>o.name,_O);if(i){const o=yT(t,Ki.getCompare());return new Tn(s,Fr(e),new rf({".priority":o},{".priority":Ki}))}return new Tn(s,Fr(e),rf.Default)}}!function XK(n){SH=n}(Fr);class bO extends mT{constructor(e){super(),this.indexPath_=e,(0,ae.hu)(!Un(e)&&".priority"!==Vn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Ag(e.name,t.name):s}makePost(e,t){const i=Fr(e),r=Tn.EMPTY_NODE.updateChild(this.indexPath_,i);return new jn(t,r)}maxPost(){const e=Tn.EMPTY_NODE.updateChild(this.indexPath_,Mw);return new jn(nf,e)}toString(){return Tw(this.indexPath_,0).join("/")}}const wO=new class sY extends mT{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Ag(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return jn.MIN}maxPost(){return jn.MAX}makePost(e,t){const i=Fr(e);return new jn(t,i)}toString(){return".value"}};function TH(n){return{type:"value",snapshotNode:n}}function lv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function kw(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Pw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class EO{constructor(e){this.index_=e}updateChild(e,t,i,r,s,o){(0,ae.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(kw(t,c)):(0,ae.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(lv(t,i)):o.trackChildChange(Pw(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Ki,(r,s)=>{t.hasChild(r)||i.trackChildChange(kw(r,s))}),t.isLeafNode()||t.forEachChild(Ki,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Pw(r,s,o))}else i.trackChildChange(lv(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Tn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Rw{constructor(e){this.indexedFilter_=new EO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Rw.getStartPost_(e),this.endPost_=Rw.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,o){return this.matches(new jn(t,i))||(i=Tn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Tn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Tn.EMPTY_NODE);const s=this;return t.forEachChild(Ki,(o,c)=>{s.matches(new jn(o,c))||(r=r.updateImmediateChild(o,Tn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class aY{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Rw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,o){return this.rangedFilter_.matches(new jn(t,i))||(i=Tn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,o):this.fullLimitUpdateChild_(e,t,i,s,o)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Tn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Tn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),o++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(Tn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:r=r.updateImmediateChild(c.name,Tn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let o;if(this.reverse_){const b=this.index_.getCompare();o=(C,k)=>b(k,C)}else o=this.index_.getCompare();const c=e;(0,ae.hu)(c.numChildren()===this.limit_,"");const h=new jn(t,i),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(t)){const b=c.getImmediateChild(t);let C=r.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=C&&(C.name===t||c.hasChild(C.name));)C=r.getChildAfterChild(this.index_,C,this.reverse_);const k=null==C?1:o(C,h);if(g&&!i.isEmpty()&&k>=0)return s?.trackChildChange(Pw(t,i,b)),c.updateImmediateChild(t,i);{s?.trackChildChange(kw(t,b));const L=c.updateImmediateChild(t,Tn.EMPTY_NODE);return null!=C&&this.rangedFilter_.matches(C)?(s?.trackChildChange(lv(C.name,C.node)),L.updateImmediateChild(C.name,C.node)):L}}return i.isEmpty()?e:g&&o(p,h)>=0?(null!=s&&(s.trackChildChange(kw(p.name,p.node)),s.trackChildChange(lv(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(p.name,Tn.EMPTY_NODE)):e}}class CO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ki}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ae.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ae.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ae.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ki}copy(){const e=new CO;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DH(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ki?t="$priority":n.index_===wO?t="$value":n.index_===Pd?t="$key":((0,ae.hu)(n.index_ instanceof bO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ae.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,ae.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,ae.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,ae.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,ae.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function AH(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ki&&(e.i=n.index_.toString()),e}class bT extends fH{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Cw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ae.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=bT.getListenId_(e,i),c={};this.listens_[o]=c;const h=DH(e._queryParams);this.restRequest_(s+".json",h,(p,g)=>{let b=g;if(404===p&&(b=null,p=null),null===p&&this.onDataUpdate_(s,b,!1,i),(0,ae.DV)(this.listens_,o)===c){let C;C=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(C,null)}})}unlisten(e,t){const i=bT.getListenId_(e,t);delete this.listens_[i]}get(e){const t=DH(e._queryParams),i=e._path.toString(),r=new ae.BH;return this.restRequest_(i+".json",t,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ae.xO)(t);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=(0,ae.cI)(c.responseText)}catch{jo("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,h)}else 401!==c.status&&404!==c.status&&jo("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}class fY{constructor(){this.rootNode_=Tn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function wT(){return{value:null,children:new Map}}function cv(n,e,t){if(Un(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Vn(e);n.children.has(i)||n.children.set(i,wT()),cv(n.children.get(i),e=zi(e),t)}}function TO(n,e,t){null!==n.value?t(e,n.value):function pY(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{TO(r,new yi(e.toString()+"/"+i),t)})}class mY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qs(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class yY{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new mY(e);const i=1e4+2e4*Math.random();Sw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;qs(e,(r,s)=>{s>0&&(0,ae.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Sw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fc=(()=>{return(n=Fc||(Fc={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Fc;var n})();function MO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ET{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Fc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Un(this.path)){if(null!=this.affectedTree.value)return(0,ae.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yi(e));return new ET(ci(),t,this.revert)}}return(0,ae.hu)(Vn(this.path)===e,"operationForChild called for unrelated child."),new ET(zi(this.path),this.affectedTree,this.revert)}}class Ow{constructor(e,t){this.source=e,this.path=t,this.type=Fc.LISTEN_COMPLETE}operationForChild(e){return Un(this.path)?new Ow(this.source,ci()):new Ow(this.source,zi(this.path))}}class Pg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Fc.OVERWRITE}operationForChild(e){return Un(this.path)?new Pg(this.source,ci(),this.snap.getImmediateChild(e)):new Pg(this.source,zi(this.path),this.snap)}}class uv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Fc.MERGE}operationForChild(e){if(Un(this.path)){const t=this.children.subtree(new yi(e));return t.isEmpty()?null:t.value?new Pg(this.source,ci(),t.value):new uv(this.source,ci(),t)}return(0,ae.hu)(Vn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new uv(this.source,zi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Un(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class vY{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Nw(n,e,t,i,r,s){const o=i.filter(c=>c.type===t);o.sort((c,h)=>function EY(n,e,t){if(null==e.childName||null==t.childName)throw(0,ae.g5)("Should only compare child_ events.");const i=new jn(e.childName,e.snapshotNode),r=new jn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,c,h)),o.forEach(c=>{const h=function wY(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,c,s);r.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(h,n.query_))})})}function CT(n,e){return{eventCache:n,serverCache:e}}function Fw(n,e,t,i){return CT(new Vp(e,t,i),n.serverCache)}function kH(n,e,t,i){return CT(n.eventCache,new Vp(e,t,i))}function xT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Rg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let kO;class Yi{constructor(e,t=(()=>(kO||(kO=new $a(oK)),kO))()){this.value=e,this.children=t}static fromObject(e){let t=new Yi(null);return qs(e,(i,r)=>{t=t.set(new yi(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ci(),value:this.value};if(Un(e))return null;{const i=Vn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(zi(e),t);return null!=s?{path:br(new yi(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Un(e))return this;{const t=Vn(e),i=this.children.get(t);return null!==i?i.subtree(zi(e)):new Yi(null)}}set(e,t){if(Un(e))return new Yi(t,this.children);{const i=Vn(e),s=(this.children.get(i)||new Yi(null)).set(zi(e),t),o=this.children.insert(i,s);return new Yi(this.value,o)}}remove(e){if(Un(e))return this.children.isEmpty()?new Yi(null):new Yi(null,this.children);{const t=Vn(e),i=this.children.get(t);if(i){const r=i.remove(zi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Yi(null):new Yi(this.value,s)}return this}}get(e){if(Un(e))return this.value;{const t=Vn(e),i=this.children.get(t);return i?i.get(zi(e)):null}}setTree(e,t){if(Un(e))return t;{const i=Vn(e),s=(this.children.get(i)||new Yi(null)).setTree(zi(e),t);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Yi(this.value,o)}}fold(e){return this.fold_(ci(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(br(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ci(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Un(e))return null;{const s=Vn(e),o=this.children.get(s);return o?o.findOnPath_(zi(e),br(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ci(),t)}foreachOnPath_(e,t,i){if(Un(e))return this;{this.value&&i(t,this.value);const r=Vn(e),s=this.children.get(r);return s?s.foreachOnPath_(zi(e),br(t,r),i):new Yi(null)}}foreach(e){this.foreach_(ci(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(br(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Tu{constructor(e){this.writeTree_=e}static empty(){return new Tu(new Yi(null))}}function Lw(n,e,t){if(Un(e))return new Tu(new Yi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=ha(r,e);return s=s.updateChild(o,t),new Tu(n.writeTree_.set(r,s))}{const r=new Yi(t),s=n.writeTree_.setTree(e,r);return new Tu(s)}}}function PO(n,e,t){let i=n;return qs(t,(r,s)=>{i=Lw(i,br(e,r),s)}),i}function PH(n,e){if(Un(e))return Tu.empty();{const t=n.writeTree_.setTree(e,new Yi(null));return new Tu(t)}}function RO(n,e){return null!=Og(n,e)}function Og(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ha(t.path,e)):null}function RH(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ki,(i,r)=>{e.push(new jn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new jn(i,r.value))}),e}function Up(n,e){if(Un(e))return n;{const t=Og(n,e);return new Tu(null!=t?new Yi(t):n.writeTree_.subtree(e))}}function OO(n){return n.writeTree_.isEmpty()}function dv(n,e){return OH(ci(),n.writeTree_,e)}function OH(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,ae.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=OH(br(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(br(n,".priority"),i)),t}}function ST(n,e){return VH(e,n)}function DY(n,e){if(n.snap)return Nc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Nc(br(n.path,t),e))return!0;return!1}function MY(n){return n.visible}function NH(n,e,t){let i=Tu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const o=s.path;let c;if(s.snap)Nc(t,o)?(c=ha(t,o),i=Lw(i,c,s.snap)):Nc(o,t)&&(c=ha(o,t),i=Lw(i,ci(),s.snap.getChild(c)));else{if(!s.children)throw(0,ae.g5)("WriteRecord should have .snap or .children");if(Nc(t,o))c=ha(t,o),i=PO(i,c,s.children);else if(Nc(o,t))if(c=ha(o,t),Un(c))i=PO(i,ci(),s.children);else{const h=(0,ae.DV)(s.children,Vn(c));if(h){const p=h.getChild(zi(c));i=Lw(i,ci(),p)}}}}}return i}function FH(n,e,t,i,r){if(i||r){const s=Up(n.visibleWrites,e);return!r&&OO(s)?t:r||null!=t||RO(s,ci())?dv(NH(n.allWrites,function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(Nc(p.path,e)||Nc(e,p.path))},e),t||Tn.EMPTY_NODE):null}{const s=Og(n.visibleWrites,e);if(null!=s)return s;{const o=Up(n.visibleWrites,e);return OO(o)?t:null!=t||RO(o,ci())?dv(o,t||Tn.EMPTY_NODE):null}}}function IT(n,e,t,i){return FH(n.writeTree,n.treePath,e,t,i)}function NO(n,e){return function kY(n,e,t){let i=Tn.EMPTY_NODE;const r=Og(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ki,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){const s=Up(n.visibleWrites,e);return t.forEachChild(Ki,(o,c)=>{const h=dv(Up(s,new yi(o)),c);i=i.updateImmediateChild(o,h)}),RH(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return RH(Up(n.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,e)}function LH(n,e,t,i){return function PY(n,e,t,i,r){(0,ae.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=br(e,t);if(RO(n.visibleWrites,s))return null;{const o=Up(n.visibleWrites,s);return OO(o)?r.getChild(t):dv(o,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function TT(n,e){return function OY(n,e){return Og(n.visibleWrites,e)}(n.writeTree,br(n.treePath,e))}function FO(n,e,t){return function RY(n,e,t,i){const r=br(e,t),s=Og(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?dv(Up(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function BH(n,e){return VH(br(n.treePath,e),n.writeTree)}function VH(n,e){return{treePath:n,writeTree:e}}class BY{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,ae.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ae.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Pw(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,kw(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,lv(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,ae.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Pw(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const UH=new class VY{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class LO{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Vp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FO(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rg(this.viewCache_),s=function LY(n,e,t,i,r,s){return function NY(n,e,t,i,r,s,o){let c;const h=Up(n.visibleWrites,e),p=Og(h,ci());if(null!=p)c=p;else{if(null==t)return[];c=dv(h,t)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const g=[],b=o.getCompare(),C=s?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let k=C.getNext();for(;k&&g.length<r;)0!==b(k,i)&&g.push(k),k=C.getNext();return g}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function jH(n,e,t,i,r,s){const o=e.eventCache;if(null!=TT(i,t))return e;{let c,h;if(Un(t))if((0,ae.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Rg(e),b=NO(i,p instanceof Tn?p:Tn.EMPTY_NODE);c=n.filter.updateFullNode(e.eventCache.getNode(),b,s)}else{const p=IT(i,Rg(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const p=Vn(t);if(".priority"===p){(0,ae.hu)(1===Bp(t),"Can't have a priority with additional path components");const g=o.getNode();h=e.serverCache.getNode();const b=LH(i,t,g,h);c=null!=b?n.filter.updatePriority(g,b):o.getNode()}else{const g=zi(t);let b;if(o.isCompleteForChild(p)){h=e.serverCache.getNode();const C=LH(i,t,o.getNode(),h);b=null!=C?o.getNode().getImmediateChild(p).updateChild(g,C):o.getNode().getImmediateChild(p)}else b=FO(i,p,e.serverCache);c=null!=b?n.filter.updateChild(o.getNode(),p,b,g,r,s):o.getNode()}}return Fw(e,c,o.isFullyInitialized()||Un(t),n.filter.filtersNodes())}}function DT(n,e,t,i,r,s,o,c){const h=e.serverCache;let p;const g=o?n.filter:n.filter.getIndexedFilter();if(Un(t))p=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const k=h.getNode().updateChild(t,i);p=g.updateFullNode(h.getNode(),k,null)}else{const k=Vn(t);if(!h.isCompleteForPath(t)&&Bp(t)>1)return e;const R=zi(t),V=h.getNode().getImmediateChild(k).updateChild(R,i);p=".priority"===k?g.updatePriority(h.getNode(),V):g.updateChild(h.getNode(),k,V,R,UH,null)}const b=kH(e,p,h.isFullyInitialized()||Un(t),g.filtersNodes());return jH(n,b,t,r,new LO(r,b,s),c)}function BO(n,e,t,i,r,s,o){const c=e.eventCache;let h,p;const g=new LO(r,e,s);if(Un(t))p=n.filter.updateFullNode(e.eventCache.getNode(),i,o),h=Fw(e,p,!0,n.filter.filtersNodes());else{const b=Vn(t);if(".priority"===b)p=n.filter.updatePriority(e.eventCache.getNode(),i),h=Fw(e,p,c.isFullyInitialized(),c.isFiltered());else{const C=zi(t),k=c.getNode().getImmediateChild(b);let R;if(Un(C))R=i;else{const L=g.getCompleteChild(b);R=null!=L?".priority"===pO(C)&&L.getChild(_H(C)).isEmpty()?L:L.updateChild(C,i):Tn.EMPTY_NODE}h=k.equals(R)?e:Fw(e,n.filter.updateChild(c.getNode(),b,R,C,g,o),c.isFullyInitialized(),n.filter.filtersNodes())}}return h}function zH(n,e){return n.eventCache.isCompleteForChild(e)}function HH(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function VO(n,e,t,i,r,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p,h=e;p=Un(t)?i:new Yi(null).setTree(t,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((b,C)=>{if(g.hasChild(b)){const R=HH(0,e.serverCache.getNode().getImmediateChild(b),C);h=DT(n,h,new yi(b),R,r,s,o,c)}}),p.children.inorderTraversal((b,C)=>{const k=!e.serverCache.isCompleteForChild(b)&&null===C.value;if(!g.hasChild(b)&&!k){const L=HH(0,e.serverCache.getNode().getImmediateChild(b),C);h=DT(n,h,new yi(b),L,r,s,o,c)}}),h}class ZY{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new EO(i.getIndex()),s=function lY(n){return n.loadsAllData()?new EO(n.getIndex()):n.hasLimit()?new aY(n):new Rw(n)}(i);this.processor_=function UY(n){return{filter:n}}(s);const o=t.serverCache,c=t.eventCache,h=r.updateFullNode(Tn.EMPTY_NODE,o.getNode(),null),p=s.updateFullNode(Tn.EMPTY_NODE,c.getNode(),null),g=new Vp(h,o.isFullyInitialized(),r.filtersNodes()),b=new Vp(p,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=CT(b,g),this.eventGenerator_=new vY(this.query_)}get query(){return this.query_}}function QY(n,e){const t=Rg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Un(e)&&!t.getImmediateChild(Vn(e)).isEmpty())?t.getChild(e):null}function $H(n){return 0===n.eventRegistrations_.length}function WH(n,e,t){const i=[];if(t){(0,ae.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function GH(n,e,t,i){e.type===Fc.MERGE&&null!==e.source.queryId&&((0,ae.hu)(Rg(n.viewCache_),"We should always have a full cache before handling merges"),(0,ae.hu)(xT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function zY(n,e,t,i,r){const s=new BY;let o,c;if(t.type===Fc.OVERWRITE){const p=t;p.source.fromUser?o=BO(n,e,p.path,p.snap,i,r,s):((0,ae.hu)(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!Un(p.path),o=DT(n,e,p.path,p.snap,i,r,c,s))}else if(t.type===Fc.MERGE){const p=t;p.source.fromUser?o=function $Y(n,e,t,i,r,s,o){let c=e;return i.foreach((h,p)=>{const g=br(t,h);zH(e,Vn(g))&&(c=BO(n,c,g,p,r,s,o))}),i.foreach((h,p)=>{const g=br(t,h);zH(e,Vn(g))||(c=BO(n,c,g,p,r,s,o))}),c}(n,e,p.path,p.children,i,r,s):((0,ae.hu)(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),o=VO(n,e,p.path,p.children,i,r,c,s))}else if(t.type===Fc.ACK_USER_WRITE){const p=t;o=p.revert?function qY(n,e,t,i,r,s){let o;if(null!=TT(i,t))return e;{const c=new LO(i,e,r),h=e.eventCache.getNode();let p;if(Un(t)||".priority"===Vn(t)){let g;if(e.serverCache.isFullyInitialized())g=IT(i,Rg(e));else{const b=e.serverCache.getNode();(0,ae.hu)(b instanceof Tn,"serverChildren would be complete if leaf node"),g=NO(i,b)}p=n.filter.updateFullNode(h,g,s)}else{const g=Vn(t);let b=FO(i,g,e.serverCache);null==b&&e.serverCache.isCompleteForChild(g)&&(b=h.getImmediateChild(g)),p=null!=b?n.filter.updateChild(h,g,b,zi(t),c,s):e.eventCache.getNode().hasChild(g)?n.filter.updateChild(h,g,Tn.EMPTY_NODE,zi(t),c,s):h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=IT(i,Rg(e)),o.isLeafNode()&&(p=n.filter.updateFullNode(p,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=TT(i,ci()),Fw(e,p,o,n.filter.filtersNodes())}}(n,e,p.path,i,r,s):function WY(n,e,t,i,r,s,o){if(null!=TT(r,t))return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(null!=i.value){if(Un(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return DT(n,e,t,h.getNode().getChild(t),r,s,c,o);if(Un(t)){let p=new Yi(null);return h.getNode().forEachChild(Pd,(g,b)=>{p=p.set(new yi(g),b)}),VO(n,e,t,p,r,s,c,o)}return e}{let p=new Yi(null);return i.foreach((g,b)=>{const C=br(t,g);h.isCompleteForPath(C)&&(p=p.set(g,h.getNode().getChild(C)))}),VO(n,e,t,p,r,s,c,o)}}(n,e,p.path,p.affectedTree,i,r,s)}else{if(t.type!==Fc.LISTEN_COMPLETE)throw(0,ae.g5)("Unknown operation type: "+t.type);o=function GY(n,e,t,i,r){const s=e.serverCache;return jH(n,kH(e,s.getNode(),s.isFullyInitialized()||Un(t),s.isFiltered()),t,i,UH,r)}(n,e,t.path,i,s)}const h=s.getChanges();return function HY(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=xT(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(TH(xT(e)))}}(e,o,h),{viewCache:o,changes:h}}(n.processor_,r,e,t,i);return function jY(n,e){(0,ae.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ae.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ae.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,qH(n,s.changes,s.viewCache.eventCache.getNode(),null)}function qH(n,e,t,i){return function bY(n,e,t,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function oY(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Nw(n,r,"child_removed",e,i,t),Nw(n,r,"child_added",e,i,t),Nw(n,r,"child_moved",s,i,t),Nw(n,r,"child_changed",e,i,t),Nw(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let AT,kT;class ZH{constructor(){this.views=new Map}}function UO(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,ae.hu)(null!=s,"SyncTree gave us an op for an invalid query."),GH(s,e,t,i)}{let s=[];for(const o of n.views.values())s=s.concat(GH(o,e,t,i));return s}}function iQ(n,e,t,i,r,s){const o=function KH(n,e,t,i,r){const o=n.views.get(e._queryIdentifier);if(!o){let c=IT(t,r?i:null),h=!1;c?h=!0:i instanceof Tn?(c=NO(t,i),h=!1):(c=Tn.EMPTY_NODE,h=!1);const p=CT(new Vp(c,h,!1),new Vp(i,r,!1));return new ZY(e,p)}return o}(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function XY(n,e){n.eventRegistrations_.push(e)}(o,t),function JY(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ki,(s,o)=>{i.push(lv(s,o))}),t.isFullyInitialized()&&i.push(TH(t.getNode())),qH(n,i,t.getNode(),e)}(o,t)}function YH(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function jp(n,e){let t=null;for(const i of n.views.values())t=t||QY(i,e);return t}function QH(n,e){return e._queryParams.loadsAllData()?MT(n):n.views.get(e._queryIdentifier)}function XH(n,e){return null!=QH(n,e)}function zp(n){return null!=MT(n)}function MT(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let aQ=1;class JH{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Yi(null),this.pendingWriteTree_=function FY(){return{visibleWrites:Tu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jO(n,e,t,i,r){return function xY(n,e,t,i,r){(0,ae.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Lw(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?hv(n,new Pg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Hp(n,e,t=!1){const i=function IY(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function TY(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);(0,ae.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=t&&DY(c,i.path)?r=!1:Nc(i.path,c.path)&&(s=!0)),o--}return!!r&&(s?(function AY(n){n.visibleWrites=NH(n.allWrites,MY,ci()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=PH(n.visibleWrites,i.path):qs(i.children,h=>{n.visibleWrites=PH(n.visibleWrites,br(i.path,h))}),!0))}(n.pendingWriteTree_,e)){let s=new Yi(null);return null!=i.snap?s=s.set(ci(),!0):qs(i.children,o=>{s=s.set(new yi(o),!0)}),hv(n,new ET(i.path,s,t))}return[]}function Bw(n,e,t){return hv(n,new Pg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function PT(n,e,t,i,r=!1){const s=e._path,o=n.syncPointTree_.get(s);let c=[];if(o&&("default"===e._queryIdentifier||XH(o,e))){const h=function rQ(n,e,t,i){const r=e._queryIdentifier,s=[];let o=[];const c=zp(n);if("default"===r)for(const[h,p]of n.views.entries())o=o.concat(WH(p,t,i)),$H(p)&&(n.views.delete(h),p.query._queryParams.loadsAllData()||s.push(p.query));else{const h=n.views.get(r);h&&(o=o.concat(WH(h,t,i)),$H(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||s.push(h.query)))}return c&&!zp(n)&&s.push(new(function tQ(){return(0,ae.hu)(AT,"Reference.ts has not been loaded"),AT}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,i);(function nQ(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const p=h.removed;if(c=h.events,!r){const g=-1!==p.findIndex(C=>C._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(s,(C,k)=>zp(k));if(g&&!b){const C=n.syncPointTree_.subtree(s);if(!C.isEmpty()){const k=function pQ(n){return n.fold((e,t,i)=>{if(t&&zp(t))return[MT(t)];{let r=[];return t&&(r=YH(t)),qs(i,(s,o)=>{r=r.concat(o)}),r}})}(C);for(let R=0;R<k.length;++R){const L=k[R],V=L.query,X=r3(n,L);n.listenProvider_.startListening(Uw(V),Vw(n,V),X.hashFn,X.onComplete)}}}!b&&p.length>0&&!i&&(g?n.listenProvider_.stopListening(Uw(e),null):p.forEach(C=>{const k=n.queryToTagMap.get(OT(C));n.listenProvider_.stopListening(Uw(C),k)}))}!function mQ(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=OT(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function zO(n,e,t,i=!1){const r=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(C,k)=>{const R=ha(C,r);s=s||jp(k,R),o=o||zp(k)});let h,c=n.syncPointTree_.get(r);c?(o=o||zp(c),s=s||jp(c,ci())):(c=new ZH,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=s?h=!0:(h=!1,s=Tn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((k,R)=>{const L=jp(R,ci());L&&(s=s.updateImmediateChild(k,L))}));const p=XH(c,e);if(!p&&!e._queryParams.loadsAllData()){const C=OT(e);(0,ae.hu)(!n.queryToTagMap.has(C),"View does not exist, but we have a tag");const k=function gQ(){return aQ++}();n.queryToTagMap.set(C,k),n.tagToQueryMap.set(k,C)}let b=iQ(c,e,t,ST(n.pendingWriteTree_,r),s,h);if(!p&&!o&&!i){const C=QH(c,e);b=b.concat(function _Q(n,e,t){const i=e._path,r=Vw(n,e),s=r3(n,t),o=n.listenProvider_.startListening(Uw(e),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,ae.hu)(!zp(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((p,g,b)=>{if(!Un(p)&&g&&zp(g))return[MT(g).query];{let C=[];return g&&(C=C.concat(YH(g).map(k=>k.query))),qs(b,(k,R)=>{C=C.concat(R)}),C}});for(let p=0;p<h.length;++p){const g=h[p];n.listenProvider_.stopListening(Uw(g),Vw(n,g))}}return o}(n,e,C))}return b}function RT(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,c)=>{const p=jp(c,ha(o,e));if(p)return p});return FH(r,e,s,t,!0)}function hv(n,e){return t3(e,n.syncPointTree_,null,ST(n.pendingWriteTree_,ci()))}function t3(n,e,t,i){if(Un(n.path))return n3(n,e,t,i);{const r=e.get(ci());null==t&&null!=r&&(t=jp(r,ci()));let s=[];const o=Vn(n.path),c=n.operationForChild(o),h=e.children.get(o);if(h&&c){const p=t?t.getImmediateChild(o):null,g=BH(i,o);s=s.concat(t3(c,h,p,g))}return r&&(s=s.concat(UO(r,n,i,t))),s}}function n3(n,e,t,i){const r=e.get(ci());null==t&&null!=r&&(t=jp(r,ci()));let s=[];return e.children.inorderTraversal((o,c)=>{const h=t?t.getImmediateChild(o):null,p=BH(i,o),g=n.operationForChild(o);g&&(s=s.concat(n3(g,c,h,p)))}),r&&(s=s.concat(UO(r,n,i,t))),s}function r3(n,e){const t=e.query,i=Vw(n,t);return{hashFn:()=>(function KY(n){return n.viewCache_.serverCache.getNode()}(e)||Tn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function dQ(n,e,t){const i=HO(n,t);if(i){const r=$O(i),s=r.path,o=r.queryId,c=ha(s,e);return WO(n,s,new Ow(MO(o),c))}return[]}(n,t._path,i):function uQ(n,e){return hv(n,new Ow({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function cK(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return PT(n,t,null,s)}}}}function Vw(n,e){const t=OT(e);return n.queryToTagMap.get(t)}function OT(n){return n._path.toString()+"$"+n._queryIdentifier}function HO(n,e){return n.tagToQueryMap.get(e)}function $O(n){const e=n.indexOf("$");return(0,ae.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new yi(n.substr(0,e))}}function WO(n,e,t){const i=n.syncPointTree_.get(e);return(0,ae.hu)(i,"Missing sync point for query tag that we're tracking"),UO(i,t,ST(n.pendingWriteTree_,e),null)}function Uw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function oQ(){return(0,ae.hu)(kT,"Reference.ts has not been loaded"),kT}())(n._repo,n._path):n}class GO{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new GO(t)}node(){return this.node_}}class qO{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=br(this.path_,e);return new qO(this.syncTree_,t)}node(){return RT(this.syncTree_,this.path_)}}const yQ=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},s3=function(n,e,t){return n&&"object"==typeof n?((0,ae.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?vQ(n[".sv"],e,t):"object"==typeof n[".sv"]?bQ(n[".sv"],e):void(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},vQ=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ae.hu)(!1,"Unexpected server value: "+n)},bQ=function(n,e,t){n.hasOwnProperty("increment")||(0,ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ae.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,ae.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},o3=function(n,e,t,i){return KO(e,new qO(t,n),i)},ZO=function(n,e,t){return KO(n,new GO(e),t)};function KO(n,e,t){const i=n.getPriority().val(),r=s3(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,c=s3(o.getValue(),e,t);return c!==o.getValue()||r!==o.getPriority().val()?new ov(c,Fr(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new ov(r))),o.forEachChild(Ki,(c,h)=>{const p=KO(h,e.getImmediateChild(c),t);p!==h&&(s=s.updateImmediateChild(c,p))}),s}}class YO{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function NT(n,e){let t=e instanceof yi?e:new yi(e),i=n,r=Vn(t);for(;null!==r;){const s=(0,ae.DV)(i.node.children,r)||{children:{},childCount:0};i=new YO(r,i,s),t=zi(t),r=Vn(t)}return i}function Ng(n){return n.node.value}function QO(n,e){n.node.value=e,XO(n)}function a3(n){return n.node.childCount>0}function FT(n,e){qs(n.node.children,(t,i)=>{e(new YO(t,n,i))})}function l3(n,e,t,i){t&&!i&&e(n),FT(n,r=>{l3(r,e,!0,i)}),t&&i&&e(n)}function jw(n){return new yi(null===n.parent?n.name:jw(n.parent)+"/"+n.name)}function XO(n){null!==n.parent&&function CQ(n,e,t){const i=function wQ(n){return void 0===Ng(n)&&!a3(n)}(t),r=(0,ae.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,XO(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,XO(n))}(n.parent,n.name,n)}const xQ=/[\[\].#$\/\u0000-\u001F\u007F]/,SQ=/[\[\].#$\u0000-\u001F\u007F]/,JO=10485760,LT=function(n){return"string"==typeof n&&0!==n.length&&!xQ.test(n)},c3=function(n){return"string"==typeof n&&0!==n.length&&!SQ.test(n)},Rd=function(n,e,t,i){i&&void 0===e||Hw((0,ae.gK)(n,"value"),e,t)},Hw=function(n,e,t){const i=t instanceof yi?new zK(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Mg(i));if("function"==typeof e)throw new Error(n+"contains a function "+Mg(i)+" with contents = "+e.toString());if(dT(e))throw new Error(n+"contains "+e.toString()+" "+Mg(i));if("string"==typeof e&&e.length>JO/3&&(0,ae.ug)(e)>JO)throw new Error(n+"contains a string greater than "+JO+" utf8 bytes "+Mg(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(qs(e,(o,c)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!LT(o)))throw new Error(n+" contains an invalid key ("+o+") "+Mg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function HK(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ae.ug)(e),yH(n)})(i,o),Hw(n,c,i),function $K(n){const e=n.parts_.pop();n.byteLength_-=(0,ae.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Mg(i)+" in addition to actual children.")}},tN=function(n,e,t,i){if(!(i&&void 0===t||c3(t)))throw new Error((0,ae.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},DQ=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tN(n,e,t,i)},Od=function(n,e){if(".info"===Vn(e))throw new Error(n+" failed = Can't modify data under /.info/")},d3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!LT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),c3(n)}(t))throw new Error((0,ae.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class AQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function BT(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!mO(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function h3(n,e,t){BT(n,t),f3(n,i=>mO(i,e))}function Rl(n,e,t){BT(n,t),f3(n,i=>Nc(i,e)||Nc(e,i))}function f3(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(MQ(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function MQ(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Dg&&Gs("event: "+t.toString()),rv(i)}}}const p3="repo_interrupt",kQ=25;class PQ{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wT(),this.transactionQueueTree_=new YO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m3(n){const t=n.infoData_.getNode(new yi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ww(n){return yQ({timestamp:m3(n)})}function g3(n,e,t,i,r){n.dataUpdateCount++;const s=new yi(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(r)if(i){const h=(0,ae.UI)(t,p=>Fr(p));o=function hQ(n,e,t,i){const r=HO(n,i);if(r){const s=$O(r),o=s.path,c=s.queryId,h=ha(o,e),p=Yi.fromObject(t);return WO(n,o,new uv(MO(c),h,p))}return[]}(n.serverSyncTree_,s,h,r)}else{const h=Fr(t);o=function e3(n,e,t,i){const r=HO(n,i);if(null!=r){const s=$O(r),o=s.path,c=s.queryId,h=ha(o,e);return WO(n,o,new Pg(MO(c),h,t))}return[]}(n.serverSyncTree_,s,h,r)}else if(i){const h=(0,ae.UI)(t,p=>Fr(p));o=function cQ(n,e,t){const i=Yi.fromObject(t);return hv(n,new uv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,h)}else{const h=Fr(t);o=Bw(n.serverSyncTree_,s,h)}let c=s;o.length>0&&(c=pv(n,s)),Rl(n.eventQueue_,c,o)}function _3(n,e){nN(n,"connected",e),!1===e&&function LQ(n){fv(n,"onDisconnectEvents");const e=Ww(n),t=wT();TO(n.onDisconnect_,ci(),(r,s)=>{const o=o3(r,s,n.serverSyncTree_,e);cv(t,r,o)});let i=[];TO(t,ci(),(r,s)=>{i=i.concat(Bw(n.serverSyncTree_,r,s));const o=oN(n,r);pv(n,o)}),n.onDisconnect_=wT(),Rl(n.eventQueue_,ci(),i)}(n)}function nN(n,e,t){const i=new yi("/.info/"+e),r=Fr(t);n.infoData_.updateSnapshot(i,r);const s=Bw(n.infoSyncTree_,i,r);Rl(n.eventQueue_,i,s)}function VT(n){return n.nextWriteId_++}function iN(n,e,t,i,r){fv(n,"set",{path:e.toString(),value:t,priority:i});const s=Ww(n),o=Fr(t,i),c=RT(n.serverSyncTree_,e),h=ZO(o,c,s),p=VT(n),g=jO(n.serverSyncTree_,e,h,p,!0);BT(n.eventQueue_,g),n.server_.put(e.toString(),o.val(!0),(C,k)=>{const R="ok"===C;R||jo("set at "+e+" failed: "+C);const L=Hp(n.serverSyncTree_,p,!R);Rl(n.eventQueue_,e,L),function $p(n,e,t,i){e&&rv(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}(0,r,C,k)});const b=oN(n,e);pv(n,b),Rl(n.eventQueue_,b,[])}function rN(n,e,t){let i;i=".info"===Vn(e._path)?PT(n.infoSyncTree_,e,t):PT(n.serverSyncTree_,e,t),h3(n.eventQueue_,e._path,i)}function fv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Gs(t,...e)}function sN(n,e,t){return RT(n.serverSyncTree_,e,t)||Tn.EMPTY_NODE}function UT(n,e=n.transactionQueueTree_){if(e||jT(n,e),Ng(e)){const t=w3(n,e);(0,ae.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function $Q(n,e,t){const i=t.map(p=>p.currentWriteId),r=sN(n,e,i);let s=r;const o=r.hash();for(let p=0;p<t.length;p++){const g=t[p];(0,ae.hu)(0===g.status,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const b=ha(e,g.path);s=s.updateChild(b,g.currentOutputSnapshotRaw)}const c=s.val(!0),h=e;n.server_.put(h.toString(),c,p=>{fv(n,"transaction put response",{path:h.toString(),status:p});let g=[];if("ok"===p){const b=[];for(let C=0;C<t.length;C++)t[C].status=2,g=g.concat(Hp(n.serverSyncTree_,t[C].currentWriteId)),t[C].onComplete&&b.push(()=>t[C].onComplete(null,!0,t[C].currentOutputSnapshotResolved)),t[C].unwatcher();jT(n,NT(n.transactionQueueTree_,e)),UT(n,n.transactionQueueTree_),Rl(n.eventQueue_,e,g);for(let C=0;C<b.length;C++)rv(b[C])}else{if("datastale"===p)for(let b=0;b<t.length;b++)t[b].status=3===t[b].status?4:0;else{jo("transaction at "+h.toString()+" failed: "+p);for(let b=0;b<t.length;b++)t[b].status=4,t[b].abortReason=p}pv(n,e)}},o)}(n,jw(e),t)}else a3(e)&&FT(e,t=>{UT(n,t)})}function pv(n,e){const t=b3(n,e),i=jw(t);return function WQ(n,e,t){if(0===e.length)return;const i=[];let r=[];const o=e.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],p=ha(t,h.path);let b,g=!1;if((0,ae.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)g=!0,b=h.abortReason,r=r.concat(Hp(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=kQ)g=!0,b="maxretry",r=r.concat(Hp(n.serverSyncTree_,h.currentWriteId,!0));else{const C=sN(n,h.path,o);h.currentInputSnapshot=C;const k=e[c].update(C.val());if(void 0!==k){Hw("transaction failed: Data returned ",k,h.path);let R=Fr(k);"object"==typeof k&&null!=k&&(0,ae.r3)(k,".priority")||(R=R.updatePriority(C.getPriority()));const V=h.currentWriteId,X=Ww(n),ie=ZO(R,C,X);h.currentOutputSnapshotRaw=R,h.currentOutputSnapshotResolved=ie,h.currentWriteId=VT(n),o.splice(o.indexOf(V),1),r=r.concat(jO(n.serverSyncTree_,h.path,ie,h.currentWriteId,h.applyLocally)),r=r.concat(Hp(n.serverSyncTree_,V,!0))}else g=!0,b="nodata",r=r.concat(Hp(n.serverSyncTree_,h.currentWriteId,!0))}Rl(n.eventQueue_,t,r),r=[],g&&(e[c].status=2,setTimeout(e[c].unwatcher,Math.floor(0)),e[c].onComplete&&i.push("nodata"===b?()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot):()=>e[c].onComplete(new Error(b),!1,null)))}jT(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)rv(i[c]);UT(n,n.transactionQueueTree_)}(n,w3(n,t),i),i}function b3(n,e){let t,i=n.transactionQueueTree_;for(t=Vn(e);null!==t&&void 0===Ng(i);)i=NT(i,t),t=Vn(e=zi(e));return i}function w3(n,e){const t=[];return E3(n,e,t),t.sort((i,r)=>i.order-r.order),t}function E3(n,e,t){const i=Ng(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);FT(e,r=>{E3(n,r,t)})}function jT(n,e){const t=Ng(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,QO(e,t.length>0?t:void 0)}FT(e,i=>{jT(n,i)})}function oN(n,e){const t=jw(b3(n,e)),i=NT(n.transactionQueueTree_,e);return function EQ(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{aN(n,r)}),aN(n,i),l3(i,r=>{aN(n,r)}),t}function aN(n,e){const t=Ng(e);if(t){const i=[];let r=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,ae.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,ae.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(Hp(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?QO(e,void 0):t.length=s+1,Rl(n.eventQueue_,jw(e),r);for(let o=0;o<i.length;o++)rv(i[o])}}const lN=function(n,e){const t=ZQ(n),i=t.namespace;return"firebase.com"===t.domain&&kd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&kd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new yi(t.pathString)}},ZQ=function(n){let e="",t="",i="",r="",s="",o=!0,c="https",h=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");-1===g&&(g=n.length);let b=n.indexOf("?");-1===b&&(b=n.length),e=n.substring(0,Math.min(g,b)),g<b&&(r=function GQ(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(g,b)));const C=function qQ(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):jo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,b)));p=e.indexOf(":"),p>=0?(o="https"===c||"wss"===c,h=parseInt(e.substring(p+1),10)):p=e.length;const k=e.slice(0,p);if("localhost"===k.toLowerCase())t="localhost";else if(k.split(".").length<=2)t=k;else{const R=e.indexOf(".");i=e.substring(0,R).toLowerCase(),t=e.substring(R+1),s=i}"ns"in C&&(s=C.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:o,scheme:c,pathString:r,namespace:s}};class x3{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ae.Wl)(this.snapshot.exportVal())}}class S3{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cN{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,ae.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ol{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Un(this._path)?null:pO(this._path)}get ref(){return new Du(this._repo,this._path)}get _queryIdentifier(){const e=AH(this._queryParams),t=oO(e);return"{}"===t?"default":t}get _queryObject(){return AH(this._queryParams)}isEqual(e){if(!((e=(0,ae.m9)(e))instanceof Ol))return!1;const t=this._repo===e._repo,i=mO(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function UK(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Du extends Ol{constructor(e,t){super(e,t,new CO,!1)}get parent(){const e=_H(this._path);return null===e?null:new Du(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Fg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new yi(e),i=mv(this.ref,e);return new Fg(this._node.getChild(t),i,Ki)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Fg(r,mv(this.ref,i),Ki)))}hasChild(e){const t=new yi(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gw(n,e){return(n=(0,ae.m9)(n))._checkNotDeleted("ref"),void 0!==e?mv(n._root,e):n._root}function mv(n,e){return null===Vn((n=(0,ae.m9)(n))._path)?DQ("child","path",e,!1):tN("child","path",e,!1),new Du(n._repo,br(n._path,e))}function uN(n,e){n=(0,ae.m9)(n),Od("set",n._path),Rd("set",e,n._path,!1);const t=new ae.BH;return iN(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class qw{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new x3("value",this,new Fg(e.snapshotNode,new Du(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new S3(this,e,t):null}matches(e){return e instanceof qw&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $T{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new S3(this,e,t):null}createEvent(e,t){(0,ae.hu)(null!=e.childName,"Child events should have a childName.");const i=mv(new Du(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new x3(e.type,this,new Fg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof $T&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function dN(n,e,t,i){return function Zw(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const h=t,p=(g,b)=>{rN(n._repo,n,c),h(g,b)};p.userCallback=t.userCallback,p.context=t.context,t=p}const o=new cN(t,s||void 0),c="value"===e?new qw(o):new $T(e,o);return function jQ(n,e,t){let i;i=".info"===Vn(e._path)?zO(n.infoSyncTree_,e,t):zO(n.serverSyncTree_,e,t),h3(n.eventQueue_,e._path,i)}(n._repo,n,c),()=>rN(n._repo,n,c)}(n,"value",e,t,i)}(function eQ(n){(0,ae.hu)(!AT,"__referenceConstructor has already been defined"),AT=n})(Du),function sQ(n){(0,ae.hu)(!kT,"__referenceConstructor has already been defined"),kT=n}(Du);const oX="FIREBASE_DATABASE_EMULATOR_HOST",hN={};let D3=!1;class hX{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function RQ(n,e,t){if(n.stats_=dO(n.repoInfo_),n.forceRestClient_||fK())n.server_=new bT(n.repoInfo_,(i,r,s,o)=>{g3(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_3(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ae.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new kg(n.repoInfo_,e,(i,r,s,o)=>{g3(n,i,r,s,o)},i=>{_3(n,i)},i=>{!function OQ(n,e){qs(e,(t,i)=>{nN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function yK(n,e){const t=n.toString();return uO[t]||(uO[t]=e()),uO[t]}(n.repoInfo_,()=>new yY(n.stats_,n.server_)),n.infoData_=new fY,n.infoSyncTree_=new JH({startListening:(i,r,s,o)=>{let c=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(c=Bw(n.infoSyncTree_,i._path,h),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),nN(n,"connected",!1),n.serverSyncTree_=new JH({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(c,h)=>{const p=o(c,h);Rl(n.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Du(this._repo,ci())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function cX(n,e){const t=hN[e];(!t||t[n.key]!==n)&&kd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function v3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(p3)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&kd("Cannot call "+e+" on a deleted database.")}}function WT(n=(0,ks.getApp)(),e){const t=(0,ks._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=(0,ae.P0)("database");i&&function fX(n,e,t,i={}){(n=(0,ae.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&kd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&kd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Iw(Iw.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,ae.Sg)(i.mockUserToken,n.app.options.projectId);s=new Iw(o)}!function aX(n,e,t,i){n.repoInfo_=new lO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(t,...i)}return t}kg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},kg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function pX(n){(function tK(n){iO=n})(ks.SDK_VERSION),(0,ks._registerComponent)(new tv.wA("database",(e,{instanceIdentifier:t})=>function lX(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||kd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,p,o=lN(s,r),c=o.repoInfo;typeof process<"u"&&process.env&&(p=process.env[oX]),p?(h=!0,s=`http://${p}?ns=${c.namespace}`,o=lN(s,r),c=o.repoInfo):h=!o.repoInfo.secure;const g=r&&h?new Iw(Iw.OWNER):new mK(n.name,n.options,e);d3("Invalid Firebase Database URL",o),Un(o.path)||kd("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function uX(n,e,t,i){let r=hN[e.name];r||(r={},hN[e.name]=r);let s=r[n.toURLString()];return s&&kd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new PQ(n,D3,t,i),r[n.toURLString()]=s,s}(c,n,g,new pK(n.name,t));return new hX(b,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,ks.registerVersion)(Rz,"0.14.4",n),(0,ks.registerVersion)(Rz,"0.14.4","esm2017")}();class Kw{constructor(e){return e}}const M3="database",fN=new u.OlP("angularfire2.database-instances");function vX(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Kw(i)}}const bX={provide:class _X{constructor(){return(0,os.vb)(M3)}},deps:[[new u.FiY,fN]]},wX={provide:Kw,useFactory:function yX(n,e){const t=(0,os.JM)(M3,n,e);return t&&new Kw(t)},deps:[[new u.FiY,fN],ev]};let EX=(()=>{class n{constructor(){(0,Oc.KN)("angularfire",os.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[wX,bX]}),n})();function CX(n,...e){return{ngModule:EX,providers:[{provide:fN,useFactory:vX(n),multi:!0,deps:[u.R0b,u.zs3,os.HU,PR,[new u.FiY,Pz],[new u.FiY,uT],...e]}]}}const xX=(0,os.u3)(WT,!0),k3=(0,os.u3)(Gw,!0),P3=(0,os.u3)(uN,!0),Yw={firebase:{projectId:"proyectotours-93653",appId:"1:582523168482:web:b86dc1151cee57aa8ee0bb",databaseURL:"https://proyectotours-93653-default-rtdb.firebaseio.com",storageBucket:"proyectotours-93653.appspot.com",apiKey:"AIzaSyAi3Iym4JwbbfiNuB23lGGPJKWUsZwmRQk",authDomain:"proyectotours-93653.firebaseapp.com",messagingSenderId:"582523168482",measurementId:"G-0DFSKCC5D6"}};var GT=G(5363),SX=G(6063);class IX extends Yn.x{constructor(e=1/0,t=1/0,i=SX.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let c=0;for(let h=1;h<i.length&&i[h]<=o;h+=2)c=h;c&&i.splice(0,c+1)}}}var R3=G(3099);function O3(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,R3.B)({connector:()=>new IX(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function N3(n,e){return(0,fo.m)(e)?vr(()=>n,e):vr(()=>n)}var pN=G(9468),Gp=G(2011),mN=G(9260);const DX=new u.OlP("angularfire2.auth.use-emulator"),AX=new u.OlP("angularfire2.auth.settings"),MX=new u.OlP("angularfire2.auth.tenant-id"),kX=new u.OlP("angularfire2.auth.langugage-code"),PX=new u.OlP("angularfire2.auth.use-device-language"),RX=new u.OlP("angularfire.auth.persistence");let gN=(()=>{class n{constructor(t,i,r,s,o,c,h,p,g,b,C,k){const R=new Yn.x,L=Ot(void 0).pipe((0,GT.Q)(o.outsideAngular),vr(()=>s.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,9568)))),(0,Rt.U)(()=>(0,Gp.on)(t,s,i)),(0,Rt.U)(V=>((n,e,t,i,r,s,o,c)=>(0,Gp.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=e.runOutsideAngular(()=>n.auth());if(t&&h.useEmulator(...t),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),o)for(const[p,g]of Object.entries(o))h.settings[p]=g;return c&&h.setPersistence(c),h},[t,i,r,s,o,c]))(V,s,c,p,g,b,h,C)),O3({bufferSize:1,refCount:!1}));if(function il(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ot(null);else{L.pipe(pu()).subscribe();const X=L.pipe(vr(ve=>ve.getRedirectResult().then(Ee=>Ee,()=>null)),os.iC,O3({bufferSize:1,refCount:!1})),ie=L.pipe(vr(ve=>new Ni.y(Ee=>({unsubscribe:s.runOutsideAngular(()=>ve.onAuthStateChanged(De=>Ee.next(De),De=>Ee.error(De),()=>Ee.complete()))})))),pe=L.pipe(vr(ve=>new Ni.y(Ee=>({unsubscribe:s.runOutsideAngular(()=>ve.onIdTokenChanged(De=>Ee.next(De),De=>Ee.error(De),()=>Ee.complete()))}))));this.authState=X.pipe(N3(ie),(0,pN.R)(o.outsideAngular),(0,GT.Q)(o.insideAngular)),this.user=X.pipe(N3(pe),(0,pN.R)(o.outsideAngular),(0,GT.Q)(o.insideAngular)),this.idToken=this.user.pipe(vr(ve=>ve?(0,ni.D)(ve.getIdToken()):Ot(null))),this.idTokenResult=this.user.pipe(vr(ve=>ve?(0,ni.D)(ve.getIdTokenResult()):Ot(null))),this.credential=(0,Op.T)(X,R,this.authState.pipe(ji(ve=>!ve))).pipe((0,Rt.U)(ve=>ve?.user?ve:null),(0,pN.R)(o.outsideAngular),(0,GT.Q)(o.insideAngular))}return(0,Gp.pX)(this,L,s,{spy:{apply:(V,X,ie)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&ie.then(pe=>R.next(pe))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gp.Dh),u.LFG(Gp.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(os.HU),u.LFG(DX,8),u.LFG(AX,8),u.LFG(MX,8),u.LFG(kX,8),u.LFG(PX,8),u.LFG(RX,8),u.LFG(uT,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NX=(()=>{class n{constructor(){mN.Z.registerVersion("angularfire",os.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gN]}),n})();(0,Oc.ZF)(Yw.firebase);const LX=Gw(WT(),"users/");let Qw=(()=>{class n{constructor(t,i){this.fireauth=t,this.router=i}login(t,i){this.fireauth.signInWithEmailAndPassword(t,i).then(()=>{localStorage.setItem("token","true"),this.getDatos(t),this.router.navigate(["/reservar"])},r=>{alert("Something went wrong"),this.router.navigate(["/login"])})}register(t,i){this.fireauth.createUserWithEmailAndPassword(t,i).then(r=>{alert("Registration Successful"),this.router.navigate(["/login"])},r=>{alert(r.message),this.router.navigate(["/register"])})}loginPhone(t,i){this.fireauth.signInWithPhoneNumber(t,i).then(r=>{this.router.navigate(["/verify"])}).catch(r=>console.log(r))}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}getDatos(t){dN(LX,i=>{var r;if(r=Object.values(i.val()),console.log("data onValue: "+Object.values(r)),r)for(let s=0;s<r.length;s++){let o;if(o=Object.values(r[s])[1],o==t){let c=Object.values(r[s])[2];"string"==typeof c?localStorage.setItem("name",c):localStorage.setItem("name","Usuario");let h=Object.values(r[s])[6];"string"==typeof h?localStorage.setItem("username",h):localStorage.setItem("username","anon");break}}else alert("No hay usuarios")})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gN),u.LFG(is))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",12)(1,"app-tourlist",13),u.NdJ("reserve",function(r){u.CHM(t);const s=u.oxw();return u.KtG(s.onReserve(r))}),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(1),u.Q6J("tour",t)}}function VX(n,e){if(1&n&&(u.TgZ(0,"div",14),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Q6J("ngClass","alert-"+t.alertType),u.xp6(1),u.hij(" ",t.alertMessage," ")}}let UX=(()=>{class n{onSubmit(t){}registerTour(t){const i=document.getElementById("date").value,r=document.getElementById("time").value,s=new Date,o=new Date(i);i&&r?o<s?(this.alertMessage="Lo siento, esa fecha ya pas\xf3.",this.alertType="danger"):(P3(k3(this.database,"reservas/"+this.getSelectedTour()),{tour:this.getSelectedTour(),price:this.getPriceOfTour(this.getSelectedTour()),date:t.date,hour:t.time}),alert("Reserva realizada"),this.goToPage("inicio")):(this.alertMessage="Por favor ingrese una fecha y hora para reservar.",this.alertType="warning")}goToPage(t){this.router.navigate([`${t}`])}getSelectedTour(){return localStorage.getItem("tourSelection")?localStorage.getItem("tourSelection")?.valueOf():this.tours[0].name}getPriceOfTour(t){return this.tours.forEach(i=>{if(i.name=t)return i.price}),"0"}onReserve(t){console.log("Tour reservado:",t)}constructor(t,i,r){this.database=t,this.router=i,this.auth=r,this.title="reserva",this.reservations=[],this.alertMessage="",this.alertType="",this.tours=[{name:"SEUL (COREA DEL SUR)",price:5e3},{name:" MACHU PICCHU (PERU)",price:4e3},{name:"RIO DE JANEIRO (BRASIL)",price:2500},{name:"CHICHEN ITZ\xc1 (M\xc9XICO)",price:3500},{name:"EL COLISEO (ITALIA)",price:3500},{name:"PETRA (JORDANIA)",price:4500}]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kw),u.Y36(is),u.Y36(Qw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-reserva"]],decls:18,vars:2,consts:[[1,"resertour"],[2,"color","black","text-align","center"],[1,"tour-list"],["class","tour-item",4,"ngFor","ngForOf"],[1,"datetime-container",3,"ngSubmit"],["ReservaForm","ngForm"],["for","date",1,"date-label"],["type","date","id","date","name","date","ngModel","",1,"date-input"],["for","time",1,"time-label"],["type","time","id","time","name","time","ngModel","",1,"time-input"],["mat-raised-button","","color","accent","type","button","type","submit",1,"reserve-button"],["class","alert","role","alert",3,"ngClass",4,"ngIf"],[1,"tour-item"],[3,"tour","reserve"],["role","alert",1,"alert",3,"ngClass"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"div",0)(1,"h1",1),u._uU(2,"Tours Disponibles"),u.qZA(),u.TgZ(3,"ul",2),u.YNc(4,BX,2,1,"li",3),u.qZA(),u.TgZ(5,"form",4,5),u.NdJ("ngSubmit",function(){u.CHM(r);const o=u.MAs(6);return u.KtG(i.registerTour(o.value))}),u.TgZ(7,"label",6),u._uU(8,"Fecha: "),u.qZA(),u._UZ(9,"input",7)(10,"br"),u.TgZ(11,"label",8),u._uU(12,"Hora: "),u.qZA(),u._UZ(13,"input",9)(14,"br"),u.TgZ(15,"button",10),u._uU(16,"Reservar"),u.qZA()(),u.YNc(17,VX,2,2,"div",11),u.qZA()}2&t&&(u.xp6(4),u.Q6J("ngForOf",i.tours),u.xp6(13),u.Q6J("ngIf",i.alertMessage))},dependencies:[un,Fs,mr,Sc,Oo,Oa,ua,_d,Ml,qy,cz],styles:[".resertour[_ngcontent-%COMP%]{background-image:url(fondoreser.02c7f3c2a15034d8.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;color:#000}.tour-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.tour-item[_ngcontent-%COMP%]{margin:45px;padding:15px;border:solid black 2px;width:34%;height:auto;text-align:center;font-family:Times New Roman,Times,serif;background-color:#ffe4da;color:#454545;width:25%}.datetime-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:70px}.date-input[_ngcontent-%COMP%], .time-input[_ngcontent-%COMP%]{margin:40px;font-size:20px;padding:10px;outline:none;box-sizing:border-box;border:solid #ccc 1px;transition:.5s ease all}.date-label[_ngcontent-%COMP%], .time-label[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:20px;font-family:Times New Roman,Times,serif}.reserve-button[_ngcontent-%COMP%]{font-size:25px;padding:10px 20px;cursor:pointer;border:solid #040404 1px}"]}),n})(),jX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-nosotros"]],decls:55,vars:0,consts:[[1,"body"],[1,"fecha"],["src","assets/images/ANA.jpg","alt","Descripci\xf3n de la imagen","width","500px"],["clear","right"],["src","assets/images/MITZI.jpg","alt","Descripci\xf3n de la imagen","width","500px"],["src","assets/images/Natalia.jpeg","alt","Descripci\xf3n de la imagen","width","500px"],["src","assets/images/LIZ.jpeg","alt","Descripci\xf3n de la imagen","width","500px"],["src","assets/images/KEVIN.png","alt","Descripci\xf3n de la imagen","width","500px"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"header")(2,"h1"),u._uU(3,"Mi blog"),u.qZA(),u.TgZ(4,"h3"),u._uU(5,"Proyecto Universitario"),u.qZA(),u.TgZ(6,"h6"),u._uU(7,"Universidad Autonoma de Aguascalientes"),u.qZA()(),u.TgZ(8,"main")(9,"article")(10,"header")(11,"h2"),u._uU(12,"Ana Laura Jim\xe9neez D\xedaz"),u.qZA(),u.TgZ(13,"p",1),u._uU(14,"Publicado el 14 de mayo de 2023"),u.qZA()(),u._UZ(15,"img",2),u.TgZ(16,"p"),u._uU(17,"Yo soy Ana Laura Jim\xe9nez, estudiante de la UAA"),u.qZA()(),u._UZ(18,"BR",3),u.TgZ(19,"article")(20,"header")(21,"h2"),u._uU(22,"Mitzy TierraBlanca Ramirez"),u.qZA(),u.TgZ(23,"p",1),u._uU(24,"Publicado el 14 de mayo de 2023"),u.qZA()(),u._UZ(25,"img",4),u.TgZ(26,"p"),u._uU(27,"Yo soy Mitzy, estudiante de la UAA"),u.qZA()(),u.TgZ(28,"article")(29,"header")(30,"h2"),u._uU(31,"F\xe1tima Natalia Mart\xednez Esparza"),u.qZA(),u.TgZ(32,"p",1),u._uU(33,"Publicado el 14 de mayo de 2023"),u.qZA()(),u._UZ(34,"img",5),u.TgZ(35,"p"),u._uU(36,"Yo soy F\xe1tima Natalia Mart\xednez, estudiante de la UAA"),u.qZA()(),u.TgZ(37,"article")(38,"header")(39,"h2"),u._uU(40,"Lizbeth Xitlali Hern\xe1ndez Mu\xf1oz"),u.qZA(),u.TgZ(41,"p",1),u._uU(42,"Publicado el 10 de junio de 2023"),u.qZA()(),u._UZ(43,"img",6),u.TgZ(44,"p"),u._uU(45,"Yo soy Lizbeth Hernandez, estudiante de la UAA"),u.qZA()(),u.TgZ(46,"article")(47,"header")(48,"h2"),u._uU(49,"Kevin Daniel Savala D\xedaz de Le\xf3nz"),u.qZA(),u.TgZ(50,"p",1),u._uU(51,"Publicado el 10 de junio de 2023"),u.qZA()(),u._UZ(52,"img",7),u.TgZ(53,"p"),u._uU(54,"Yo soy Kevin Daniel Savala, estudiante de la UAA"),u.qZA()()()())},styles:[".body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:16px;line-height:1.5;margin:0;padding:0;text-align:center;background-image:linear-gradient(to bottom,#c7e6ff,#9ad4ff,#5bc0de,#4ca8d7,#79d6f2)}a[_ngcontent-%COMP%]{color:#07c;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.cabecera[_ngcontent-%COMP%]{background-color:#07c;color:#fff;margin:0;padding:20px;text-align:center}.cabecera[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.idioma[_ngcontent-%COMP%]{float:right;margin:20px}.idioma[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-left:10px}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px}.bloq_izq[_ngcontent-%COMP%]{flex-basis:70%;margin-right:20px}.bloq_izq[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin:0 0 10px}.bloq_izq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.bloq_der[_ngcontent-%COMP%]{flex-basis:30%}.bloq_der[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin:0 0 10px}.bloq_der[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.pie[_ngcontent-%COMP%]{background-color:#f0f0f0;margin:20px;padding:20px;text-align:center}.pie[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#07c}.header1[_ngcontent-%COMP%]{text-align:left}"]}),n})(),zX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-destinos"]],decls:99,vars:0,consts:[[1,"galeria"],[1,"title"],[1,"card-columns"],[1,"card"],["src","assets/images/img1.jpg","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"lugar-text"],["src","assets/images/img12.jpg","alt","...",1,"card-img-top"],["src","assets/images/img2.jpg","alt","...",1,"card-img-top"],["src","assets/images/img16.jpg","alt","...",1,"card-img-top"],["src","assets/images/img3.jpg","alt","...",1,"card-img-top"],["src","assets/images/img4.jpg","alt","...",1,"card-img-top"],["src","assets/images/img13.jpg","alt","...",1,"card-img-top"],["src","assets/images/img11.jpg","alt","...",1,"card-img-top"],["src","assets/images/img6.jpg","alt","...",1,"card-img-top"],["src","assets/images/img5.jpg","alt","...",1,"card-img-top"],["src","assets/images/img8.jpg","alt","...",1,"card-img-top"],["src","assets/images/img7.jpg","alt","...",1,"card-img-top"],["src","assets/images/img15.jpg","alt","...",1,"card-img-top"],["src","assets/images/img10.jpg","alt","...",1,"card-img-top"],["src","assets/images/img14.jpg","alt","...",1,"card-img-top"],["src","assets/images/img9.jpg","alt","...",1,"card-img-top"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"br")(3,"br"),u.TgZ(4,"h1"),u._uU(5,"GALER\xcdA DE FOTOS"),u.qZA(),u.TgZ(6,"h5"),u._uU(7,"\xa1Esto es lo que se vive en nuestros viajes!"),u.qZA(),u._UZ(8,"br")(9,"br"),u.qZA(),u.TgZ(10,"div",2)(11,"div",3),u._UZ(12,"img",4),u.TgZ(13,"div",5)(14,"h5",6),u._uU(15,"Conoce nuevos lugares"),u.qZA(),u.TgZ(16,"p",7),u._uU(17,"CANCUN"),u.qZA()()(),u.TgZ(18,"div",3),u._UZ(19,"img",8),u.TgZ(20,"p",7),u._uU(21,"POLONIA"),u.qZA()(),u.TgZ(22,"div",3),u._UZ(23,"img",9),u.TgZ(24,"div",5)(25,"h5",6),u._uU(26,"Reserva en nuestro sitio"),u.qZA(),u.TgZ(27,"p",7),u._uU(28,"EGIPTO"),u.qZA()()(),u.TgZ(29,"div",3),u._UZ(30,"img",10),u.TgZ(31,"p",7),u._uU(32,"DISNEY"),u.qZA()(),u.TgZ(33,"div",3),u._UZ(34,"img",11),u.TgZ(35,"div",5)(36,"h5",6),u._uU(37,"Asiste a los mejores eventos"),u.qZA(),u.TgZ(38,"p",7),u._uU(39,"JAPON"),u.qZA()()(),u.TgZ(40,"div",3),u._UZ(41,"img",12),u.TgZ(42,"div",5)(43,"h5",6),u._uU(44,"Comparte con tus seres queridos"),u.qZA(),u.TgZ(45,"p",7),u._uU(46,"BAJA CALIFORNIA"),u.qZA()()(),u.TgZ(47,"div",3),u._UZ(48,"img",13),u.TgZ(49,"p",7),u._uU(50,"BRASIL"),u.qZA()(),u.TgZ(51,"div",3),u._UZ(52,"img",14),u.TgZ(53,"p",7),u._uU(54,"FERIA DEL GLOBO E.U"),u.qZA()(),u.TgZ(55,"div",3),u._UZ(56,"img",15),u.TgZ(57,"p",7),u._uU(58,"ESPA\xd1A"),u.qZA()(),u.TgZ(59,"div",3),u._UZ(60,"img",16),u.TgZ(61,"p",7),u._uU(62,"FERIA DEL GLOBO GTO"),u.qZA()(),u.TgZ(63,"div",3),u._UZ(64,"img",17),u.TgZ(65,"div",5)(66,"h5",6),u._uU(67,"Vive las mejores experiencias"),u.qZA(),u.TgZ(68,"p",7),u._uU(69,"TEOTIHUACAN"),u.qZA()()(),u.TgZ(70,"div",3),u._UZ(71,"img",18),u.TgZ(72,"div",5)(73,"h5",6),u._uU(74,"Conecta con la naturaleza"),u.qZA(),u.TgZ(75,"p",7),u._uU(76,"LAGOS DE PLITVICE"),u.qZA()()(),u.TgZ(77,"div",3),u._UZ(78,"img",19),u.TgZ(79,"p",7),u._uU(80,"BELLAS ARTES MEXICO"),u.qZA()(),u.TgZ(81,"div",3),u._UZ(82,"img",20),u.TgZ(83,"div",5)(84,"h5",6),u._uU(85,"Encuentra tus vuelos aqu\xed"),u.qZA(),u.TgZ(86,"p",7),u._uU(87,"MAZATLAN"),u.qZA()()(),u.TgZ(88,"div",3),u._UZ(89,"img",21),u.TgZ(90,"p",7),u._uU(91,"MONTE FUJI"),u.qZA()(),u.TgZ(92,"div",3),u._UZ(93,"img",22),u.TgZ(94,"div",5)(95,"h5",6),u._uU(96,"Haz realidad tu viaje so\xf1ado"),u.qZA(),u.TgZ(97,"p",7),u._uU(98,"TULUM"),u.qZA()()()()())},styles:["body[_ngcontent-%COMP%]{background-color:#000;font:1.1em Arial,Helvetica,sans-serif}@media (min-width: 576px){.card-columns[_ngcontent-%COMP%]{column-count:2}}@media (min-width: 768px){.card-columns[_ngcontent-%COMP%]{column-count:3}}@media (min-width: 992px){.card-columns[_ngcontent-%COMP%]{column-count:4}}@media (min-width: 1200px){.card-columns[_ngcontent-%COMP%]{column-count:5}}.card-columns[_ngcontent-%COMP%]{display:inline-block;padding-left:40px;padding-right:40px}.title[_ngcontent-%COMP%]{text-align:center}.galeria[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#c7e6ff,#9ad4ff,#5bc0de,#4ca8d7,#79d6f2);font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:20px}.lugar-text[_ngcontent-%COMP%]{text-align:right;font-size:15px;margin-top:auto}"]}),n})(),HX=(()=>{class n{handleSearch(t){console.log(t)}onRightClick(){return!1}constructor(){this.X=Math.round(2*Math.random()+1),this.from="",this.fromLocation=[],this.fromLocationTemplate=!0,this.toLocationTemplate=!1,this.to="",this.toLocation=[],this.departureDateTemplate=!1}ngOnInit(){}handleFromLocation(){this.from.length>3&&fetch(`http://localhost:5000/city-and-airport-search/${this.from}`).then(t=>t.json()).then(t=>this.fromLocation=t.data)}handleOrigin(t){this.origin=t,this.fromLocationTemplate=!1,this.toLocationTemplate=!0,this.fromLocation=[]}handleToLocation(){this.to.length>3&&fetch(`http://localhost:5000/city-and-airport-search/${this.to}`).then(t=>t.json()).then(t=>this.toLocation=t.data)}handleDestination(t){this.destination=t,this.toLocationTemplate=!1,this.toLocation=[],this.departureDateTemplate=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-search"]],hostBindings:function(t,i){1&t&&u.NdJ("contextmenu",function(s){return i.onRightClick(s)})},decls:6,vars:4,consts:[[2,"padding-left","40%",3,"contextmenu"],["width","500","height","500","controls",""],["type","video/mp4",3,"src"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.NdJ("contextmenu",function(){return i.onRightClick()}),u.TgZ(1,"li"),u._uU(2),u.TgZ(3,"video",1),u._UZ(4,"source",2),u.ALo(5,"video"),u.qZA()()()),2&t&&(u.xp6(2),u.hij(" ",i.X," "),u.xp6(2),u.Q6J("src",u.lcZ(5,2,i.X),u.LSH))},dependencies:[kR]}),n})();function $X(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA()()),2&n){const t=e.$implicit,i=e.index,r=u.oxw(2);u.xp6(2),u.Oqu(t.date),u.xp6(2),u.Oqu(t.time),u.xp6(2),u.Oqu(r.reservedTours[i].name),u.xp6(2),u.hij("$ ",r.reservedTours[i].price,"")}}function WX(n,e){1&n&&(u.TgZ(0,"div")(1,"p"),u._uU(2,"No hay reservaciones hechas."),u.qZA()())}function GX(n,e){if(1&n&&(u.TgZ(0,"div",1)(1,"h1",2),u._uU(2,"...RESERVACIONES..."),u.qZA(),u.TgZ(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),u._uU(7,"DIA"),u.qZA(),u.TgZ(8,"th",4),u._uU(9,"FECHA"),u.qZA(),u.TgZ(10,"th",4),u._uU(11,"NOMBRE DEL TOUR"),u.qZA(),u.TgZ(12,"th",4),u._uU(13,"PRECIO DEL TOUR"),u.qZA()()(),u.YNc(14,$X,9,4,"tr",5),u.qZA(),u.YNc(15,WX,3,0,"div",6),u.qZA()),2&n){const t=u.oxw();u.xp6(14),u.Q6J("ngForOf",t.reservations),u.xp6(1),u.Q6J("ngIf",0===t.reservations.length)}}let qX=(()=>{class n{constructor(){this.reservations=[];const t=localStorage.getItem("reservations");this.reservations=t?JSON.parse(t):[],this.getReservedTours()}getReservedTours(){const t=localStorage.getItem("reservedTours");t&&(this.reservedTours=JSON.parse(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tablareservas"]],inputs:{reservations:"reservations",reservedTours:"reservedTours"},decls:1,vars:1,consts:[["class","reservations-container",4,"ngIf"],[1,"reservations-container"],[2,"color","black","text-align","center"],[1,"table","table-striped","reservations-table"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,i){1&t&&u.YNc(0,GX,16,2,"div",0),2&t&&u.Q6J("ngIf",i.reservations.length>0)},dependencies:[Fs,mr],styles:[".reservations-container[_ngcontent-%COMP%]{background-image:url(seul.cddfc7d374f044b6.jpg);background-size:cover}.table[_ngcontent-%COMP%]{background-color:#fff7eb}.reservations-table[_ngcontent-%COMP%]{width:80%;margin:0 auto}"]}),n})();function ZX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h5",21),u._uU(5,"Alert"),u.qZA(),u.TgZ(6,"button",22),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.showModal=!1)}),u.qZA()(),u.TgZ(7,"div",23),u._uU(8),u.qZA(),u.TgZ(9,"div",24)(10,"button",25),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.showModal=!1)}),u._uU(11,"Close"),u.qZA()()()()()}if(2&n){const t=u.oxw();u.xp6(8),u.hij(" ",t.modalMessage," ")}}(0,Oc.ZF)(Yw.firebase),Gw(WT(),"users/");let YX=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password="",this.showModal=!1,this.modalMessage=""}login(){return""==this.email?(this.modalMessage="Please enter email",void(this.showModal=!0)):""==this.password?(this.modalMessage="Please enter password",void(this.showModal=!0)):(this.auth.login(this.email,this.password),this.email="",void(this.password=""))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:35,vars:3,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"fondoChido"],[1,"row","align-items-center",2,"height","100vh"],[1,"mx-auto","col-10","col-md-8","col-lg-6"],["action","","method","post",1,"form-example"],[1,"description"],[1,"form-group"],["for","username"],["type","email","id","email","placeholder","Correo electr\xf3nico...","name","email","required","Obligatorio",1,"form-control","email",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","placeholder","Contrase\xf1a...","name","password","required","Obligatorio",1,"form-control","password",3,"ngModel","ngModelChange"],["routerLink","/signup"],["routerLink","/loginPhone"],["type","submit",1,"btn","btn-primary","btn-customized","mt-4",3,"click"],["class","modal fade show d-block","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","show","d-block"],[1,"modal-dialog"],[1,"modal-content","my-modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"html",0)(1,"head"),u._UZ(2,"meta",1)(3,"meta",2),u.qZA(),u.TgZ(4,"body",3)(5,"div")(6,"div",4)(7,"div",5)(8,"form",6)(9,"h1"),u._uU(10,"Iniciar sesi\xf3n"),u.qZA(),u.TgZ(11,"p",7),u._uU(12," Inicia sesi\xf3n para poder reservar tu viaje! "),u.qZA(),u.TgZ(13,"div",8)(14,"label",9),u._uU(15,"Correo electr\xf3nico:"),u.qZA(),u.TgZ(16,"input",10),u.NdJ("ngModelChange",function(s){return i.email=s}),u.qZA()(),u.TgZ(17,"div",8)(18,"label",11),u._uU(19,"Contrase\xf1a:"),u.qZA(),u.TgZ(20,"input",12),u.NdJ("ngModelChange",function(s){return i.password=s}),u.qZA()(),u._UZ(21,"br"),u.TgZ(22,"span"),u._uU(23,"\xbfNuevo en la plataforma? "),u.TgZ(24,"a",13),u._uU(25,"Reg\xedstrate"),u.qZA()(),u._UZ(26,"br"),u.TgZ(27,"span"),u._uU(28,"\xbfDeseas iniciar sesi\xf3n con tu tel\xe9fono? "),u.TgZ(29,"a",14),u._uU(30,"Inicia sesi\xf3n (tel\xe9fono)"),u.qZA()(),u._UZ(31,"br"),u.TgZ(32,"button",15),u.NdJ("click",function(){return i.login()}),u._uU(33," Iniciar sesi\xf3n "),u.qZA()()()()(),u.YNc(34,ZX,12,1,"div",16),u.qZA()()),2&t&&(u.xp6(16),u.Q6J("ngModel",i.email),u.xp6(4),u.Q6J("ngModel",i.password),u.xp6(14),u.Q6J("ngIf",i.showModal))},dependencies:[mr,Zh,Sc,Oo,Oa,ua,sp,_d,Ml],styles:[".my-modal-content[_ngcontent-%COMP%]{border:2px solid red}"]}),n})();function QX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",28),u._uU(1," Usuario creado exitosamente. "),u.TgZ(2,"button",29),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.closeAlert())}),u.TgZ(3,"span",30),u._uU(4,"\xd7"),u.qZA()()()}}function XX(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",31),u._uU(1," Por favor, complete todos los campos. "),u.TgZ(2,"button",29),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.closeAlert())}),u.TgZ(3,"span",30),u._uU(4,"\xd7"),u.qZA()()()}}function JX(n,e){1&n&&(u.TgZ(0,"div",32),u._uU(1," Las contrase\xf1as no coinciden. "),u.qZA())}let eJ=(()=>{class n{constructor(t,i,r){this.database=t,this.router=i,this.auth=r,this.username="",this.firstname="",this.lastname="",this.email="",this.password="",this.phone="",this.confirmPassword="",this.showSuccessAlert=!1,this.showErrorAlert=!1}goToPage(t){this.router.navigate([`${t}`])}registerUser(){""!==this.username&&""!==this.firstname&&""!==this.lastname&&""!==this.email&&""!==this.password&&""!==this.phone?(P3(k3(this.database,"users/"+this.username),{username:this.username,firstname:this.firstname,lastname:this.lastname,email:this.email,password:this.password,phone:this.phone,admin:"no"}),this.auth.register(this.email,this.password),this.showSuccessAlert=!0,this.goToPage("inicio")):this.showErrorAlert=!0}closeAlert(){this.showSuccessAlert=!1,this.showErrorAlert=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kw),u.Y36(is),u.Y36(Qw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:45,vars:10,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"fondoChido"],[1,"container"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],[1,"col-md-6","offset-md-3"],[3,"ngSubmit"],["RegisterForm","ngForm"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","firstname","name","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","lastname"],["type","text","id","lastname","name","lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],["for","phone"],["type","text","id","phone","name","phone","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"alert","alert-danger"]],template:function(t,i){1&t&&(u.TgZ(0,"html",0)(1,"head"),u._UZ(2,"meta",1)(3,"meta",2),u.qZA(),u.TgZ(4,"body",3)(5,"div",4),u.YNc(6,QX,5,0,"div",5),u.YNc(7,XX,5,0,"div",6),u.TgZ(8,"div",7)(9,"div",8)(10,"h2"),u._uU(11,"Registro"),u.qZA(),u.TgZ(12,"form",9,10),u.NdJ("ngSubmit",function(){return i.registerUser()}),u.TgZ(14,"div",11)(15,"label",12),u._uU(16,"Usuario"),u.qZA(),u.TgZ(17,"input",13),u.NdJ("ngModelChange",function(s){return i.username=s}),u.qZA()(),u.TgZ(18,"div",11)(19,"label",14),u._uU(20,"Nombre"),u.qZA(),u.TgZ(21,"input",15),u.NdJ("ngModelChange",function(s){return i.firstname=s}),u.qZA()(),u.TgZ(22,"div",11)(23,"label",16),u._uU(24,"Apellido"),u.qZA(),u.TgZ(25,"input",17),u.NdJ("ngModelChange",function(s){return i.lastname=s}),u.qZA()(),u.TgZ(26,"div",11)(27,"label",18),u._uU(28,"Correo"),u.qZA(),u.TgZ(29,"input",19),u.NdJ("ngModelChange",function(s){return i.email=s}),u.qZA()(),u.TgZ(30,"div",11)(31,"label",20),u._uU(32,"Contrase\xf1a"),u.qZA(),u.TgZ(33,"input",21),u.NdJ("ngModelChange",function(s){return i.password=s}),u.qZA()(),u.TgZ(34,"div",11)(35,"label",22),u._uU(36,"Confirmar contrase\xf1a"),u.qZA(),u.TgZ(37,"input",23),u.NdJ("ngModelChange",function(s){return i.confirmPassword=s}),u.qZA()(),u.YNc(38,JX,2,0,"div",24),u.TgZ(39,"div",11)(40,"label",25),u._uU(41,"Tel\xe9fono"),u.qZA(),u.TgZ(42,"input",26),u.NdJ("ngModelChange",function(s){return i.phone=s}),u.qZA()(),u.TgZ(43,"button",27),u._uU(44,"Registrar"),u.qZA()()()()()()()),2&t&&(u.xp6(6),u.Q6J("ngIf",i.showSuccessAlert),u.xp6(1),u.Q6J("ngIf",i.showErrorAlert),u.xp6(10),u.Q6J("ngModel",i.username),u.xp6(4),u.Q6J("ngModel",i.firstname),u.xp6(4),u.Q6J("ngModel",i.lastname),u.xp6(4),u.Q6J("ngModel",i.email),u.xp6(4),u.Q6J("ngModel",i.password),u.xp6(4),u.Q6J("ngModel",i.confirmPassword),u.xp6(1),u.Q6J("ngIf",i.password!==i.confirmPassword),u.xp6(4),u.Q6J("ngModel",i.phone))},dependencies:[mr,Sc,Oo,Oa,ua,sp,_d,Ml]}),n})();G(9568);var Dt,tJ=G(3942),nJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Au={},_N=_N||{},Sn=nJ||self;function qT(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yN="closure_uid_"+(1e9*Math.random()>>>0),rJ=0;function sJ(n,e,t){return n.call.apply(n.bind,arguments)}function oJ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function zo(n,e,t){return(zo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sJ:oJ).apply(null,arguments)}function ZT(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Zs(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return e.prototype[r].apply(i,o)}}function qp(){this.s=this.s,this.o=this.o}qp.prototype.s=!1,qp.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function iJ(n){Object.prototype.hasOwnProperty.call(n,yN)&&n[yN]||(n[yN]=++rJ)}(this)},qp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F3=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vN(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function L3(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(qT(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Ho(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ho.prototype.h=function(){this.defaultPrevented=!0};var lJ=function(){if(!Sn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Sn.addEventListener("test",()=>{},e),Sn.removeEventListener("test",()=>{},e)}catch{}return n}();function Jw(n){return/^[\s\xa0]*$/.test(n)}function KT(){var n=Sn.navigator;return n&&(n=n.userAgent)?n:""}function Nd(n){return-1!=KT().indexOf(n)}function bN(n){return bN[" "](n),n}bN[" "]=function(){};var EN,n,uJ=Nd("Opera"),gv=Nd("Trident")||Nd("MSIE"),B3=Nd("Edge"),wN=B3||gv,V3=Nd("Gecko")&&!(-1!=KT().toLowerCase().indexOf("webkit")&&!Nd("Edge"))&&!(Nd("Trident")||Nd("MSIE"))&&!Nd("Edge"),dJ=-1!=KT().toLowerCase().indexOf("webkit")&&!Nd("Edge");function U3(){var n=Sn.document;return n?n.documentMode:void 0}e:{var CN="",xN=(n=KT(),V3?/rv:([^\);]+)(\)|;)/.exec(n):B3?/Edge\/([\d\.]+)/.exec(n):gv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dJ?/WebKit\/(\S+)/.exec(n):uJ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xN&&(CN=xN?xN[1]:""),gv){var SN=U3();if(null!=SN&&SN>parseFloat(CN)){EN=String(SN);break e}}EN=CN}var hJ=Sn.document&&gv&&(U3()||parseInt(EN,10))||void 0;function eE(n,e){if(Ho.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(V3){e:{try{bN(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fJ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&eE.$.h.call(this)}}Zs(eE,Ho);var fJ={2:"touch",3:"pen",4:"mouse"};eE.prototype.h=function(){eE.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tE="closure_listenable_"+(1e6*Math.random()|0),pJ=0;function mJ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++pJ,this.fa=this.ia=!1}function YT(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function TN(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function z3(n){const e={};for(const t in n)e[t]=n[t];return e}const H3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $3(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<H3.length;s++)t=H3[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function QT(n){this.src=n,this.g={},this.h=0}function DN(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=F3(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(YT(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AN(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}QT.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=AN(n,e,i,r);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new mJ(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var MN="closure_lm_"+(1e6*Math.random()|0),kN={};function W3(n,e,t,i,r){if(i&&i.once)return q3(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)W3(n,e[s],t,i,r);return null}return t=NN(t),n&&n[tE]?n.O(e,t,Xw(i)?!!i.capture:!!i,r):G3(n,e,t,!1,i,r)}function G3(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=Xw(r)?!!r.capture:!!r,c=RN(n);if(c||(n[MN]=c=new QT(n)),(t=c.add(e,t,i,o,s)).proxy)return t;if(i=function _J(){const e=yJ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)lJ||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(K3(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function q3(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)q3(n,e[s],t,i,r);return null}return t=NN(t),n&&n[tE]?n.P(e,t,Xw(i)?!!i.capture:!!i,r):G3(n,e,t,!0,i,r)}function Z3(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Z3(n,e[s],t,i,r);else i=Xw(i)?!!i.capture:!!i,t=NN(t),n&&n[tE]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AN(s=n.g[e],t,i,r))&&(YT(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=RN(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AN(e,t,i,r)),(t=-1<n?e[n]:null)&&PN(t))}function PN(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[tE])DN(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(K3(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=RN(e))?(DN(t,n),0==t.h&&(t.src=null,e[MN]=null)):YT(n)}}}function K3(n){return n in kN?kN[n]:kN[n]="on"+n}function yJ(n,e){if(n.fa)n=!0;else{e=new eE(e,this);var t=n.listener,i=n.la||n.src;n.ia&&PN(n),n=t.call(i,e)}return n}function RN(n){return(n=n[MN])instanceof QT?n:null}var ON="__closure_events_fn_"+(1e9*Math.random()>>>0);function NN(n){return"function"==typeof n?n:(n[ON]||(n[ON]=function(e){return n.handleEvent(e)}),n[ON])}function Ks(){qp.call(this),this.i=new QT(this),this.S=this,this.J=null}function _o(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ho(e,n);else if(e instanceof Ho)e.target=e.target||n;else{var r=e;$3(e=new Ho(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=XT(o,i,!0,e)&&r}if(r=XT(o=e.g=n,i,!0,e)&&r,r=XT(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=XT(o=e.g=t[s],i,!1,e)&&r}function XT(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var c=o.listener,h=o.la||o.src;o.ia&&DN(n.i,o),r=!1!==c.call(h,i)&&r}}return r&&!i.defaultPrevented}Zs(Ks,qp),Ks.prototype[tE]=!0,Ks.prototype.removeEventListener=function(n,e,t,i){Z3(this,n,e,t,i)},Ks.prototype.N=function(){if(Ks.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)YT(t[i]);delete n.g[e],n.h--}}this.J=null},Ks.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ks.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var FN=Sn.JSON.stringify;function bJ(){var n=LN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Y3=new class vJ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new EJ,n=>n.reset());class EJ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function CJ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function xJ(n){Sn.setTimeout(()=>{throw n},0)}let nE,iE=!1,LN=new class wJ{constructor(){this.h=this.g=null}add(e,t){const i=Y3.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Q3=()=>{const n=Sn.Promise.resolve(void 0);nE=()=>{n.then(SJ)}};var SJ=()=>{for(var n;n=bJ();){try{n.h.call(n.g)}catch(t){xJ(t)}var e=Y3;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}iE=!1};function JT(n,e){Ks.call(this),this.h=n||1,this.g=e||Sn,this.j=zo(this.qb,this),this.l=Date.now()}function BN(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function VN(n,e,t){if("function"==typeof n)t&&(n=zo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Sn.setTimeout(n,e||0)}function X3(n){n.g=VN(()=>{n.g=null,n.i&&(n.i=!1,X3(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zs(JT,Ks),(Dt=JT.prototype).ga=!1,Dt.T=null,Dt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_o(this,"tick"),this.ga&&(BN(this),this.start()))}},Dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.N=function(){JT.$.N.call(this),BN(this),delete this.g};class IJ extends qp{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:X3(this)}N(){super.N(),this.g&&(Sn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rE(n){qp.call(this),this.h=n,this.g={}}Zs(rE,qp);var J3=[];function e5(n,e,t,i){Array.isArray(t)||(t&&(J3[0]=t.toString()),t=J3);for(var r=0;r<t.length;r++){var s=W3(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function t5(n){TN(n.g,function(e,t){this.g.hasOwnProperty(t)&&PN(e)},n),n.g={}}function eD(){this.g=!0}function _v(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function MJ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return FN(t)}catch{return e}}(n,t)+(i?" "+i:"")})}rE.prototype.N=function(){rE.$.N.call(this),t5(this)},rE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eD.prototype.Ea=function(){this.g=!1},eD.prototype.info=function(){};var Lg={},n5=null;function tD(){return n5=n5||new Ks}function r5(n){Ho.call(this,Lg.Ta,n)}function sE(n){const e=tD();_o(e,new r5(e))}function s5(n,e){Ho.call(this,Lg.STAT_EVENT,n),this.stat=e}function fa(n){const e=tD();_o(e,new s5(e,n))}function o5(n,e){Ho.call(this,Lg.Ua,n),this.size=e}function oE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Sn.setTimeout(function(){n()},e)}Lg.Ta="serverreachability",Zs(r5,Ho),Lg.STAT_EVENT="statevent",Zs(s5,Ho),Lg.Ua="timingevent",Zs(o5,Ho);var nD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},a5={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function UN(){}function c5(){}UN.prototype.h=null;var HN,aE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jN(){Ho.call(this,"d")}function zN(){Ho.call(this,"c")}function iD(){}function lE(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new rE(this),this.P=kJ,this.V=new JT(n=wN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new u5}function u5(){this.i=null,this.g="",this.h=!1}Zs(jN,Ho),Zs(zN,Ho),Zs(iD,UN),iD.prototype.g=function(){return new XMLHttpRequest},iD.prototype.i=function(){return{}},HN=new iD;var kJ=45e3,$N={},rD={};function WN(n,e,t){n.L=1,n.v=lD(sf(e)),n.s=t,n.S=!0,d5(n,null)}function d5(n,e){n.G=Date.now(),cE(n),n.A=sf(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),w5(t.i,"t",i),n.C=0,t=n.l.J,n.h=new u5,n.g=W5(n.l,t?e:null,!n.s),0<n.O&&(n.M=new IJ(zo(n.Pa,n,n.g),n.O)),e5(n.U,n.g,"readystatechange",n.nb),e=n.I?z3(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),sE(),function TJ(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),h=0;h<c.length;h++){var p=c[h].split("=");if(1<p.length){var g=p[0];p=p[1];var b=g.split("_");o=2<=b.length&&"type"==b[1]?o+(g+"=")+p+"&":o+(g+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function h5(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function f5(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=PJ(n,t),r==rD){4==e&&(n.o=4,fa(14),i=!1),_v(n.j,n.m,null,"[Incomplete Response]");break}if(r==$N){n.o=4,fa(15),_v(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}_v(n.j,n.m,r,null),GN(n,r)}h5(n)&&r!=rD&&r!=$N&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fa(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),JN(e),e.M=!0,fa(11))):(_v(n.j,n.m,t,"[Invalid Chunked Response]"),Bg(n),uE(n))}function PJ(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?rD:(t=Number(e.substring(t,i)),isNaN(t)?$N:(i+=1)+t>e.length?rD:(e=e.slice(i,i+t),n.C=i+t,e))}function cE(n){n.Y=Date.now()+n.P,p5(n,n.P)}function p5(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=oE(zo(n.lb,n),e)}function sD(n){n.B&&(Sn.clearTimeout(n.B),n.B=null)}function uE(n){0==n.l.H||n.J||j5(n.l,n)}function Bg(n){sD(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,BN(n.V),t5(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function GN(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||qN(t.i,n)))if(!n.K&&qN(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;pD(t),hD(t)}XN(t),fa(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=oE(zo(t.ib,t),6e3));if(1>=x5(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ug(t,11)}else if((n.K||t.g==n)&&pD(t),!Jw(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let p=r[e];if(t.V=p[0],p=p[1],2==t.H)if("c"==p[0]){t.K=p[1],t.pa=p[2];const g=p[3];null!=g&&(t.ra=g,t.l.info("VER="+t.ra));const b=p[4];null!=b&&(t.Ga=b,t.l.info("SVER="+t.Ga));const C=p[5];null!=C&&"number"==typeof C&&0<C&&(t.L=i=1.5*C,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const k=n.g;if(k){const R=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=i.i;s.g||-1==R.indexOf("spdy")&&-1==R.indexOf("quic")&&-1==R.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ZN(s,s.h),s.h=null))}if(i.F){const L=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;L&&(i.Da=L,sr(i.I,i.F,L))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((i=t).wa=$5(i,i.J?i.pa:null,i.Y),o.K){S5(i.i,o);var c=o,h=i.L;h&&c.setTimeout(h),c.B&&(sD(c),cE(c)),i.g=o}else V5(i);0<t.j.length&&fD(t)}else"stop"!=p[0]&&"close"!=p[0]||Ug(t,7);else 3==t.H&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?Ug(t,7):QN(t):"noop"!=p[0]&&t.h&&t.h.Aa(p),t.A=0)}sE()}catch{}}function m5(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qT(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function OJ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qT(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function RJ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qT(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Dt=lE.prototype).setTimeout=function(n){this.P=n},Dt.nb=function(n){n=n.target;const e=this.M;e&&3==Fd(n)?e.l():this.Pa(n)},Dt.Pa=function(n){try{if(n==this.g)e:{const g=Fd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>g)&&(3!=g||wN||this.g&&(this.h.h||this.g.ja()||R5(this.g)))){this.J||4!=g||7==e||sE(),sD(this);var t=this.g.da();this.ca=t;t:if(h5(this)){var i=R5(this.g);n="";var r=i.length,s=4==Fd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bg(this),uE(this);var o="";break t}this.h.i=new Sn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function DJ(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,g,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jw(c)){var p=c;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,fa(12),Bg(this),uE(this);break e}_v(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,GN(this,t)}this.S?(f5(this,g,o),wN&&this.i&&3==g&&(e5(this.U,this.V,"tick",this.mb),this.V.start())):(_v(this.j,this.m,o,null),GN(this,o)),4==g&&Bg(this),this.i&&!this.J&&(4==g?j5(this.l,this):(this.i=!1,cE(this)))}else(function XJ(n){const e={};n=(n.g&&2<=Fd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Jw(n[i]))continue;var t=CJ(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function gJ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,fa(12)):(this.o=0,fa(13)),Bg(this),uE(this)}}}catch{}},Dt.mb=function(){if(this.g){var n=Fd(this.g),e=this.g.ja();this.C<e.length&&(sD(this),f5(this,n,e),this.i&&4!=n&&cE(this))}},Dt.cancel=function(){this.J=!0,Bg(this)},Dt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function AJ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(sE(),fa(17)),Bg(this),this.o=2,uE(this)):p5(this,this.Y-n)};var g5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vg){this.h=n.h,oD(this,n.j),this.s=n.s,this.g=n.g,aD(this,n.m),this.l=n.l;var e=n.i,t=new fE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_5(this,t),this.o=n.o}else n&&(e=String(n).match(g5))?(this.h=!1,oD(this,e[1]||"",!0),this.s=dE(e[2]||""),this.g=dE(e[3]||"",!0),aD(this,e[4]),this.l=dE(e[5]||"",!0),_5(this,e[6]||"",!0),this.o=dE(e[7]||"")):(this.h=!1,this.i=new fE(null,this.h))}function sf(n){return new Vg(n)}function oD(n,e,t){n.j=t?dE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function aD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _5(n,e,t){e instanceof fE?(n.i=e,function jJ(n,e){e&&!n.j&&(Zp(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(v5(this,i),w5(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hE(e,VJ)),n.i=new fE(e,n.h))}function sr(n,e,t){n.i.set(e,t)}function lD(n){return sr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FJ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hE(e,y5,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hE(e,y5,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hE(t,"/"==t.charAt(0)?BJ:LJ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hE(t,UJ)),n.join("")};var y5=/[#\/\?@]/g,LJ=/[#\?:]/g,BJ=/[#\?]/g,VJ=/[#\?@]/g,UJ=/#/g;function fE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zp(n){n.g||(n.g=new Map,n.h=0,n.i&&function NJ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function v5(n,e){Zp(n),e=yv(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function b5(n,e){return Zp(n),e=yv(n,e),n.g.has(e)}function w5(n,e,t){v5(n,e),0<t.length&&(n.i=null,n.g.set(yv(n,e),vN(t)),n.h+=t.length)}function yv(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function E5(n){this.l=n||HJ,n=Sn.PerformanceNavigationTiming?0<(n=Sn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Sn.g&&Sn.g.Ka&&Sn.g.Ka()&&Sn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=fE.prototype).add=function(n,e){Zp(this),this.i=null,n=yv(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){Zp(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Dt.ta=function(){Zp(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Dt.Z=function(n){Zp(this);let e=[];if("string"==typeof n)b5(this,n)&&(e=e.concat(this.g.get(yv(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Dt.set=function(n,e){return Zp(this),this.i=null,b5(this,n=yv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var HJ=10;function C5(n){return!!n.h||!!n.g&&n.g.size>=n.j}function x5(n){return n.h?1:n.g?n.g.size:0}function qN(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ZN(n,e){n.g?n.g.add(e):n.h=e}function S5(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function I5(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return vN(n.i)}E5.prototype.cancel=function(){if(this.i=I5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var $J=class{stringify(n){return Sn.JSON.stringify(n,void 0)}parse(n){return Sn.JSON.parse(n,void 0)}};function WJ(){this.g=new $J}function GJ(n,e,t){const i=t||"";try{m5(n,function(r,s){let o=r;Xw(r)&&(o=FN(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function cD(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function pE(n){this.l=n.fc||null,this.j=n.ob||!1}function uD(n,e){Ks.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=KN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zs(pE,UN),pE.prototype.g=function(){return new uD(this.l,this.j)},pE.prototype.i=function(n){return function(){return n}}({}),Zs(uD,Ks);var KN=0;function T5(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gE(n)}function gE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=uD.prototype).open=function(n,e){if(this.readyState!=KN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gE(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Sn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mE(this)),this.readyState=KN},Dt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gE(this)),this.g&&(this.readyState=3,gE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Sn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;T5(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Dt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mE(this):gE(this),3==this.readyState&&T5(this)}},Dt.Za=function(n){this.g&&(this.response=this.responseText=n,mE(this))},Dt.Ya=function(n){this.g&&(this.response=n,mE(this))},Dt.ka=function(){this.g&&mE(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(uD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ZJ=Sn.JSON.parse;function Wr(n){Ks.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=D5,this.L=this.M=!1}Zs(Wr,Ks);var D5="",KJ=/^https?$/i,YJ=["POST","PUT"];function A5(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,M5(n),dD(n)}function M5(n){n.F||(n.F=!0,_o(n,"complete"),_o(n,"error"))}function k5(n){if(n.h&&typeof _N<"u"&&(!n.C[1]||4!=Fd(n)||2!=n.da()))if(n.v&&4==Fd(n))VN(n.La,0,n);else if(_o(n,"readystatechange"),4==Fd(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===o){var r=String(n.I).match(g5)[1]||null;!r&&Sn.self&&Sn.self.location&&(r=Sn.self.location.protocol.slice(0,-1)),i=!KJ.test(r?r.toLowerCase():"")}t=i}if(t)_o(n,"complete"),_o(n,"success");else{n.m=6;try{var s=2<Fd(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",M5(n)}}finally{dD(n)}}}function dD(n,e){if(n.g){P5(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||_o(n,"ready");try{t.onreadystatechange=i}catch{}}}function P5(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Sn.clearTimeout(n.A),n.A=null)}function Fd(n){return n.g?n.g.readyState:0}function R5(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case D5:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function O5(n){let e="";return TN(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function YN(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=O5(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):sr(n,e,t))}function _E(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function N5(n){this.Ga=0,this.j=[],this.l=new eD,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_E("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_E("baseRetryDelayMs",5e3,n),this.hb=_E("retryDelaySeedMs",1e4,n),this.eb=_E("forwardChannelMaxRetries",2,n),this.xa=_E("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new E5(n&&n.concurrentRequestLimit),this.Ja=new WJ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function QN(n){if(F5(n),3==n.H){var e=n.W++,t=sf(n.I);if(sr(t,"SID",n.K),sr(t,"RID",e),sr(t,"TYPE","terminate"),yE(n,t),(e=new lE(n,n.l,e)).L=2,e.v=lD(sf(t)),t=!1,Sn.navigator&&Sn.navigator.sendBeacon)try{t=Sn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Sn.Image&&((new Image).src=e.v,t=!0),t||(e.g=W5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cE(e)}H5(n)}function hD(n){n.g&&(JN(n),n.g.cancel(),n.g=null)}function F5(n){hD(n),n.u&&(Sn.clearTimeout(n.u),n.u=null),pD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Sn.clearTimeout(n.m),n.m=null)}function fD(n){if(!C5(n.i)&&!n.m){n.m=!0;var e=n.Na;nE||Q3(),iE||(nE(),iE=!0),LN.add(e,n),n.C=0}}function L5(n,e){var t;t=e?e.m:n.W++;const i=sf(n.I);sr(i,"SID",n.K),sr(i,"RID",t),sr(i,"AID",n.V),yE(n,i),n.o&&n.s&&YN(i,n.o,n.s),t=new lE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=B5(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ZN(n.i,t),WN(t,i,e)}function yE(n,e){n.na&&TN(n.na,function(t,i){sr(e,i,t)}),n.h&&m5({},function(t,i){sr(e,i,t)})}function B5(n,e,t){t=Math.min(n.j.length,t);var i=n.h?zo(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let h=0;h<t;h++){let p=r[h].g;const g=r[h].map;if(p-=s,0>p)s=Math.max(0,r[h].g-100),c=!1;else try{GJ(g,o,"req"+p+"_")}catch{i&&i(g)}}if(c){i=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function V5(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;nE||Q3(),iE||(nE(),iE=!0),LN.add(e,n),n.A=0}}function XN(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=oE(zo(n.Ma,n),z5(n,n.A)),n.A++,0))}function JN(n){null!=n.B&&(Sn.clearTimeout(n.B),n.B=null)}function U5(n){n.g=new lE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=sf(n.wa);sr(e,"RID","rpc"),sr(e,"SID",n.K),sr(e,"AID",n.V),sr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&sr(e,"TO",n.qa),sr(e,"TYPE","xmlhttp"),yE(n,e),n.o&&n.s&&YN(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=lD(sf(e)),t.s=null,t.S=!0,d5(t,n)}function pD(n){null!=n.v&&(Sn.clearTimeout(n.v),n.v=null)}function j5(n,e){var t=null;if(n.g==e){pD(n),JN(n),n.g=null;var i=2}else{if(!qN(n.i,e))return;t=e.F,S5(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;_o(i=tD(),new o5(i,t)),fD(n)}else V5(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function JJ(n,e){return!(x5(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=oE(zo(n.Na,n,e),z5(n,n.C)),n.C++,0)))}(n,e)||2==i&&XN(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ug(n,5);break;case 4:Ug(n,10);break;case 3:Ug(n,6);break;default:Ug(n,2)}}function z5(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ug(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=zo(n.pb,n);t||(t=new Vg("//www.google.com/images/cleardot.gif"),Sn.location&&"http"==Sn.location.protocol||oD(t,"https"),lD(t)),function qJ(n,e){const t=new eD;if(Sn.Image){const i=new Image;i.onload=ZT(cD,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ZT(cD,t,i,"TestLoadImage: error",!1,e),i.onabort=ZT(cD,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ZT(cD,t,i,"TestLoadImage: timeout",!1,e),Sn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else fa(2);n.H=0,n.h&&n.h.za(e),H5(n),F5(n)}function H5(n){if(n.H=0,n.ma=[],n.h){const e=I5(n.i);(0!=e.length||0!=n.j.length)&&(L3(n.ma,e),L3(n.ma,n.j),n.i.i.length=0,vN(n.j),n.j.length=0),n.h.ya()}}function $5(n,e,t){var i=t instanceof Vg?sf(t):new Vg(t);if(""!=i.g)e&&(i.g=e+"."+i.g),aD(i,i.m);else{var r=Sn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Vg(null);i&&oD(s,i),e&&(s.g=e),r&&aD(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&sr(i,t,e),sr(i,"VER",n.ra),yE(n,i),i}function W5(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ha&&!n.va?new pE({ob:!0}):n.va)).Oa(n.J),e}function G5(){}function mD(){if(gv&&!(10<=Number(hJ)))throw Error("Environmental error: no available transport.")}function Nl(n,e){Ks.call(this),this.g=new N5(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Jw(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jw(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vv(this)}function q5(n){jN.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Z5(){zN.call(this),this.status=1}function vv(n){this.g=n}function Mu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eF(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ii(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(Dt=Wr.prototype).Oa=function(n){this.M=n},Dt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():HN.g(),this.C=function l5(n){return n.h||(n.h=n.i())}(this.u?this.u:HN),this.g.onreadystatechange=zo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void A5(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Sn.FormData&&n instanceof Sn.FormData,!(0<=F3(YJ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{P5(this),0<this.B&&((this.L=function QJ(n){return gv&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zo(this.ua,this)):this.A=VN(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){A5(this,s)}},Dt.ua=function(){typeof _N<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_o(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_o(this,"complete"),_o(this,"abort"),dD(this))},Dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dD(this,!0)),Wr.$.N.call(this)},Dt.La=function(){this.s||(this.G||this.v||this.l?k5(this):this.kb())},Dt.kb=function(){k5(this)},Dt.isActive=function(){return!!this.g},Dt.da=function(){try{return 2<Fd(this)?this.g.status:-1}catch{return-1}},Dt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ZJ(e)}},Dt.Ia=function(){return this.m},Dt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=N5.prototype).ra=8,Dt.H=1,Dt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new lE(this,this.l,n);let s=this.s;if(this.U&&(s?(s=z3(s),$3(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=B5(this,r,e),sr(t=sf(this.I),"RID",n),sr(t,"CVER",22),this.F&&sr(t,"X-HTTP-Session-Id",this.F),yE(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(O5(s)))+"&"+e:this.o&&YN(t,this.o,s)),ZN(this.i,r),this.bb&&sr(t,"TYPE","init"),this.P?(sr(t,"$req",e),sr(t,"SID","null"),r.aa=!0,WN(r,t,null)):WN(r,t,e),this.H=2}}else 3==this.H&&(n?L5(this,n):0==this.j.length||C5(this.i)||L5(this))},Dt.Ma=function(){if(this.u=null,U5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=oE(zo(this.jb,this),n)}},Dt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fa(10),hD(this),U5(this))},Dt.ib=function(){null!=this.v&&(this.v=null,hD(this),XN(this),fa(19))},Dt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fa(2)):(this.l.info("Failed to ping google.com"),fa(1))},Dt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Dt=G5.prototype).Ba=function(){},Dt.Aa=function(){},Dt.za=function(){},Dt.ya=function(){},Dt.isActive=function(){return!0},Dt.Va=function(){},mD.prototype.g=function(n,e){return new Nl(n,e)},Zs(Nl,Ks),Nl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$5(n,null,n.Y),fD(n)},Nl.prototype.close=function(){QN(this.g)},Nl.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FN(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&fD(e)},Nl.prototype.N=function(){this.g.h=null,delete this.j,QN(this.g),delete this.g,Nl.$.N.call(this)},Zs(q5,jN),Zs(Z5,zN),Zs(vv,G5),vv.prototype.Ba=function(){_o(this.g,"a")},vv.prototype.Aa=function(n){_o(this.g,new q5(n))},vv.prototype.za=function(n){_o(this.g,new Z5)},vv.prototype.ya=function(){_o(this.g,"b")},Zs(Mu,function eee(){this.blockSize=-1}),Mu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Mu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)eF(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){eF(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){eF(this,i),r=0;break}}this.h=r,this.i+=e},Mu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var tee={};function tF(n){return-128<=n&&128>n?function cJ(n,e){var t=tee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ii([0|e],0>e?-1:0)}):new Ii([0|n],0>n?-1:0)}function Ld(n){if(isNaN(n)||!isFinite(n))return bv;if(0>n)return yo(Ld(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=nF;return new Ii(e,0)}var nF=4294967296,bv=tF(0),iF=tF(1),Y5=tF(16777216);function af(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Lc(n){return-1==n.h}function yo(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ii(t,~n.h).add(iF)}function gD(n,e){return n.add(yo(e))}function _D(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function vE(n,e){this.g=n,this.h=e}function yD(n,e){if(af(e))throw Error("division by zero");if(af(n))return new vE(bv,bv);if(Lc(n))return e=yD(yo(n),e),new vE(yo(e.g),yo(e.h));if(Lc(e))return e=yD(n,yo(e)),new vE(yo(e.g),e.h);if(30<n.g.length){if(Lc(n)||Lc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iF,i=e;0>=i.X(n);)t=Q5(t),i=Q5(i);var r=wv(t,1),s=wv(i,1);for(i=wv(i,2),t=wv(t,2);!af(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(t),s=o),i=wv(i,1),t=wv(t,1)}return e=gD(n,r.R(e)),new vE(r,e)}for(r=bv;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Ld(t)).R(e);Lc(o)||0<o.X(n);)o=(s=Ld(t-=i)).R(e);af(s)&&(s=iF),r=r.add(s),n=gD(n,o)}return new vE(r,n)}function Q5(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ii(t,n.h)}function wv(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ii(r,n.h)}(Dt=Ii.prototype).ea=function(){if(Lc(this))return-yo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:nF+i)*e,e*=nF}return n},Dt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(af(this))return"0";if(Lc(this))return"-"+yo(this).toString(n);for(var e=Ld(Math.pow(n,6)),t=this,i="";;){var r=yD(t,e).g,s=((0<(t=gD(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(af(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Dt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Dt.X=function(n){return Lc(n=gD(this,n))?-1:af(n)?0:1},Dt.abs=function(){return Lc(this)?yo(this):this},Dt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,t[r]=(o&=65535)<<16|(s&=65535)}return new Ii(t,-2147483648&t[t.length-1]?-1:0)},Dt.R=function(n){if(af(this)||af(n))return bv;if(Lc(this))return Lc(n)?yo(this).R(yo(n)):yo(yo(this).R(n));if(Lc(n))return yo(this.R(yo(n)));if(0>this.X(Y5)&&0>n.X(Y5))return Ld(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),c=n.D(r)>>>16,h=65535&n.D(r);t[2*i+2*r]+=o*h,_D(t,2*i+2*r),t[2*i+2*r+1]+=s*h,_D(t,2*i+2*r+1),t[2*i+2*r+1]+=o*c,_D(t,2*i+2*r+1),t[2*i+2*r+2]+=s*c,_D(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ii(t,0)},Dt.gb=function(n){return yD(this,n).h},Dt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ii(t,this.h&n.h)},Dt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ii(t,this.h|n.h)},Dt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ii(t,this.h^n.h)},mD.prototype.createWebChannel=mD.prototype.g,Nl.prototype.send=Nl.prototype.u,Nl.prototype.open=Nl.prototype.m,Nl.prototype.close=Nl.prototype.close,nD.NO_ERROR=0,nD.TIMEOUT=8,nD.HTTP_ERROR=6,a5.COMPLETE="complete",c5.EventType=aE,aE.OPEN="a",aE.CLOSE="b",aE.ERROR="c",aE.MESSAGE="d",Ks.prototype.listen=Ks.prototype.O,Wr.prototype.listenOnce=Wr.prototype.P,Wr.prototype.getLastError=Wr.prototype.Sa,Wr.prototype.getLastErrorCode=Wr.prototype.Ia,Wr.prototype.getStatus=Wr.prototype.da,Wr.prototype.getResponseJson=Wr.prototype.Wa,Wr.prototype.getResponseText=Wr.prototype.ja,Wr.prototype.send=Wr.prototype.ha,Wr.prototype.setWithCredentials=Wr.prototype.Oa,Mu.prototype.digest=Mu.prototype.l,Mu.prototype.reset=Mu.prototype.reset,Mu.prototype.update=Mu.prototype.j,Ii.prototype.add=Ii.prototype.add,Ii.prototype.multiply=Ii.prototype.R,Ii.prototype.modulo=Ii.prototype.gb,Ii.prototype.compare=Ii.prototype.X,Ii.prototype.toNumber=Ii.prototype.ea,Ii.prototype.toString=Ii.prototype.toString,Ii.prototype.getBits=Ii.prototype.D,Ii.fromNumber=Ld,Ii.fromString=function K5(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return yo(K5(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ld(Math.pow(e,8)),i=bv,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),e);8>s?(s=Ld(Math.pow(e,s)),i=i.R(s).add(Ld(o))):i=(i=i.R(t)).add(Ld(o))}return i};var nee=Au.createWebChannelTransport=function(){return new mD},iee=Au.getStatEventTarget=function(){return tD()},rF=Au.ErrorCode=nD,ree=Au.EventType=a5,see=Au.Event=Lg,X5=Au.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oee=Au.FetchXmlHttpFactory=pE,vD=Au.WebChannel=c5,aee=Au.XhrIo=Wr,lee=Au.Md5=Mu,Ev=Au.Integer=Ii;const J5="@firebase/firestore";class Ys{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ys.UNAUTHENTICATED=new Ys(null),Ys.GOOGLE_CREDENTIALS=new Ys("google-credentials-uid"),Ys.FIRST_PARTY=new Ys("first-party-uid"),Ys.MOCK_USER=new Ys("mock-user");let Cv="9.22.2";const Kp=new Ha.Yd("@firebase/firestore");function sF(){return Kp.logLevel}function tt(n,...e){if(Kp.logLevel<=Ha.in.DEBUG){const t=e.map(oF);Kp.debug(`Firestore (${Cv}): ${n}`,...t)}}function as(n,...e){if(Kp.logLevel<=Ha.in.ERROR){const t=e.map(oF);Kp.error(`Firestore (${Cv}): ${n}`,...t)}}function Bc(n,...e){if(Kp.logLevel<=Ha.in.WARN){const t=e.map(oF);Kp.warn(`Firestore (${Cv}): ${n}`,...t)}}function oF(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Nt(n="Unexpected state"){const e=`FIRESTORE (${Cv}) INTERNAL ASSERTION FAILED: `+n;throw as(e),new Error(e)}function Zt(n,e){n||Nt()}function St(n,e){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class e4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ys.UNAUTHENTICATED))}shutdown(){}}class hee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fee{constructor(e){this.t=e,this.currentUser=Ys.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let o=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ps,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable((0,Oe.Z)(function*(){yield p.promise,yield s(i.currentUser)}))},h=p=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ps)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Zt("string"==typeof i.accessToken),new e4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zt(null===e||"string"==typeof e),new Ys(e)}}class pee{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ys.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mee{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new pee(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ys.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gee{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zt("string"==typeof t.token),this.T=t.token,new t4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _ee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class n4{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=_ee(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function xn(n,e){return n<e?-1:n>e?1:0}function xv(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function i4(n){return n+"\0"}class wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new wr(0,0))}static max(){return new Qt(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bE{constructor(e,t,i){void 0===t?t=0:t>e.length&&Nt(),void 0===i?i=e.length-t:i>e.length-t&&Nt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===bE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bE?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qn extends bE{construct(e,t,i){return new Qn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new qe(Se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Qn(t)}static emptyPath(){return new Qn([])}}const yee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends bE{construct(e,t,i){return new Gr(e,t,i)}static isValidIdentifier(e){return yee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new qe(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const c=e[r];if("\\"===c){if(r+1===e.length)throw new qe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new qe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new qe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(t)}static emptyPath(){return new Gr([])}}class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Qn.fromString(e))}static fromName(e){return new wt(Qn.fromString(e).popFirst(5))}static empty(){return new wt(Qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Qn(e.slice()))}}class bD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function aF(n){return n.fields.find(e=>2===e.kind)}function jg(n){return n.fields.filter(e=>2!==e.kind)}bD.UNKNOWN_ID=-1;class wD{constructor(e,t){this.fieldPath=e,this.kind=t}}class wE{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new wE(0,Fl.min())}}function r4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Qt.fromTimestamp(1e9===i?new wr(t+1,0):new wr(t,i));return new Fl(r,wt.empty(),e)}function s4(n){return new Fl(n.readTime,n.key,-1)}class Fl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Fl(Qt.min(),wt.empty(),-1)}static max(){return new Fl(Qt.max(),wt.empty(),-1)}}function lF(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=wt.comparator(n.documentKey,e.documentKey),0!==t?t:xn(n.largestBatchId,e.largestBatchId))}const o4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yp(n){return cF.apply(this,arguments)}function cF(){return cF=(0,Oe.Z)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==o4)throw n;tt("LocalStore","Unexpectedly lost primary lease")}),cF.apply(this,arguments)}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,i)=>{t(e)})}static reject(e){return new be((t,i)=>{i(e)})}static waitFor(e){return new be((t,i)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&t()},h=>i(h))}),o=!0,s===r&&t()})}static or(e){let t=be.resolve(!1);for(const i of e)t=t.next(r=>r?be.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new be((i,r)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const p=h;t(e[p]).next(g=>{o[p]=g,++c,c===s&&i(o)},g=>r(g))}})}static doWhile(e,t){return new be((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class ED{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ps,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new EE(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=uF(i.target.error);this.v.reject(new EE(e,r))}}static open(e,t,i,r){try{return new ED(t,e.transaction(r,i))}catch(s){throw new EE(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Eee(t)}}class ku{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===ku.S((0,ae.z$)())&&as("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return tt("SimpleDb","Removing database:",e),zg(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ae.hl)())return!1;if(ku.C())return!0;const e=(0,ae.z$)(),t=ku.S(e),i=0<t&&t<10,r=ku.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(tt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new EE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;r("VersionError"===c.name?new qe(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new qe(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new EE(e,c))},s.onupgradeneeded=o=>{tt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.V.O(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{tt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Oe.Z)(function*(){const o="readonly"===t;let c=0;for(;;){++c;try{s.db=yield s.$(e);const h=ED.open(s.db,e,o?"readonly":"readwrite",i),p=r(h).next(g=>(h.P(),g)).catch(g=>(h.abort(g),be.reject(g))).toPromise();return p.catch(()=>{}),yield h.R,p}catch(h){const p=h,g="FirebaseError"!==p.name&&c<3;if(tt("SimpleDb","Transaction failed with error:",p.message,"Retrying:",g),s.close(),!g)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wee{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return zg(this.L.delete())}}class EE extends qe{constructor(e,t){super(Se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qp(n){return"IndexedDbTransactionError"===n.name}class Eee{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(tt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),zg(i)}add(e){return tt("SimpleDb","ADD",this.store.name,e,e),zg(this.store.add(e))}get(e){return zg(this.store.get(e)).next(t=>(void 0===t&&(t=null),tt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return tt("SimpleDb","DELETE",this.store.name,e),zg(this.store.delete(e))}count(){return tt("SimpleDb","COUNT",this.store.name),zg(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(o,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new be((s,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new be((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}J(e,t){tt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,o,c)=>c.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new be((i,r)=>{t.onerror=s=>{const o=uF(s.target.error);r(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(c=>{c?o.continue():i()}):i()}})}W(e,t){const i=[];return new be((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const c=o.target.result;if(!c)return void r();const h=new wee(c),p=t(c.primaryKey,c.value,h);if(p instanceof be){const g=p.catch(b=>(h.done(),be.reject(b)));i.push(g)}h.isDone?r():null===h.K?c.continue():c.continue(h.K)}}).next(()=>be.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zg(n){return new be((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=uF(i.target.error);t(r)}})}let l4=!1;function uF(n){const e=ku.S((0,ae.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l4||(l4=!0,setTimeout(()=>{throw i},0)),i}}return n}class Cee{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;tt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Oe.Z)(function*(){t.task=null;try{tt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Qp(i)?tt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Yp(i)}yield t.et(6e4)}))}}class xee{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return be.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!i.has(o))return tt("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,r).next(c=>{r-=c,i.add(o)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(r,s)).next(c=>(tt("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>o.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const o=s4(s);lF(o,i)>0&&(i=o)}),new Fl(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ll=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function CE(n){return null==n}function xE(n){return 0===n&&1/n==-1/0}function c4(n){return"number"==typeof n&&Number.isInteger(n)&&!xE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function $o(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=u4(e)),e=See(n.get(t),e);return u4(e)}function See(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function u4(n){return n+"\x01\x01"}function Bd(n){const e=n.length;if(Zt(e>=2),2===e)return Zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Nt(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let h;0===r.length?h=c:(r+=c,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Nt()}s=o+2}return new Qn(i)}const d4=["userId","batchId"];function CD(n,e){return[n,$o(e)]}function h4(n,e,t){return[n,$o(e),t]}const Iee={},Tee=["prefixPath","collectionGroup","readTime","documentId"],Dee=["prefixPath","collectionGroup","documentId"],Aee=["collectionGroup","readTime","prefixPath","documentId"],Mee=["canonicalId","targetId"],kee=["targetId","path"],Pee=["path","targetId"],Ree=["collectionId","parent"],Oee=["indexId","uid"],Nee=["uid","sequenceNumber"],Fee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lee=["indexId","uid","orderedDocumentKey"],Bee=["userId","collectionPath","documentId"],Vee=["userId","collectionPath","largestBatchId"],Uee=["userId","collectionGroup","largestBatchId"],f4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jee=[...f4,"documentOverlays"],p4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],m4=p4,zee=[...m4,"indexConfiguration","indexState","indexEntries"];class dF extends a4{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Qs(n,e){const t=St(n);return ku.M(t.ht,e)}function g4(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Qi{constructor(e,t){this.comparator=e,this.root=t||vo.EMPTY}insert(e,t){return new Qi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vo.BLACK,null,null))}remove(e){return new Qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xD(this.root,e,this.comparator,!1)}getReverseIterator(){return new xD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xD(this.root,e,this.comparator,!0)}}class xD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vo{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??vo.RED,this.left=r??vo.EMPTY,this.right=s??vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new vo(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1,vo.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new vo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(e){this.comparator=e,this.data=new Qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new y4(this.data.getIterator())}getIteratorFrom(e){return new y4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new or(this.comparator);return t.data=e,t}}class y4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sv(n){return n.hasNext()?n.getNext():void 0}class Wa{constructor(e){this.fields=e,e.sort(Gr.comparator)}static empty(){return new Wa([])}unionWith(e){let t=new or(Gr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Wa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xv(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new v4("Invalid base64 string: "+r):r}}(e);return new Rs(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rs.EMPTY_BYTE_STRING=new Rs("");const $ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jp(n){if(Zt(!!n),"string"==typeof n){let e=0;const t=$ee.exec(n);if(Zt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qr(n.seconds),nanos:qr(n.nanos)}}function qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lf(n){return"string"==typeof n?Rs.fromBase64String(n):Rs.fromUint8Array(n)}function SD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ID(n){const e=n.mapValue.fields.__previous_value__;return SD(e)?ID(e):e}function SE(n){const e=Jp(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}class Wee{constructor(e,t,i,r,s,o,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class em{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new em("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof em&&e.projectId===this.projectId&&e.database===this.database}}const tm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},TD={nullValue:"NULL_VALUE"};function nm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?SD(n)?4:C4(n)?9007199254740991:10:Nt()}function Vd(n,e){if(n===e)return!0;const t=nm(n);if(t!==nm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return SE(n).isEqual(SE(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Jp(i.timestampValue),o=Jp(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,lf(n.bytesValue).isEqual(lf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return qr(i.geoPointValue.latitude)===qr(r.geoPointValue.latitude)&&qr(i.geoPointValue.longitude)===qr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return qr(i.integerValue)===qr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=qr(i.doubleValue),o=qr(r.doubleValue);return s===o?xE(s)===xE(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return xv(n.arrayValue.values||[],e.arrayValue.values||[],Vd);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(g4(s)!==g4(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===o[c]||!Vd(s[c],o[c])))return!1;return!0}(n,e);default:return Nt()}var r}function IE(n,e){return void 0!==(n.values||[]).find(t=>Vd(t,e))}function im(n,e){if(n===e)return 0;const t=nm(n),i=nm(e);if(t!==i)return xn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=qr(r.integerValue||r.doubleValue),c=qr(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(n,e);case 3:return b4(n.timestampValue,e.timestampValue);case 4:return b4(SE(n),SE(e));case 5:return xn(n.stringValue,e.stringValue);case 6:return function(r,s){const o=lf(r),c=lf(s);return o.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),c=s.split("/");for(let h=0;h<o.length&&h<c.length;h++){const p=xn(o[h],c[h]);if(0!==p)return p}return xn(o.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=xn(qr(r.latitude),qr(s.latitude));return 0!==o?o:xn(qr(r.longitude),qr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],c=s.values||[];for(let h=0;h<o.length&&h<c.length;++h){const p=im(o[h],c[h]);if(p)return p}return xn(o.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===tm.mapValue&&s===tm.mapValue)return 0;if(r===tm.mapValue)return 1;if(s===tm.mapValue)return-1;const o=r.fields||{},c=Object.keys(o),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const b=xn(c[g],p[g]);if(0!==b)return b;const C=im(o[c[g]],h[p[g]]);if(0!==C)return C}return xn(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Nt()}}function b4(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xn(n,e);const t=Jp(n),i=Jp(e),r=xn(t.seconds,i.seconds);return 0!==r?r:xn(t.nanos,i.nanos)}function Iv(n){return hF(n)}function hF(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Jp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lf(n.bytesValue).toBase64():"referenceValue"in n?wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=hF(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${hF(i.fields[c])}`;return s+"}"}(n.mapValue):Nt();var e}function Hg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fF(n){return!!n&&"integerValue"in n}function TE(n){return!!n&&"arrayValue"in n}function w4(n){return!!n&&"nullValue"in n}function E4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function AD(n){return!!n&&"mapValue"in n}function DE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=DE(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=DE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function C4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gee(n){return"nullValue"in n?TD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hg(em.empty(),wt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Nt()}function qee(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hg(em.empty(),wt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?tm:Nt()}function x4(n,e){const t=im(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function S4(n,e){const t=im(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class bo{constructor(e){this.value=e}static empty(){return new bo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!AD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=DE(t)}setAll(e){let t=Gr.emptyPath(),i={},r=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=c.popLast()}o?i[c.lastSegment()]=DE(o):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());AD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];AD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Xp(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new bo(DE(this.value))}}function I4(n){const e=[];return Xp(n.fields,(t,i)=>{const r=new Gr([t]);if(AD(i)){const s=I4(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Wa(e)}class ar{constructor(e,t,i,r,s,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new ar(e,0,Qt.min(),Qt.min(),Qt.min(),bo.empty(),0)}static newFoundDocument(e,t,i,r){return new ar(e,1,t,Qt.min(),i,r,0)}static newNoDocument(e,t){return new ar(e,2,t,Qt.min(),Qt.min(),bo.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,Qt.min(),Qt.min(),bo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rm{constructor(e,t){this.position=e,this.inclusive=t}}function T4(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?wt.comparator(wt.fromName(o.referenceValue),t.key):im(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function D4(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vd(n.position[t],e.position[t]))return!1;return!0}class Tv{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class A4{}class Hn extends A4{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Kee(e,t,i):"array-contains"===t?new Xee(e,i):"in"===t?new N4(e,i):"not-in"===t?new Jee(e,i):"array-contains-any"===t?new ete(e,i):new Hn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Yee(e,i):new Qee(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(im(t,this.value)):null!==t&&nm(this.value)===nm(t)&&this.matchesComparison(im(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ti extends A4{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ti(e,t)}matches(e){return Dv(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dv(n){return"and"===n.op}function pF(n){return"or"===n.op}function mF(n){return M4(n)&&Dv(n)}function M4(n){for(const e of n.filters)if(e instanceof Ti)return!1;return!0}function gF(n){if(n instanceof Hn)return n.field.canonicalString()+n.op.toString()+Iv(n.value);if(mF(n))return n.filters.map(e=>gF(e)).join(",");{const e=n.filters.map(t=>gF(t)).join(",");return`${n.op}(${e})`}}function k4(n,e){return n instanceof Hn?(t=n,(i=e)instanceof Hn&&t.op===i.op&&t.field.isEqual(i.field)&&Vd(t.value,i.value)):n instanceof Ti?function(t,i){return i instanceof Ti&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,o)=>r&&k4(s,i.filters[o]),!0)}(n,e):void Nt();var t,i}function P4(n,e){const t=n.filters.concat(e);return Ti.create(t,n.op)}function R4(n){return n instanceof Hn?`${(e=n).field.canonicalString()} ${e.op} ${Iv(e.value)}`:n instanceof Ti?function(e){return e.op.toString()+" {"+e.getFilters().map(R4).join(" ,")+"}"}(n):"Filter";var e}class Kee extends Hn{constructor(e,t,i){super(e,t,i),this.key=wt.fromName(i.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yee extends Hn{constructor(e,t){super(e,"in",t),this.keys=O4(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qee extends Hn{constructor(e,t){super(e,"not-in",t),this.keys=O4(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O4(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>wt.fromName(i.referenceValue))}class Xee extends Hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return TE(t)&&IE(t.arrayValue,this.value)}}class N4 extends Hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&IE(this.value.arrayValue,t)}}class Jee extends Hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(IE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!IE(this.value.arrayValue,t)}}class ete extends Hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!TE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>IE(this.value.arrayValue,i))}}class tte{constructor(e,t=null,i=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.dt=null}}function _F(n,e=null,t=[],i=[],r=null,s=null,o=null){return new tte(n,e,t,i,r,s,o)}function $g(n){const e=St(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>gF(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),CE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Iv(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Iv(i)).join(",")),e.dt=t}return e.dt}function AE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Zee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!D4(n.startAt,e.startAt)&&D4(n.endAt,e.endAt)}function MD(n){return wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function kD(n,e){return n.filters.filter(t=>t instanceof Hn&&t.field.isEqual(e))}function F4(n,e,t){let i=TD,r=!0;for(const s of kD(n,e)){let o=TD,c=!0;switch(s.op){case"<":case"<=":o=Gee(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=TD}x4({value:i,inclusive:r},{value:o,inclusive:c})<0&&(i=o,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];x4({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}function L4(n,e,t){let i=tm,r=!0;for(const s of kD(n,e)){let o=tm,c=!0;switch(s.op){case">=":case">":o=qee(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=tm}S4({value:i,inclusive:r},{value:o,inclusive:c})>0&&(i=o,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];S4({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}class cf{constructor(e,t=null,i=[],r=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.wt=null,this._t=null}}function B4(n,e,t,i,r,s,o,c){return new cf(n,e,t,i,r,s,o,c)}function Av(n){return new cf(n)}function V4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yF(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function PD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vF(n){return null!==n.collectionGroup}function Wg(n){const e=St(n);if(null===e.wt){e.wt=[];const t=PD(e),i=yF(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Tv(t)),e.wt.push(new Tv(Gr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Tv(Gr.keyField(),s))}}}return e.wt}function pa(n){const e=St(n);if(!e._t)if("F"===e.limitType)e._t=_F(e.path,e.collectionGroup,Wg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Wg(e))t.push(new Tv(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new rm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rm(e.startAt.position,e.startAt.inclusive):null;e._t=_F(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function bF(n,e){e.getFirstInequalityField(),PD(n);const t=n.filters.concat([e]);return new cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function RD(n,e,t){return new cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ME(n,e){return AE(pa(n),pa(e))&&n.limitType===e.limitType}function U4(n){return`${$g(pa(n))}|lt:${n.limitType}`}function wF(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>R4(i)).join(", ")}]`),CE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Iv(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Iv(i)).join(",")),`Target(${t})`}(pa(n))}; limitType=${n.limitType})`}function kE(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):wt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Wg(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,o){const c=T4(r,s,o);return r.inclusive?c<=0:c<0}(t.startAt,Wg(t),i)||t.endAt&&!function(r,s,o){const c=T4(r,s,o);return r.inclusive?c>=0:c>0}(t.endAt,Wg(t),i)));var t,i}function j4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z4(n){return(e,t)=>{let i=!1;for(const r of Wg(n)){const s=nte(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function nte(n,e,t){const i=n.field.isKeyField()?wt.comparator(e.key,t.key):function(r,s,o){const c=s.data.field(r),h=o.data.field(r);return null!==c&&null!==h?im(c,h):Nt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Nt()}}class uf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xp(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return _4(this.inner)}size(){return this.innerSize}}const ite=new Qi(wt.comparator);function Ga(){return ite}const H4=new Qi(wt.comparator);function PE(...n){let e=H4;for(const t of n)e=e.insert(t.key,t);return e}function $4(n){let e=H4;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ud(){return RE()}function W4(){return RE()}function RE(){return new uf(n=>n.toString(),(n,e)=>n.isEqual(e))}const rte=new Qi(wt.comparator),ste=new or(wt.comparator);function kn(...n){let e=ste;for(const t of n)e=e.add(t);return e}const ote=new or(xn);function EF(){return ote}function G4(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xE(e)?"-0":e}}function q4(n){return{integerValue:""+n}}function Z4(n,e){return c4(e)?q4(e):G4(n,e)}class OD{constructor(){this._=void 0}}function ate(n,e,t){return n instanceof Mv?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&SD(r)&&(r=ID(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Gg?Y4(n,e):n instanceof qg?Q4(n,e):function(i,r){const s=K4(i,r),o=X4(s)+X4(i.gt);return fF(s)&&fF(i.gt)?q4(o):G4(i.serializer,o)}(n,e)}function lte(n,e,t){return n instanceof Gg?Y4(n,e):n instanceof qg?Q4(n,e):t}function K4(n,e){return n instanceof kv?fF(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Mv extends OD{}class Gg extends OD{constructor(e){super(),this.elements=e}}function Y4(n,e){const t=J4(e);for(const i of n.elements)t.some(r=>Vd(r,i))||t.push(i);return{arrayValue:{values:t}}}class qg extends OD{constructor(e){super(),this.elements=e}}function Q4(n,e){let t=J4(e);for(const i of n.elements)t=t.filter(r=>!Vd(r,i));return{arrayValue:{values:t}}}class kv extends OD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function X4(n){return qr(n.integerValue||n.doubleValue)}function J4(n){return TE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class OE{constructor(e,t){this.field=e,this.transform=t}}class ute{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ND(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class FD{}function e$(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Rv(n.key,Er.none()):new Pv(n.key,n.data,Er.none());{const t=n.data,i=bo.empty();let r=new or(Gr.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new df(n.key,i,new Wa(r.toArray()),Er.none())}}function dte(n,e,t){n instanceof Pv?function(i,r,s){const o=i.value.clone(),c=i$(i.fieldTransforms,r,s.transformResults);o.setAll(c),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof df?function(i,r,s){if(!ND(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=i$(i.fieldTransforms,r,s.transformResults),c=r.data;c.setAll(n$(i)),c.setAll(o),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function NE(n,e,t,i){return n instanceof Pv?function(r,s,o,c){if(!ND(r.precondition,s))return o;const h=r.value.clone(),p=r$(r.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof df?function(r,s,o,c){if(!ND(r.precondition,s))return o;const h=r$(r.fieldTransforms,c,s),p=s.data;return p.setAll(n$(r)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(n,e,t,i):(o=t,ND(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function hte(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=K4(i.transform,r||null);null!=s&&(null===t&&(t=bo.empty()),t.set(i.field,s))}return t||null}function t$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&xv(t,i,(r,s)=>function cte(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Gg&&i instanceof Gg||t instanceof qg&&i instanceof qg?xv(t.elements,i.elements,Vd):t instanceof kv&&i instanceof kv?Vd(t.gt,i.gt):t instanceof Mv&&i instanceof Mv);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Pv extends FD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class df extends FD{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function n$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function i$(n,e,t){const i=new Map;Zt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,c=e.data.field(s.field);i.set(s.field,lte(o,c,t[r]))}return i}function r$(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,ate(s,o,e))}return i}class Rv extends FD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CF extends FD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xF{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&dte(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=NE(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=NE(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=W4();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;const h=e$(o,c);null!==h&&i.set(r.key,h),o.isValidDocument()||o.convertToNoDocument(Qt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kn())}isEqual(e){return this.batchId===e.batchId&&xv(this.mutations,e.mutations,(t,i)=>t$(t,i))&&xv(this.baseMutations,e.baseMutations,(t,i)=>t$(t,i))}}class SF{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Zt(e.mutations.length===i.length);let r=rte;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new SF(e,t,i,r)}}class IF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pte{constructor(e,t){this.count=e,this.unchangedNames=t}}var ys,Xn;function s$(n){switch(n){default:return Nt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function o$(n){if(void 0===n)return as("GRPC error has no .code"),Se.UNKNOWN;switch(n){case ys.OK:return Se.OK;case ys.CANCELLED:return Se.CANCELLED;case ys.UNKNOWN:return Se.UNKNOWN;case ys.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case ys.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case ys.INTERNAL:return Se.INTERNAL;case ys.UNAVAILABLE:return Se.UNAVAILABLE;case ys.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case ys.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case ys.NOT_FOUND:return Se.NOT_FOUND;case ys.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case ys.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case ys.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case ys.ABORTED:return Se.ABORTED;case ys.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case ys.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case ys.DATA_LOSS:return Se.DATA_LOSS;default:return Nt()}}(Xn=ys||(ys={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS";class TF{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return LD}static getOrCreateInstance(){return null===LD&&(LD=new TF),LD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let LD=null;function a$(){return new TextEncoder}const mte=new Ev([4294967295,4294967295],0);function l$(n){const e=a$().encode(n),t=new lee;return t.update(e),new Uint8Array(t.digest())}function c$(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ev([t,i],0),new Ev([r,s],0)]}class DF{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new FE(`Invalid padding: ${t}`);if(i<0)throw new FE(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new FE(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new FE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ev.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Ev.fromNumber(i)));return 1===r.compare(mte)&&(r=new Ev([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=l$(e),[i,r]=c$(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);if(!this.At(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new DF(s,r,t);return i.forEach(c=>o.insert(c)),o}insert(e){if(0===this.It)return;const t=l$(e),[i,r]=c$(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class FE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class LE{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,BE.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new LE(Qt.min(),r,new Qi(xn),Ga(),kn())}}class BE{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new BE(i,t,kn(),kn(),kn())}}class BD{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class u${constructor(e,t){this.targetId=e,this.Vt=t}}class d${constructor(e,t,i=Rs.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class h${constructor(){this.St=0,this.Dt=p$(),this.Ct=Rs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=kn(),t=kn(),i=kn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Nt()}}),new BE(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=p$()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gte{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ga(),this.zt=f$(),this.Wt=new Qi(xn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const o=s.target;if(MD(o))if(0===r){const c=new wt(o.path);this.Yt(i,c,ar.newNoDocument(c,Qt.min()))}else Zt(1===r);else{const c=this.ie(i);if(c!==r){const h=this.re(e,c);0!==h&&(this.ee(i),this.Wt=this.Wt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=TF.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(p,g,b){var C,k,R,L,V,X;const ie={localCacheCount:g,existenceFilterCount:b.count},pe=b.unchangedNames;return pe&&(ie.bloomFilter={applied:0===p,hashCount:null!==(C=pe?.hashCount)&&void 0!==C?C:0,bitmapLength:null!==(L=null===(R=null===(k=pe?.bits)||void 0===k?void 0:k.bitmap)||void 0===R?void 0:R.length)&&void 0!==L?L:0,padding:null!==(X=null===(V=pe?.bits)||void 0===V?void 0:V.padding)&&void 0!==X?X:0}),ie}(h,c,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let h,p;try{h=lf(s).toUint8Array()}catch(g){if(g instanceof v4)return Bc("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw g}try{p=new DF(h,o,c)}catch(g){return Bc(g instanceof FE?"BloomFilter error: ":"Applying bloom filter failed: ",g),1}return 0===p.It?1:r!==t-this.oe(e.targetId,p)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Gt.ue(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(c)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const c=this.se(o);if(c){if(s.current&&MD(c.target)){const h=new wt(c.target.path);null!==this.jt.get(h)||this.ae(o,h)||this.Yt(o,h,ar.newNoDocument(h,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let i=kn();this.zt.forEach((s,o)=>{let c=!0;o.forEachWhile(h=>{const p=this.se(h);return!p||"TargetPurposeLimboResolution"===p.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const r=new LE(e,t,this.Wt,this.jt,i);return this.jt=Ga(),this.zt=f$(),this.Wt=new Qi(xn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new h$,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new or(xn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||tt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new h$),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function f$(){return new Qi(wt.comparator)}function p$(){return new Qi(wt.comparator)}const _te={asc:"ASCENDING",desc:"DESCENDING"},yte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vte={and:"AND",or:"OR"};class bte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function AF(n,e){return n.useProto3Json||CE(e)?e:{value:e}}function Ov(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wte(n,e){return Ov(n,e.toTimestamp())}function ls(n){return Zt(!!n),Qt.fromTimestamp(function(e){const t=Jp(e);return new wr(t.seconds,t.nanos)}(n))}function MF(n,e){return(t=n,new Qn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function g$(n){const e=Qn.fromString(n);return Zt(S$(e)),e}function VE(n,e){return MF(n.databaseId,e.path)}function jd(n,e){const t=g$(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new wt(y$(t))}function kF(n,e){return MF(n.databaseId,e)}function _$(n){const e=g$(n);return 4===e.length?Qn.emptyPath():y$(e)}function UE(n){return new Qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y$(n){return Zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function v$(n,e,t){return{name:VE(n,e),fields:t.value.mapValue.fields}}function b$(n,e,t){const i=jd(n,e.name),r=ls(e.updateTime),s=e.createTime?ls(e.createTime):Qt.min(),o=new bo({mapValue:{fields:e.fields}}),c=ar.newFoundDocument(i,r,s,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function jE(n,e){let t;if(e instanceof Pv)t={update:v$(n,e.key,e.value)};else if(e instanceof Rv)t={delete:VE(n,e.key)};else if(e instanceof df)t={update:v$(n,e.key,e.data),updateMask:Ate(e.fieldMask)};else{if(!(e instanceof CF))return Nt();t={verify:VE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof Mv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Gg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof kv)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Nt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:wte(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Nt()),t;var r}function PF(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Er.updateTime(ls(r.updateTime)):void 0!==r.exists?Er.exists(r.exists):Er.none():Er.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,o){let c=null;"setToServerValue"in o?(Zt("REQUEST_TIME"===o.setToServerValue),c=new Mv):"appendMissingElements"in o?c=new Gg(o.appendMissingElements.values||[]):"removeAllFromArray"in o?c=new qg(o.removeAllFromArray.values||[]):"increment"in o?c=new kv(s,o.increment):Nt();const h=Gr.fromServerFormat(o.fieldPath);return new OE(h,c)}(n,r)):[];var r;if(e.update){const r=jd(n,e.update.name),s=new bo({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Wa((e.updateMask.fieldPaths||[]).map(p=>Gr.fromServerFormat(p)));return new df(r,s,o,t,i)}return new Pv(r,s,t,i)}if(e.delete){const r=jd(n,e.delete);return new Rv(r,t)}if(e.verify){const r=jd(n,e.verify);return new CF(r,t)}return Nt()}function w$(n,e){return{documents:[kF(n,e.path)]}}function RF(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=kF(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kF(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return x$(Ti.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:sm((g=p).field),direction:Ite(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=AF(n,e.limit);var c,h;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt={before:!(h=e.endAt).inclusive,values:h.position}),t}function E$(n){let e=_$(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Zt(1===i);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(g){const b=C$(g);return b instanceof Ti&&mF(b)?b.getFilters():[b]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(g=>{return new Tv(Nv((b=g).field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let c=null;t.limit&&(c=function(g){let b;return b="object"==typeof g?g.value:g,CE(b)?null:b}(t.limit));let h=null;var g;t.startAt&&(h=new rm((g=t.startAt).values||[],!!g.before));let p=null;return t.endAt&&(p=function(g){return new rm(g.values||[],!g.before)}(t.endAt)),B4(e,r,o,s,c,"F",h,p)}function C$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nv(e.unaryFilter.field);return Hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Nv(e.unaryFilter.field);return Hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nv(e.unaryFilter.field);return Hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nv(e.unaryFilter.field);return Hn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(n):void 0!==n.fieldFilter?Hn.create(Nv((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ti.create(e.compositeFilter.filters.map(t=>C$(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Nt()}}(e.compositeFilter.op))}(n):Nt();var e}function Ite(n){return _te[n]}function Tte(n){return yte[n]}function Dte(n){return vte[n]}function sm(n){return{fieldPath:n.canonicalString()}}function Nv(n){return Gr.fromServerFormat(n.fieldPath)}function x$(n){return n instanceof Hn?function(e){if("=="===e.op){if(E4(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NAN"}};if(w4(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(E4(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NOT_NAN"}};if(w4(e.value))return{unaryFilter:{field:sm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sm(e.field),op:Tte(e.op),value:e.value}}}(n):n instanceof Ti?function(e){const t=e.getFilters().map(i=>x$(i));return 1===t.length?t[0]:{compositeFilter:{op:Dte(e.op),filters:t}}}(n):Nt()}function Ate(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function S$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class hf{constructor(e,t,i,r,s=Qt.min(),o=Qt.min(),c=Rs.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new hf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I${constructor(e){this.fe=e}}function T$(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:VD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:VE(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Ov(r,s.version.toTimestamp()),createTime:Ov(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Zg(e.version)};else{if(!e.isUnknownDocument())return Nt();i.unknownDocument={path:t.path.toArray(),version:Zg(e.version)}}var r,s;return i}function VD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Zg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Kg(n){const e=new wr(n.seconds,n.nanoseconds);return Qt.fromTimestamp(e)}function Yg(n,e){const t=(e.baseMutations||[]).map(s=>PF(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>PF(n.fe,s)),r=wr.fromMillis(e.localWriteTimeMs);return new xF(e.batchId,r,t,i)}function zE(n){const e=Kg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Kg(n.lastLimboFreeSnapshotVersion):Qt.min();let i;var r;return void 0!==n.query.documents?(Zt(1===(r=n.query).documents.length),i=pa(Av(_$(r.documents[0])))):i=pa(E$(n.query)),new hf(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Rs.fromBase64String(n.resumeToken))}function D$(n,e){const t=Zg(e.snapshotVersion),i=Zg(e.lastLimboFreeSnapshotVersion);let r;r=MD(e.target)?w$(n.fe,e.target):RF(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$g(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function OF(n){const e=E$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?RD(e,e.limit,"L"):e}function NF(n,e){return new IF(e.largestBatchId,PF(n.fe,e.overlayMutation))}function A$(n,e){const t=e.path.lastSegment();return[n,$o(e.path.popLast()),t]}function M$(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Zg(i.readTime),documentKey:$o(i.documentKey.path),largestBatchId:i.largestBatchId}}class kte{getBundleMetadata(e,t){return k$(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Kg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return k$(e).put({bundleId:(i=t).id,createTime:Zg(ls(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return P$(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:OF(r.bundledQuery),readTime:Kg(r.readTime)};var r})}saveNamedQuery(e,t){return P$(e).put({name:(i=t).name,readTime:Zg(ls(i.readTime)),bundledQuery:i.bundledQuery});var i}}function k$(n){return Qs(n,"bundles")}function P$(n){return Qs(n,"namedQueries")}class UD{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new UD(e,t.uid||"")}getOverlay(e,t){return HE(e).get(A$(this.userId,t)).next(i=>i?NF(this.serializer,i):null)}getOverlays(e,t){const i=Ud();return be.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,o)=>{const c=new IF(t,o);r.push(this.we(e,c))}),be.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(o=>r.add($o(o.getCollectionPath())));const s=[];return r.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(HE(e).J("collectionPathOverlayIndex",c))}),be.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Ud(),s=$o(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return HE(e).j("collectionPathOverlayIndex",o).next(c=>{for(const h of c){const p=NF(this.serializer,h);r.set(p.getKey(),p)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Ud();let o;const c=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return HE(e).X({index:"collectionGroupOverlayIndex",range:c},(h,p,g)=>{const b=NF(this.serializer,p);s.size()<r||b.largestBatchId===o?(s.set(b.getKey(),b),o=b.largestBatchId):g.done()}).next(()=>s)}we(e,t){return HE(e).put(function(i,r,s){const[o,c,h]=A$(r,s.mutation.key);return{userId:r,collectionPath:c,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:jE(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function HE(n){return Qs(n,"documentOverlays")}class Qg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qr(e.integerValue));else if("doubleValue"in e){const i=qr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),xE(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(lf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?C4(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Nt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),wt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Pte(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function R$(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=Pte(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Qg.Ve=new Qg;class Rte{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=R$(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=R$(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Ote{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Nte{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class $E{constructor(){this.je=new Rte,this.ze=new Ote(this.je),this.We=new Nte(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Xg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Xg(this.indexId,this.documentKey,this.arrayValue,i)}}function om(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=O$(n.arrayValue,e.arrayValue),0!==t?t:(t=O$(n.directionalValue,e.directionalValue),0!==t?t:wt.comparator(n.documentKey,e.documentKey)))}function O$(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Fte{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Zt(e.collectionGroup===this.collectionId);const t=aF(e);if(void 0!==t&&!this.en(t))return!1;const i=jg(e);let r=new Set,s=0,o=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const c=i[s];if(!this.nn(this.Ze,c)||!this.sn(this.Ye[o++],c))return!1}++s}for(;s<i.length;++s)if(o>=this.Ye.length||!this.sn(this.Ye[o++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function N$(n){var e,t;if(Zt(n instanceof Hn||n instanceof Ti),n instanceof Hn){if(n instanceof N4){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Hn.create(n.field,"==",s)))||[];return Ti.create(r,"or")}return n}const i=n.filters.map(r=>N$(r));return Ti.create(i,n.op)}function Lte(n){if(0===n.getFilters().length)return[];const e=BF(N$(n));return Zt(F$(e)),FF(e)||LF(e)?[e]:e.getFilters()}function FF(n){return n instanceof Hn}function LF(n){return n instanceof Ti&&mF(n)}function F$(n){return FF(n)||LF(n)||function(e){if(e instanceof Ti&&pF(e)){for(const t of e.getFilters())if(!FF(t)&&!LF(t))return!1;return!0}return!1}(n)}function BF(n){if(Zt(n instanceof Hn||n instanceof Ti),n instanceof Hn)return n;if(1===n.filters.length)return BF(n.filters[0]);const e=n.filters.map(i=>BF(i));let t=Ti.create(e,n.op);return t=jD(t),F$(t)?t:(Zt(t instanceof Ti),Zt(Dv(t)),Zt(t.filters.length>1),t.filters.reduce((i,r)=>VF(i,r)))}function VF(n,e){let t;return Zt(n instanceof Hn||n instanceof Ti),Zt(e instanceof Hn||e instanceof Ti),t=n instanceof Hn?e instanceof Hn?Ti.create([n,e],"and"):L$(n,e):e instanceof Hn?L$(e,n):function(i,r){if(Zt(i.filters.length>0&&r.filters.length>0),Dv(i)&&Dv(r))return P4(i,r.getFilters());const s=pF(i)?i:r,o=pF(i)?r:i,c=s.filters.map(h=>VF(h,o));return Ti.create(c,"or")}(n,e),jD(t)}function L$(n,e){if(Dv(e))return P4(e,n.getFilters());{const t=e.filters.map(i=>VF(n,i));return Ti.create(t,"or")}}function jD(n){if(Zt(n instanceof Hn||n instanceof Ti),n instanceof Hn)return n;const e=n.getFilters();if(1===e.length)return jD(e[0]);if(M4(n))return n;const t=e.map(r=>jD(r)),i=[];return t.forEach(r=>{r instanceof Hn?i.push(r):r instanceof Ti&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ti.create(i,n.op)}class Bte{constructor(){this.rn=new UF}addToCollectionParentIndex(e,t){return this.rn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(Fl.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(Fl.min())}updateCollectionGroup(e,t,i){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class UF{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new or(Qn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new or(Qn.comparator)).toArray()}}const zD=new Uint8Array(0);class Vte{constructor(e,t){this.user=e,this.databaseId=t,this.on=new UF,this.un=new uf(i=>$g(i),(i,r)=>AE(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:$o(r)};return B$(e).put(s)}return be.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[i4(t),""],!1,!0);return B$(e).j(r).next(s=>{for(const o of s){if(o.collectionId!==t)break;i.push(Bd(o.parent))}return i})}addFieldIndex(e,t){const i=HD(e),r={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;delete r.indexId;const s=i.add(r);if(t.indexState){const o=GE(e);return s.next(c=>{o.put(M$(c,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=HD(e),r=GE(e),s=WE(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=WE(e);let r=!0;const s=new Map;return be.forEach(this.cn(t),o=>this.an(e,o).next(c=>{r&&(r=!!c),s.set(o,c)})).next(()=>{if(r){let o=kn();const c=[];return be.forEach(s,(h,p)=>{var g;tt("IndexedDbIndexManager",`Using index ${g=h,`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(pe=>`${pe.fieldPath}:${pe.kind}`).join(",")}`} to execute ${$g(t)}`);const b=function(pe,ve){const Ee=aF(ve);if(void 0===Ee)return null;for(const De of kD(pe,Ee.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(p,h),C=function(pe,ve){const Ee=new Map;for(const De of jg(ve))for(const nt of kD(pe,De.fieldPath))switch(nt.op){case"==":case"in":Ee.set(De.fieldPath.canonicalString(),nt.value);break;case"not-in":case"!=":return Ee.set(De.fieldPath.canonicalString(),nt.value),Array.from(Ee.values())}return null}(p,h),k=function(pe,ve){const Ee=[];let De=!0;for(const nt of jg(ve)){const Je=0===nt.kind?F4(pe,nt.fieldPath,pe.startAt):L4(pe,nt.fieldPath,pe.startAt);Ee.push(Je.value),De&&(De=Je.inclusive)}return new rm(Ee,De)}(p,h),R=function(pe,ve){const Ee=[];let De=!0;for(const nt of jg(ve)){const Je=0===nt.kind?L4(pe,nt.fieldPath,pe.endAt):F4(pe,nt.fieldPath,pe.endAt);Ee.push(Je.value),De&&(De=Je.inclusive)}return new rm(Ee,De)}(p,h),L=this.hn(h,p,k),V=this.hn(h,p,R),X=this.ln(h,p,C),ie=this.fn(h.indexId,b,L,k.inclusive,V,R.inclusive,X);return be.forEach(ie,pe=>i.H(pe,t.limit).next(ve=>{ve.forEach(Ee=>{const De=wt.fromSegments(Ee.documentKey);o.has(De)||(o=o.add(De),c.push(De))})}))}).next(()=>c)}return be.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Lte(Ti.create(e.filters,"and")).map(i=>_F(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,o,c){const h=(null!=t?t.length:1)*Math.max(i.length,s.length),p=h/(null!=t?t.length:1),g=[];for(let b=0;b<h;++b){const C=t?this.dn(t[b/p]):zD,k=this.wn(e,C,i[b%p],r),R=this._n(e,C,s[b%p],o),L=c.map(V=>this.wn(e,C,V,!0));g.push(...this.createRange(k,R,L))}return g}wn(e,t,i,r){const s=new Xg(e,wt.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new Xg(e,wt.empty(),t,i);return r?s.Je():s}an(e,t){const i=new Fte(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(const c of s)i.tn(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(e,t){let i=2;const r=this.cn(t);return be.forEach(r,s=>this.an(e,s).next(o=>{o?0!==i&&o.fields.length<function(c){let h=new or(Gr.comparator),p=!1;for(const g of c.filters)for(const b of g.getFlattenedFilters())b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:h=h.add(b.field));for(const g of c.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(p?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new $E;for(const r of jg(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const o=i.He(r.kind);Qg.Ve._e(s,o)}return i.Qe()}dn(e){const t=new $E;return Qg.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new $E;return Qg.Ve._e(Hg(this.databaseId,t),i.He(function(r){const s=jg(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new $E);let s=0;for(const o of jg(e)){const c=i[s++];for(const h of r)if(this.yn(t,o.fieldPath)&&TE(c))r=this.pn(r,o,c);else{const p=h.He(o.kind);Qg.Ve._e(c,p)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const o of i.arrayValue.values||[])for(const c of r){const h=new $E;h.seed(c.Qe()),Qg.Ve._e(o,h.He(t.kind)),s.push(h)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof Hn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=HD(e),r=GE(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const o=[];return be.forEach(s,c=>r.get([c.indexId,this.uid]).next(h=>{o.push(function(p,g){const b=g?new wE(g.sequenceNumber,new Fl(Kg(g.readTime),new wt(Bd(g.documentKey)),g.largestBatchId)):wE.empty(),C=p.fields.map(([k,R])=>new wD(Gr.fromServerFormat(k),R));return new bD(p.indexId,p.collectionGroup,C,b)}(c,h))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:xn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=HD(e),s=GE(e);return this.Tn(e).next(o=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(c=>be.forEach(c,h=>s.put(M$(h.indexId,this.user,o,i)))))}updateIndexEntries(e,t){const i=new Map;return be.forEach(t,(r,s)=>{const o=i.get(r.collectionGroup);return(o?be.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),be.forEach(c,h=>this.En(e,r,h).next(p=>{const g=this.An(s,h);return p.isEqual(g)?be.resolve():this.vn(e,s,h,p,g)}))))})}Rn(e,t,i,r){return WE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return WE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=WE(e);let s=new or(om);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(o,c)=>{s=s.add(new Xg(i.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>s)}An(e,t){let i=new or(om);const r=this.mn(t,e);if(null==r)return i;const s=aF(t);if(null!=s){const o=e.data.field(s.fieldPath);if(TE(o))for(const c of o.arrayValue.values||[])i=i.add(new Xg(t.indexId,e.key,this.dn(c),r))}else i=i.add(new Xg(t.indexId,e.key,zD,r));return i}vn(e,t,i,r,s){tt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,h,p,g,b){const C=c.getIterator(),k=h.getIterator();let R=Sv(C),L=Sv(k);for(;R||L;){let V=!1,X=!1;if(R&&L){const ie=p(R,L);ie<0?X=!0:ie>0&&(V=!0)}else null!=R?X=!0:V=!0;V?(g(L),L=Sv(k)):X?(b(R),R=Sv(C)):(R=Sv(C),L=Sv(k))}}(r,s,om,c=>{o.push(this.Rn(e,t,i,c))},c=>{o.push(this.Pn(e,t,i,c))}),be.waitFor(o)}Tn(e){let t=1;return GE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,c)=>om(o,c)).filter((o,c,h)=>!c||0!==om(o,h[c-1]));const r=[];r.push(e);for(const o of i){const c=om(o,e),h=om(o,t);if(0===c)r[0]=e.Je();else if(c>0&&h<0)r.push(o),r.push(o.Je());else if(h>0)break}r.push(t);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,zD,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,zD,[]]))}return s}bn(e,t){return om(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(V$)}getMinOffset(e,t){return be.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||Nt())).next(V$)}}function B$(n){return Qs(n,"collectionParents")}function WE(n){return Qs(n,"indexEntries")}function HD(n){return Qs(n,"indexConfiguration")}function GE(n){return Qs(n,"indexState")}function V$(n){Zt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;lF(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Fl(e.readTime,e.documentKey,t)}const U$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Wo(e,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function j$(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let c=0;const h=i.X({range:o},(g,b,C)=>(c++,C.delete()));s.push(h.next(()=>{Zt(1===c)}));const p=[];for(const g of t.mutations){const b=h4(e,g.key.path,t.batchId);s.push(r.delete(b)),p.push(g.key)}return be.waitFor(s).next(()=>p)}function $D(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Nt();e=n.noDocument}return JSON.stringify(e).length}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);class WD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Zt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new WD(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return am(e).X({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Fv(e),o=am(e);return o.add({}).next(c=>{Zt("number"==typeof c);const h=new xF(c,t,i,r),p=function(C,k,R){const L=R.baseMutations.map(X=>jE(C.fe,X)),V=R.mutations.map(X=>jE(C.fe,X));return{userId:k,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:L,mutations:V}}(this.serializer,this.userId,h),g=[];let b=new or((C,k)=>xn(C.canonicalString(),k.canonicalString()));for(const C of r){const k=h4(this.userId,C.key.path,c);b=b.add(C.key.path.popLast()),g.push(o.put(p)),g.push(s.put(k,Iee))}return b.forEach(C=>{g.push(this.indexManager.addToCollectionParentIndex(e,C))}),e.addOnCommittedListener(()=>{this.Vn[c]=h.keys()}),be.waitFor(g).next(()=>h)})}lookupMutationBatch(e,t){return am(e).get(t).next(i=>i?(Zt(i.userId===this.userId),Yg(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?be.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return am(e).X({index:"userMutationsIndex",range:r},(o,c,h)=>{c.userId===this.userId&&(Zt(c.batchId>=i),s=Yg(this.serializer,c)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return am(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return am(e).j("userMutationsIndex",t).next(i=>i.map(r=>Yg(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=CD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Fv(e).X({range:r},(o,c,h)=>{const[p,g,b]=o,C=Bd(g);if(p===this.userId&&t.path.isEqual(C))return am(e).get(b).next(k=>{if(!k)throw Nt();Zt(k.userId===this.userId),s.push(Yg(this.serializer,k))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new or(xn);const r=[];return t.forEach(s=>{const o=CD(this.userId,s.path),c=IDBKeyRange.lowerBound(o),h=Fv(e).X({range:c},(p,g,b)=>{const[C,k,R]=p,L=Bd(k);C===this.userId&&s.path.isEqual(L)?i=i.add(R):b.done()});r.push(h)}),be.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=CD(this.userId,i),o=IDBKeyRange.lowerBound(s);let c=new or(xn);return Fv(e).X({range:o},(h,p,g)=>{const[b,C,k]=h,R=Bd(C);b===this.userId&&i.isPrefixOf(R)?R.length===r&&(c=c.add(k)):g.done()}).next(()=>this.Dn(e,c))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(am(e).get(s).next(o=>{if(null===o)throw Nt();Zt(o.userId===this.userId),i.push(Yg(this.serializer,o))}))}),be.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return j$(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Fv(e).X({range:i},(s,o,c)=>{if(s[0]===this.userId){const h=Bd(s[1]);r.push(h)}else c.done()}).next(()=>{Zt(0===r.length)})})}containsKey(e,t){return z$(e,this.userId,t)}xn(e){return H$(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function z$(n,e,t){const i=CD(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Fv(n).X({range:s,Y:!0},(c,h,p)=>{const[g,b,C]=c;g===e&&b===r&&(o=!0),p.done()}).next(()=>o)}function am(n){return Qs(n,"mutations")}function Fv(n){return Qs(n,"documentMutations")}function H$(n){return Qs(n,"mutationQueues")}class Jg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Jg(0)}static Mn(){return new Jg(-1)}}class Ute{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Jg(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Qt.fromTimestamp(new wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lv(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Zt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Lv(e).X((o,c)=>{const h=zE(c);h.sequenceNumber<=t&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(e,h)))}).next(()=>be.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Lv(e).X((i,r)=>{const s=zE(r);t(s)})}$n(e){return $$(e).get("targetGlobalKey").next(t=>(Zt(null!==t),t))}On(e,t){return $$(e).put("targetGlobalKey",t)}Fn(e,t){return Lv(e).put(D$(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=$g(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Lv(e).X({range:r,index:"queryTargetsIndex"},(o,c,h)=>{const p=zE(c);AE(t,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=lm(e);return t.forEach(o=>{const c=$o(o.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(e,i,o))}),be.waitFor(r)}removeMatchingKeys(e,t,i){const r=lm(e);return be.forEach(t,s=>{const o=$o(s.path);return be.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=lm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=lm(e);let s=kn();return r.X({range:i,Y:!0},(o,c,h)=>{const p=Bd(o[1]),g=new wt(p);s=s.add(g)}).next(()=>s)}containsKey(e,t){const i=$o(t.path),r=IDBKeyRange.bound([i],[i4(i)],!1,!0);let s=0;return lm(e).X({index:"documentTargetsIndex",Y:!0,range:r},([o,c],h,p)=>{0!==o&&(s++,p.done())}).next(()=>s>0)}le(e,t){return Lv(e).get(t).next(i=>i?zE(i):null)}}function Lv(n){return Qs(n,"targets")}function $$(n){return Qs(n,"targetGlobal")}function lm(n){return Qs(n,"targetDocuments")}function W$([n,e],[t,i]){const r=xn(n,t);return 0===r?xn(e,i):r}class jte{constructor(e){this.Ln=e,this.buffer=new or(W$),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();W$(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class G${constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Oe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Qp(i)?tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Yp(i)}yield t.Qn(3e5)}))}}class zte{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return be.resolve(Ll.ct);const i=new jte(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(U$)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U$):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,o,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,o=Date.now(),this.nthSequenceNumber(e,r))).next(b=>(i=b,c=Date.now(),this.removeTargets(e,i,t))).next(b=>(s=b,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(p=Date.now(),sF()<=Ha.in.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-g}ms\n\tDetermined least recently used ${r} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(h-c)+`ms\n\tRemoved ${b} documents in `+(p-h)+`ms\nTotal Duration: ${p-g}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:b})))}}class Hte{constructor(e,t){this.db=e,this.garbageCollector=function q$(n,e){return new zte(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return GD(e,i)}removeReference(e,t,i){return GD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return GD(e,t)}Xn(e,t){return function(i,r){let s=!1;return H$(i).Z(o=>z$(i,o,r).next(c=>(c&&(s=!0),be.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(o,c)=>{if(c<=t){const h=this.Xn(e,o).next(p=>{if(!p)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,Qt.min()),lm(e).delete([0,$o(o.path)])))});r.push(h)}}).next(()=>be.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return GD(e,t)}Yn(e,t){const i=lm(e);let r,s=Ll.ct;return i.X({index:"documentTargetsIndex"},([o,c],{path:h,sequenceNumber:p})=>{0===o?(s!==Ll.ct&&t(new wt(Bd(r)),s),s=p,r=h):s=Ll.ct}).next(()=>{s!==Ll.ct&&t(new wt(Bd(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function GD(n,e){return lm(n).put((i=n.currentSequenceNumber,{targetId:0,path:$o(e.path),sequenceNumber:i}));var i}class Z${constructor(){this.changes=new uf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?be.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $te{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return e_(e).put(i)}removeEntry(e,t,i){return e_(e).delete(function(r,s){const o=r.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],VD(s),o[o.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ar.newInvalidDocument(t);return e_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qE(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:ar.newInvalidDocument(t)};return e_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qE(t))},(r,s)=>{i={document:this.ts(t,s),size:$D(s)}}).next(()=>i)}getEntries(e,t){let i=Ga();return this.ns(e,t,(r,s)=>{const o=this.ts(r,s);i=i.insert(r,o)}).next(()=>i)}ss(e,t){let i=Ga(),r=new Qi(wt.comparator);return this.ns(e,t,(s,o)=>{const c=this.ts(s,o);i=i.insert(s,c),r=r.insert(s,$D(o))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return be.resolve();let r=new or(X$);t.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(qE(r.first()),qE(r.last())),o=r.getIterator();let c=o.getNext();return e_(e).X({index:"documentKeyIndex",range:s},(h,p,g)=>{const b=wt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;c&&X$(c,b)<0;)i(c,null),c=o.getNext();c&&c.isEqual(b)&&(i(c,p),c=o.hasNext()?o.getNext():null),c?g.G(qE(c)):g.done()}).next(()=>{for(;c;)i(c,null),c=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),VD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return e_(e).j(IDBKeyRange.bound(o,c,!0)).next(h=>{let p=Ga();for(const g of h){const b=this.ts(wt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);b.isFoundDocument()&&(kE(t,b)||r.has(b.key))&&(p=p.insert(b.key,b))}return p})}getAllFromCollectionGroup(e,t,i,r){let s=Ga();const o=Q$(t,i),c=Q$(t,Fl.max());return e_(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(h,p,g)=>{const b=this.ts(wt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(b.key,b),s.size===r&&g.done()}).next(()=>s)}newChangeBuffer(e){return new Wte(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Y$(e).get("remoteDocumentGlobalKey").next(t=>(Zt(!!t),t))}Zn(e,t){return Y$(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function Mte(n,e){let t;if(e.document)t=b$(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=wt.fromSegments(e.noDocument.path),r=Kg(e.noDocument.readTime);t=ar.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt();{const i=wt.fromSegments(e.unknownDocument.path),r=Kg(e.unknownDocument.version);t=ar.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new wr(i[0],i[1]);return Qt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Qt.min()))return i}return ar.newInvalidDocument(e)}}function K$(n){return new $te(n)}class Wte extends Z${constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new uf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new or((s,o)=>xn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.us.get(s);if(t.push(this.os.removeEntry(e,s,c.readTime)),o.isValidDocument()){const h=T$(this.os.serializer,o);r=r.add(s.path.popLast());const p=$D(h);i+=p-c.size,t.push(this.os.addEntry(e,s,h))}else if(i-=c.size,this.trackRemovals){const h=T$(this.os.serializer,o.convertToNoDocument(Qt.min()));t.push(this.os.addEntry(e,s,h))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),be.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,o)=>{this.us.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function Y$(n){return Qs(n,"remoteDocumentGlobal")}function e_(n){return Qs(n,"remoteDocumentsV14")}function qE(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Q$(n,e){const t=e.documentKey.path.toArray();return[n,VD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function X$(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=xn(t[s],i[s]),r)return r;return r=xn(t.length,i.length),r||(r=xn(t[t.length-2],i[i.length-2]),r||xn(t[t.length-1],i[i.length-1]))}class Gte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class J${constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&NE(i.mutation,r,Wa.empty(),wr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,kn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=kn()){const r=Ud();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=PE();return s.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=Ud();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,kn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,i,r){let s=Ga();const o=RE(),c=RE();return t.forEach((h,p)=>{const g=i.get(p.key);r.has(p.key)&&(void 0===g||g.mutation instanceof df)?s=s.insert(p.key,p):void 0!==g?(o.set(p.key,g.mutation.getFieldMask()),NE(g.mutation,p,g.mutation.getFieldMask(),wr.now())):o.set(p.key,Wa.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((p,g)=>o.set(p,g)),t.forEach((p,g)=>{var b;return c.set(p,new Gte(g,null!==(b=o.get(p))&&void 0!==b?b:null))}),c))}recalculateAndSaveOverlays(e,t){const i=RE();let r=new Qi((o,c)=>o-c),s=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const c of o)c.keys().forEach(h=>{const p=t.get(h);if(null===p)return;let g=i.get(h)||Wa.empty();g=c.applyToLocalView(p,g),i.set(h,g);const b=(r.get(c.batchId)||kn()).add(h);r=r.insert(c.batchId,b)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,b=W4();g.forEach(C=>{if(!s.has(C)){const k=e$(t.get(C),i.get(C));null!==k&&b.set(C,k),s=s.add(C)}}),o.push(this.documentOverlayCache.saveOverlays(e,p,b))}return be.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return wt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):be.resolve(Ud());let c=-1,h=s;return o.next(p=>be.forEach(p,(g,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),s.get(g)?be.resolve():this.remoteDocumentCache.getEntry(e,g).next(C=>{h=h.insert(g,C)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,h,p,kn())).next(g=>({batchId:c,changes:$4(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next(i=>{let r=PE();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=PE();return this.indexManager.getCollectionParents(e,r).next(o=>be.forEach(o,c=>{const h=(p=t,g=c.child(r),new cf(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,h,i).next(p=>{p.forEach((g,b)=>{s=s.insert(g,b)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((c,h)=>{const p=h.getKey();null===s.get(p)&&(s=s.insert(p,ar.newInvalidDocument(p)))});let o=PE();return s.forEach((c,h)=>{const p=r.get(c);void 0!==p&&NE(p.mutation,h,Wa.empty(),wr.now()),kE(t,h)&&(o=o.insert(c,h))}),o})}}class qte{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return be.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ls(i.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:OF(i.bundledQuery),readTime:ls(i.readTime)}),be.resolve();var i}}class Zte{constructor(){this.overlays=new Qi(wt.comparator),this.ls=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ud();return be.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),be.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),be.resolve()}getOverlaysForCollection(e,t,i){const r=Ud(),s=t.length+1,o=new wt(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Qi((p,g)=>p-g);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let g=s.get(p.largestBatchId);null===g&&(g=Ud(),s=s.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Ud(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=r)););return be.resolve(c)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new IF(t,i));let s=this.ls.get(t);void 0===s&&(s=kn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class jF{constructor(){this.fs=new or(Xs.ds),this.ws=new or(Xs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Xs(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Xs(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new wt(new Qn([])),i=new Xs(t,e),r=new Xs(t,e+1),s=[];return this.ws.forEachInRange([i,r],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new wt(new Qn([])),i=new Xs(t,e),r=new Xs(t,e+1);let s=kn();return this.ws.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Xs(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Xs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return wt.comparator(e.key,t.key)||xn(e.As,t.As)}static _s(e,t){return xn(e.As,t.As)||wt.comparator(e.key,t.key)}}class Kte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new or(Xs.ds)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const o=new xF(s,t,i,r);this.mutationQueue.push(o);for(const c of r)this.Rs=this.Rs.add(new Xs(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,t){return be.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xs(t,0),r=new Xs(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],o=>{const c=this.Ps(o.As);s.push(c)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new or(xn);return t.forEach(r=>{const s=new Xs(r,0),o=new Xs(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],c=>{i=i.add(c.As)})}),be.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;wt.isDocumentKey(s)||(s=s.child(""));const o=new Xs(new wt(s),0);let c=new or(xn);return this.Rs.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(h.As)),!0)},o),be.resolve(this.Vs(c))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Zt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return be.forEach(t.mutations,r=>{const s=new Xs(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Xs(t,0),r=this.Rs.firstAfterOrEqual(i);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return be.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Yte{constructor(e){this.Ds=e,this.docs=new Qi(wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return be.resolve(i?i.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let i=Ga();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ar.newInvalidDocument(r))}),be.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Ga();const o=t.path,c=new wt(o.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||lF(s4(g),i)<=0||(r.has(g.key)||kE(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Nt()}Cs(e,t){return be.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Qte(this)}getSize(e){return be.resolve(this.size)}}class Qte extends Z${constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),be.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xte{constructor(e){this.persistence=e,this.xs=new uf(t=>$g(t),AE),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jF,this.targetCount=0,this.Ms=Jg.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),be.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Jg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Fn(t),be.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((o,c)=>{c.sequenceNumber<=t&&null===i.get(c.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),be.waitFor(s).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return be.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),be.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),be.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return be.resolve(i)}containsKey(e,t){return be.resolve(this.ks.containsKey(t))}}class zF{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ll(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xte(this),this.indexManager=new Bte,this.remoteDocumentCache=new Yte(i=>this.referenceDelegate.Ls(i)),this.serializer=new I$(t),this.qs=new qte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new Kte(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){tt("MemoryPersistence","Starting transaction:",e);const r=new Jte(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return be.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class Jte extends a4{constructor(e){super(),this.currentSequenceNumber=e}}class qD{constructor(e){this.persistence=e,this.Qs=new jF,this.js=null}static zs(e){return new qD(e)}get Ws(){if(this.js)return this.js;throw Nt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),be.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),be.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ws,i=>{const r=wt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Qt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return be.or([()=>be.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ene{constructor(e){this.serializer=e}O(e,t,i,r){const s=new ED("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",d4,{unique:!0}),c.createObjectStore("documentMutations"),e6(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=be.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),e6(e)),o=o.next(()=>function(c){const h=c.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qt.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(c,h){return h.store("mutations").j().next(p=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",d4,{unique:!0});const g=h.store("mutations"),b=p.map(C=>g.put(C));return be.waitFor(b)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(o=o.next(()=>this.Ys(s))),i<6&&r>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(o=o.next(()=>this.Zs(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(e,s))),i<9&&r>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(o=o.next(()=>this.ei(s))),i<11&&r>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{!function(c){const h=c.createObjectStore("documentOverlays",{keyPath:Bee});h.createIndex("collectionPathOverlayIndex",Vee,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",Uee,{unique:!1})}(e)})),i<13&&r>=13&&(o=o.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:Tee});h.createIndex("documentKeyIndex",Dee),h.createIndex("collectionGroupIndex",Aee)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.si(e,s))),i<15&&r>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Oee}).createIndex("sequenceNumberIndex",Nee,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Fee}).createIndex("documentKeyIndex",Lee,{unique:!1})}(e))),o}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=$D(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>be.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",o).next(c=>be.forEach(c,h=>{Zt(h.userId===s.userId);const p=Yg(this.serializer,h);return j$(e,s.userId,p).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((o,c)=>{const h=new Qn(o),p=[0,$o(h)];s.push(t.get(p).next(g=>g?be.resolve():t.put({targetId:0,path:$o(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>be.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Ree});const i=t.store("collectionParents"),r=new UF,s=o=>{if(r.add(o)){const c=o.lastSegment(),h=o.popLast();return i.put({collectionId:c,parent:$o(h)})}};return t.store("remoteDocuments").X({Y:!0},(o,c)=>{const h=new Qn(o);return s(h.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([o,c,h],p)=>{const g=Bd(c);return s(g.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=zE(r),o=D$(this.serializer,s);return t.put(o)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,o)=>{const c=t.store("remoteDocumentsV14"),h=(p=o,p.document?new wt(Qn.fromString(p.document.name).popFirst(5)):p.noDocument?wt.fromSegments(p.noDocument.path):p.unknownDocument?wt.fromSegments(p.unknownDocument.path):Nt()).path.toArray();var p;const g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(c.put(g))}).next(()=>be.waitFor(r))}si(e,t){const i=t.store("mutations"),r=K$(this.serializer),s=new zF(qD.zs,this.serializer.fe);return i.j().next(o=>{const c=new Map;return o.forEach(h=>{var p;let g=null!==(p=c.get(h.userId))&&void 0!==p?p:kn();Yg(this.serializer,h).keys().forEach(b=>g=g.add(b)),c.set(h.userId,g)}),be.forEach(c,(h,p)=>{const g=new Ys(p),b=UD.de(this.serializer,g),C=s.getIndexManager(g),k=WD.de(g,this.serializer,C,s.referenceDelegate);return new J$(r,k,b,C).recalculateAndSaveOverlaysForDocumentKeys(new dF(t,Ll.ct),h).next()})})}}function e6(n){n.createObjectStore("targetDocuments",{keyPath:kee}).createIndex("documentTargetsIndex",Pee,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mee,{unique:!0}),n.createObjectStore("targetGlobal")}const HF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $F{constructor(e,t,i,r,s,o,c,h,p,g,b=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=o,this.document=c,this.ri=p,this.oi=g,this.ui=b,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=C=>Promise.resolve(),!$F.D())throw new qe(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hte(this,r),this.di=t+"main",this.serializer=new I$(h),this.wi=new ku(this.di,this.ui,new ene(this.serializer)),this.Bs=new Ute(this.referenceDelegate,this.serializer),this.remoteDocumentCache=K$(this.serializer),this.qs=new kte,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===g&&as("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qe(Se.FAILED_PRECONDITION,HF);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ll(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Oe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Oe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>KD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Qp(e))return tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ZE(e).get("owner").next(t=>be.resolve(this.Ri(t)))}Pi(e){return KD(e).delete(this.clientId)}bi(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Qs(i,"clientMetadata");return r.j().next(s=>{const o=e.Si(s,18e5),c=s.filter(h=>-1===o.indexOf(h));return be.forEach(c,h=>r.delete(h.clientId)).next(()=>c)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?be.resolve(!0):ZE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new qe(Se.FAILED_PRECONDITION,HF);return!1}}return!(!this.networkEnabled||!this.inForeground)||KD(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&tt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new dF(t,Ll.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>KD(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return WD.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vte(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return UD.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){tt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(o=this.ui)?zee:14===o?m4:13===o?p4:12===o?jee:11===o?f4:void Nt();var o;let c;return this.wi.runTransaction(e,r,s,h=>(c=new dF(h,this.Os?this.Os.next():Ll.ct),"readwrite-primary"===t?this.Ti(c).next(p=>!!p||this.Ei(c)).next(p=>{if(!p)throw as(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new qe(Se.FAILED_PRECONDITION,o4);return i(c)}).next(p=>this.vi(c).next(()=>p)):this.Oi(c).next(()=>i(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Oi(e){return ZE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qe(Se.FAILED_PRECONDITION,HF)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ZE(e).put("owner",t)}static D(){return ku.D()}Ai(e){const t=ZE(e);return t.get("owner").next(i=>this.Ri(i)?(tt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(as(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ae.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return tt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return as("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){as("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ZE(n){return Qs(n,"owner")}function KD(n){return Qs(n,"clientMetadata")}function WF(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class GF{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=kn(),r=kn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new GF(e,t.fromCache,i,r)}}class t6{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(V4(t))return be.resolve(null);let i=pa(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=RD(t,null,"F"),i=pa(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=kn(...s);return this.Ui.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.ji(t,c);return this.zi(t,p,o,h.readTime)?this.Ki(e,RD(t,null,"F")):this.Wi(e,p,t,h)}))})))}Gi(e,t,i,r){return V4(t)||r.isEqual(Qt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const o=this.ji(t,s);return this.zi(t,o,i,r)?this.Qi(e,t):(sF()<=Ha.in.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wF(t)),this.Wi(e,o,t,r4(r,-1)))})}ji(e,t){let i=new or(z4(e));return t.forEach((r,s)=>{kE(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return sF()<=Ha.in.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",wF(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fl.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class tne{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Qi(xn),this.Yi=new uf(s=>$g(s),AE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function n6(n,e,t,i){return new tne(n,e,t,i)}function i6(n,e){return qF.apply(this,arguments)}function qF(){return qF=(0,Oe.Z)(function*(n,e){const t=St(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let h=kn();for(const p of r){o.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of s){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(p=>({er:p,removedBatchIds:o,addedBatchIds:c}))})})}),qF.apply(this,arguments)}function r6(n){const e=St(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function s6(n,e,t){let i=kn(),r=kn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Ga();return t.forEach((c,h)=>{const p=s.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(Qt.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):tt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{nr:o,sr:r}})}function rne(n,e){const t=St(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Bv(n,e){const t=St(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,be.resolve(r)):t.Bs.allocateTargetId(i).next(o=>(r=new hf(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Vv(n,e,t){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,Oe.Z)(function*(n,e,t){const i=St(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Qp(o))throw o;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),ZF.apply(this,arguments)}function YD(n,e,t){const i=St(n);let r=Qt.min(),s=kn();return i.persistence.runTransaction("Execute query","readonly",o=>function(c,h,p){const g=St(c),b=g.Yi.get(p);return void 0!==b?be.resolve(g.Ji.get(b)):g.Bs.getTargetData(h,p)}(i,o,pa(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(o,c.targetId).next(h=>{s=h})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,t?r:Qt.min(),t?s:kn())).next(c=>(l6(i,j4(e),c),{documents:c,ir:s})))}function o6(n,e){const t=St(n),i=St(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(o=>o?o.target:null))}function a6(n,e){const t=St(n),i=t.Xi.get(e)||Qt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,r4(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(l6(t,e,r),r))}function l6(n,e,t){let i=n.Xi.get(e)||Qt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function KF(){return KF=(0,Oe.Z)(function*(n,e,t,i){const r=St(n);let s=kn(),o=Ga();for(const p of t){const g=e.rr(p.metadata.name);p.document&&(s=s.add(g));const b=e.ur(p);b.setReadTime(e.cr(p.metadata.readTime)),o=o.insert(g,b)}const c=r.Zi.newChangeBuffer({trackRemovals:!0}),h=yield Bv(r,(p=i,pa(Av(Qn.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",p=>s6(p,c,o).next(g=>(c.apply(p),g)).next(g=>r.Bs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>r.Bs.addMatchingKeys(p,s,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,g.nr,g.sr)).next(()=>g.nr)))}),KF.apply(this,arguments)}function one(n,e){return YF.apply(this,arguments)}function YF(){return YF=(0,Oe.Z)(function*(n,e,t=kn()){const i=yield Bv(n,pa(OF(e.bundledQuery))),r=St(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=ls(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.qs.saveNamedQuery(s,e);const c=i.withResumeToken(Rs.EMPTY_BYTE_STRING,o);return r.Ji=r.Ji.insert(c.targetId,c),r.Bs.updateTargetData(s,c).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),YF.apply(this,arguments)}function c6(n,e){return`firestore_clients_${n}_${e}`}function u6(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function QF(n,e){return`firestore_targets_${n}_${e}`}class QD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new qe(r.error.code,r.error.message))),o?new QD(e,t,r.state,s):(as("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class KE{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new qe(i.error.code,i.error.message))),s?new KE(e,i.state,r):(as("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class XD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=EF();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=c4(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new XD(e,s):(as("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XF{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XF(t.clientId,t.onlineState):(as("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JF{constructor(){this.activeTargetIds=EF()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e2{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Qi(xn),this.started=!1,this.yr=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=c6(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new JF),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(c6(e.persistenceKey,r));if(s){const o=XD.ar(r,s);o&&(e.gr=e.gr.insert(o.clientId,o))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(QF(this.persistenceKey,e));if(i){const r=KE.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(QF(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return tt("SharedClientState","READ",e,t),t}setItem(e,t){tt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void as("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let o=Ll.ct;if(null!=s)try{const c=JSON.parse(s);Zt("number"==typeof c),o=c}catch(c){as("SharedClientState","Failed to read sequence number from WebStorage",c)}return o}(i.newValue);r!==Ll.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new QD(this.currentUser,e,t,i),s=u6(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=u6(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=QF(this.persistenceKey,e),s=new KE(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return XD.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return QD.ar(new Ys(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return KE.ar(r,t)}br(e){return XF.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),o=[],c=[];return s.forEach(h=>{r.has(h)||o.push(h)}),r.forEach(h=>{s.has(h)||c.push(h)}),this.syncEngine.Wr(o,c).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=EF();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class d6{constructor(){this.Hr=new JF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new JF,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ane{Yr(e){}shutdown(){}}class h6{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let JD=null;function t2(){return null===JD?JD=268435456+Math.round(2147483648*Math.random()):JD++,"0x"+JD.toString(16)}const lne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cne{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Go="WebChannelConnection";class une extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const o=t2(),c=this.To(e,t);tt("RestConnection",`Sending RPC '${e}' ${o}:`,c,i);const h={};return this.Eo(h,r,s),this.Ao(e,c,h,i).then(p=>(tt("RestConnection",`Received RPC '${e}' ${o}: `,p),p),p=>{throw Bc("RestConnection",`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",i),p})}vo(e,t,i,r,s,o){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${lne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=t2();return new Promise((o,c)=>{const h=new aee;h.setWithCredentials(!0),h.listenOnce(ree.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case rF.NO_ERROR:const g=h.getResponseJson();tt(Go,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case rF.TIMEOUT:tt(Go,`RPC '${e}' ${s} timed out`),c(new qe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case rF.HTTP_ERROR:const b=h.getStatus();if(tt(Go,`RPC '${e}' ${s} failed with status:`,b,"response text:",h.getResponseText()),b>0){let C=h.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C?.error;if(k&&k.status&&k.message){const R=function(L){const V=L.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(V)>=0?V:Se.UNKNOWN}(k.status);c(new qe(R,k.message))}else c(new qe(Se.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new qe(Se.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{tt(Go,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(r);tt(Go,`RPC '${e}' ${s} sending request:`,r),h.send(t,"POST",p,i,15)})}Ro(e,t,i){const r=t2(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nee(),c=iee(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.xmlHttpFactory=new oee({})),this.Eo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=s.join("");tt(Go,`Creating RPC '${e}' stream ${r}: ${g}`,h);const b=o.createWebChannel(g,h);let C=!1,k=!1;const R=new cne({ro:V=>{k?tt(Go,`Not sending because RPC '${e}' stream ${r} is closed:`,V):(C||(tt(Go,`Opening RPC '${e}' stream ${r} transport.`),b.open(),C=!0),tt(Go,`RPC '${e}' stream ${r} sending:`,V),b.send(V))},oo:()=>b.close()}),L=(V,X,ie)=>{V.listen(X,pe=>{try{ie(pe)}catch(ve){setTimeout(()=>{throw ve},0)}})};return L(b,vD.EventType.OPEN,()=>{k||tt(Go,`RPC '${e}' stream ${r} transport opened.`)}),L(b,vD.EventType.CLOSE,()=>{k||(k=!0,tt(Go,`RPC '${e}' stream ${r} transport closed`),R.wo())}),L(b,vD.EventType.ERROR,V=>{k||(k=!0,Bc(Go,`RPC '${e}' stream ${r} transport errored:`,V),R.wo(new qe(Se.UNAVAILABLE,"The operation could not be completed")))}),L(b,vD.EventType.MESSAGE,V=>{var X;if(!k){const ie=V.data[0];Zt(!!ie);const ve=ie.error||(null===(X=ie[0])||void 0===X?void 0:X.error);if(ve){tt(Go,`RPC '${e}' stream ${r} received error:`,ve);const Ee=ve.status;let De=function(Je){const kt=ys[Je];if(void 0!==kt)return o$(kt)}(Ee),nt=ve.message;void 0===De&&(De=Se.INTERNAL,nt="Unknown error status: "+Ee+" with message "+ve.message),k=!0,R.wo(new qe(De,nt)),b.close()}else tt(Go,`RPC '${e}' stream ${r} received:`,ie),R._o(ie)}}),L(c,see.STAT_EVENT,V=>{V.stat===X5.PROXY?tt(Go,`RPC '${e}' stream ${r} detected buffering proxy`):V.stat===X5.NOPROXY&&tt(Go,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.fo()},0),R}}function f6(){return typeof window<"u"?window:null}function eA(){return typeof document<"u"?document:null}function YE(n){return new bte(n,!0)}class n2{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&tt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class p6{constructor(e,t,i,r,s,o,c,h){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new n2(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Oe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Oe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Oe.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===Se.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new qe(Se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Oe.Z)(function*(){e.state=0,e.start()}))}tu(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dne extends p6{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Cte(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(h=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:Nt(),r=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(Zt(void 0===p||"string"==typeof p),Rs.fromBase64String(p||"")):(Zt(void 0===p||p instanceof Uint8Array),Rs.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const p=void 0===h.code?Se.UNKNOWN:o$(h.code);return new qe(p,h.message||"")}(o);t=new d$(i,r,s,c||null)}else if("documentChange"in e){const i=e.documentChange,r=jd(n,i.document.name),s=ls(i.document.updateTime),o=i.document.createTime?ls(i.document.createTime):Qt.min(),c=new bo({mapValue:{fields:i.document.fields}}),h=ar.newFoundDocument(r,s,o,c);t=new BD(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=jd(n,i.document),s=i.readTime?ls(i.readTime):Qt.min(),o=ar.newNoDocument(r,s);t=new BD([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=jd(n,i.document);t=new BD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Nt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new pte(r,s);t=new u$(i.targetId,o)}}var h;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Qt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Qt.min():s.readTime?ls(s.readTime):Qt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=UE(this.serializer),t.addTarget=function(r,s){let o;const c=s.target;if(o=MD(c)?{documents:w$(r,c)}:{query:RF(r,c)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=m$(r,s.resumeToken);const h=AF(r,s.expectedCount);null!==h&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(Qt.min())>0){o.readTime=Ov(r,s.snapshotVersion.toTimestamp());const h=AF(r,s.expectedCount);null!==h&&(o.expectedCount=h)}return o}(this.serializer,e);const i=function Ste(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=UE(this.serializer),t.removeTarget=e,this.Wo(t)}}class hne extends p6{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function xte(n,e){return n&&n.length>0?(Zt(void 0!==e),n.map(t=>function(i,r){let s=ls(i.updateTime?i.updateTime:r);return s.isEqual(Qt.min())&&(s=ls(r)),new ute(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ls(e.commitTime);return this.listener.cu(i,t)}return Zt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=UE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>jE(this.serializer,i))};this.Wo(t)}}class fne extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new qe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new qe(Se.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Se.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class mne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(as(t),this.mu=!1):tt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class gne{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(c=>{i.enqueueAndForget((0,Oe.Z)(function*(){var h;cm(o)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,Oe.Z)(function*(p){const g=St(p);g.vu.add(4),yield Uv(g),g.bu.set("Unknown"),g.vu.delete(4),yield QE(g)}),function(p){return h.apply(this,arguments)})(o))}))}),this.bu=new mne(i,r)}}function QE(n){return s2.apply(this,arguments)}function s2(){return s2=(0,Oe.Z)(function*(n){if(cm(n))for(const e of n.Ru)yield e(!0)}),s2.apply(this,arguments)}function Uv(n){return o2.apply(this,arguments)}function o2(){return o2=(0,Oe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),o2.apply(this,arguments)}function tA(n,e){const t=St(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),c2(t)?l2(t):zv(t).Ko()&&a2(t,e))}function XE(n,e){const t=St(n),i=zv(t);t.Au.delete(e),i.Ko()&&m6(t,e),0===t.Au.size&&(i.Ko()?i.jo():cm(t)&&t.bu.set("Unknown"))}function a2(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zv(n).su(e)}function m6(n,e){n.Vu.qt(e),zv(n).iu(e)}function l2(n){n.Vu=new gte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),zv(n).start(),n.bu.gu()}function c2(n){return cm(n)&&!zv(n).Uo()&&n.Au.size>0}function cm(n){return 0===St(n).vu.size}function g6(n){n.Vu=void 0}function _ne(n){return u2.apply(this,arguments)}function u2(){return u2=(0,Oe.Z)(function*(n){n.Au.forEach((e,t)=>{a2(n,e)})}),u2.apply(this,arguments)}function yne(n,e){return d2.apply(this,arguments)}function d2(){return d2=(0,Oe.Z)(function*(n,e){g6(n),c2(n)?(n.bu.Iu(e),l2(n)):n.bu.set("Unknown")}),d2.apply(this,arguments)}function vne(n,e,t){return h2.apply(this,arguments)}function h2(){return h2=(0,Oe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof d$&&2===e.state&&e.cause)try{yield(i=(0,Oe.Z)(function*(r,s){const o=s.cause;for(const c of s.targetIds)r.Au.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.Au.delete(c),r.Vu.removeTarget(c))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield nA(n,i)}else if(e instanceof BD?n.Vu.Ht(e):e instanceof u$?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Qt.min()))try{const i=yield r6(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.Vu.ce(s);return o.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=r.Au.get(h);p&&r.Au.set(h,p.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,h)=>{const p=r.Au.get(c);if(!p)return;r.Au.set(c,p.withResumeToken(Rs.EMPTY_BYTE_STRING,p.snapshotVersion)),m6(r,c);const g=new hf(p.target,c,h,p.sequenceNumber);a2(r,g)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){tt("RemoteStore","Failed to raise snapshot:",i),yield nA(n,i)}var i}),h2.apply(this,arguments)}function nA(n,e,t){return f2.apply(this,arguments)}function f2(){return f2=(0,Oe.Z)(function*(n,e,t){if(!Qp(e))throw e;n.vu.add(1),yield Uv(n),n.bu.set("Offline"),t||(t=()=>r6(n.localStore)),n.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield QE(n)}))}),f2.apply(this,arguments)}function _6(n,e){return e().catch(t=>nA(n,t,e))}function jv(n){return p2.apply(this,arguments)}function p2(){return p2=(0,Oe.Z)(function*(n){const e=St(n),t=um(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bne(e);)try{const r=yield rne(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,wne(e,r)}catch(r){yield nA(e,r)}y6(e)&&v6(e)}),p2.apply(this,arguments)}function bne(n){return cm(n)&&n.Eu.length<10}function wne(n,e){n.Eu.push(e);const t=um(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function y6(n){return cm(n)&&!um(n).Uo()&&n.Eu.length>0}function v6(n){um(n).start()}function Ene(n){return m2.apply(this,arguments)}function m2(){return m2=(0,Oe.Z)(function*(n){um(n).hu()}),m2.apply(this,arguments)}function Cne(n){return g2.apply(this,arguments)}function g2(){return g2=(0,Oe.Z)(function*(n){const e=um(n);for(const t of n.Eu)e.uu(t.mutations)}),g2.apply(this,arguments)}function xne(n,e,t){return _2.apply(this,arguments)}function _2(){return _2=(0,Oe.Z)(function*(n,e,t){const i=n.Eu.shift(),r=SF.from(i,e,t);yield _6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield jv(n)}),_2.apply(this,arguments)}function Sne(n,e){return y2.apply(this,arguments)}function y2(){return y2=(0,Oe.Z)(function*(n,e){var t;e&&um(n).ou&&(yield(t=(0,Oe.Z)(function*(i,r){if(s$(s=r.code)&&s!==Se.ABORTED){const o=i.Eu.shift();um(i).Qo(),yield _6(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield jv(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),y6(n)&&v6(n)}),y2.apply(this,arguments)}function b6(n,e){return v2.apply(this,arguments)}function v2(){return v2=(0,Oe.Z)(function*(n,e){const t=St(n);t.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const i=cm(t);t.vu.add(3),yield Uv(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield QE(t)}),v2.apply(this,arguments)}function b2(n,e){return w2.apply(this,arguments)}function w2(){return w2=(0,Oe.Z)(function*(n,e){const t=St(n);e?(t.vu.delete(2),yield QE(t)):e||(t.vu.add(2),yield Uv(t),t.bu.set("Unknown"))}),w2.apply(this,arguments)}function zv(n){return n.Su||(n.Su=function(e,t,i){const r=St(e);return r.fu(),new dne(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:_ne.bind(null,n),ao:yne.bind(null,n),nu:vne.bind(null,n)}),n.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.Su.Qo(),c2(n)?l2(n):n.bu.set("Unknown")):(yield n.Su.stop(),g6(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function um(n){return n.Du||(n.Du=function(e,t,i){const r=St(e);return r.fu(),new hne(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Ene.bind(null,n),ao:Sne.bind(null,n),au:Cne.bind(null,n),cu:xne.bind(null,n)}),n.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.Du.Qo(),yield jv(n)):(yield n.Du.stop(),n.Eu.length>0&&(tt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class E2{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,c=new E2(e,t,o,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hv(n,e){if(as("AsyncQueue",`${e}: ${n}`),Qp(n))return new qe(Se.UNAVAILABLE,`${e}: ${n}`);throw n}class $v{constructor(e){this.comparator=e?(t,i)=>e(t,i)||wt.comparator(t.key,i.key):(t,i)=>wt.comparator(t.key,i.key),this.keyedMap=PE(),this.sortedSet=new Qi(this.comparator)}static emptySet(e){return new $v(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $v)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new $v;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class w6{constructor(){this.Cu=new Qi(wt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Nt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Wv{constructor(e,t,i,r,s,o,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new Wv(e,t,$v.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ME(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Ine{constructor(){this.Nu=void 0,this.listeners=[]}}class Tne{constructor(){this.queries=new uf(e=>U4(e),ME),this.onlineState="Unknown",this.ku=new Set}}function C2(n,e){return x2.apply(this,arguments)}function x2(){return x2=(0,Oe.Z)(function*(n,e){const t=St(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Ine),r)try{s.Nu=yield t.onListen(i)}catch(o){const c=Hv(o,`Initialization of query '${wF(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&T2(t)}),x2.apply(this,arguments)}function S2(n,e){return I2.apply(this,arguments)}function I2(){return I2=(0,Oe.Z)(function*(n,e){const t=St(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),I2.apply(this,arguments)}function Dne(n,e){const t=St(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const c of o.listeners)c.$u(r)&&(i=!0);o.Nu=r}}i&&T2(t)}function Ane(n,e,t){const i=St(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function T2(n){n.ku.forEach(e=>{e.next()})}class D2{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Wv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Mne{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class E6{constructor(e){this.serializer=e}rr(e){return jd(this.serializer,e)}ur(e){return e.metadata.exists?b$(this.serializer,e.document,!1):ar.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ls(e)}}class kne{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=C6(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Qn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new E6(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const o of r.metadata.queries){const c=(t.get(o)||kn()).add(s);t.set(o,c)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function sne(n,e,t,i){return KF.apply(this,arguments)}(e.localStore,new E6(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield one(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function C6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class x6{constructor(e){this.key=e}}class S6{constructor(e){this.key=e}}class I6{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=kn(),this.mutatedKeys=kn(),this.tc=z4(e),this.ec=new $v(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new w6,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((g,b)=>{const C=r.get(g),k=kE(this.query,b)?b:null,R=!!C&&this.mutatedKeys.has(C.key),L=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;C&&k?C.data.isEqual(k.data)?R!==L&&(i.track({type:3,doc:k}),V=!0):this.rc(C,k)||(i.track({type:2,doc:k}),V=!0,(h&&this.tc(k,h)>0||p&&this.tc(k,p)<0)&&(c=!0)):!C&&k?(i.track({type:0,doc:k}),V=!0):C&&!k&&(i.track({type:1,doc:C}),V=!0,(h||p)&&(c=!0)),V&&(k?(o=o.add(k),s=L?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const g="F"===this.query.limitType?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),i.track({type:1,doc:g})}return{ec:o,ic:i,zi:c,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((p,g)=>function(b,C){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return k(b)-k(C)}(p.type,g.type)||this.tc(p.doc,g.doc)),this.oc(i);const o=t?this.uc():[],c=0===this.Zu.size&&this.current?1:0,h=c!==this.Xu;return this.Xu=c,0!==s.length||h?{snapshot:new Wv(this.query,e.ec,r,s,e.mutatedKeys,0===c,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new w6,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=kn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new S6(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new x6(i))}),t}hc(e){this.Yu=e.ir,this.Zu=kn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Wv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Pne{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Rne{constructor(e){this.key=e,this.fc=!1}}class One{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new uf(c=>U4(c),ME),this._c=new Map,this.mc=new Set,this.gc=new Qi(wt.comparator),this.yc=new Map,this.Ic=new jF,this.Tc={},this.Ec=new Map,this.Ac=Jg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Nne(n,e){return A2.apply(this,arguments)}function A2(){return A2=(0,Oe.Z)(function*(n,e){const t=X2(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const o=yield Bv(t.localStore,pa(e)),c=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield M2(t,e,i,"current"===c,o.resumeToken),t.isPrimaryClient&&tA(t.remoteStore,o)}return r}),A2.apply(this,arguments)}function M2(n,e,t,i,r){return k2.apply(this,arguments)}function k2(){return k2=(0,Oe.Z)(function*(n,e,t,i,r){n.Rc=(b,C,k)=>{return(R=(0,Oe.Z)(function*(L,V,X,ie){let pe=V.view.sc(X);pe.zi&&(pe=yield YD(L.localStore,V.query,!1).then(({documents:De})=>V.view.sc(De,pe)));const ve=ie&&ie.targetChanges.get(V.targetId),Ee=V.view.applyChanges(pe,L.isPrimaryClient,ve);return j2(L,V.targetId,Ee.cc),Ee.snapshot}),function(L,V,X,ie){return R.apply(this,arguments)})(n,b,C,k);var R};const s=yield YD(n.localStore,e,!0),o=new I6(e,s.ir),c=o.sc(s.documents),h=BE.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),p=o.applyChanges(c,n.isPrimaryClient,h);j2(n,t,p.cc);const g=new Pne(e,t,o);return n.wc.set(e,g),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),p.snapshot}),k2.apply(this,arguments)}function Fne(n,e){return P2.apply(this,arguments)}function P2(){return P2=(0,Oe.Z)(function*(n,e){const t=St(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!ME(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),XE(t.remoteStore,i.targetId),Gv(t,i.targetId)}).catch(Yp))):(Gv(t,i.targetId),yield Vv(t.localStore,i.targetId,!0))}),P2.apply(this,arguments)}function R2(){return R2=(0,Oe.Z)(function*(n,e,t){const i=J2(n);try{const r=yield function(s,o){const c=St(s),h=wr.now(),p=o.reduce((C,k)=>C.add(k.key),kn());let g,b;return c.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=Ga(),R=kn();return c.Zi.getEntries(C,p).next(L=>{k=L,k.forEach((V,X)=>{X.isValidDocument()||(R=R.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(C,k)).next(L=>{g=L;const V=[];for(const X of o){const ie=hte(X,g.get(X.key).overlayedDocument);null!=ie&&V.push(new df(X.key,ie,I4(ie.value.mapValue),Er.exists(!0)))}return c.mutationQueue.addMutationBatch(C,h,V,o)}).next(L=>{b=L;const V=L.applyToLocalDocumentSet(g,R);return c.documentOverlayCache.saveOverlays(C,L.batchId,V)})}).then(()=>({batchId:b.batchId,changes:$4(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,c){let h=s.Tc[s.currentUser.toKey()];h||(h=new Qi(xn)),h=h.insert(o,c),s.Tc[s.currentUser.toKey()]=h}(i,r.batchId,t),yield ff(i,r.changes),yield jv(i.remoteStore)}catch(r){const s=Hv(r,"Failed to persist write");t.reject(s)}}),R2.apply(this,arguments)}function T6(n,e){return O2.apply(this,arguments)}function O2(){return O2=(0,Oe.Z)(function*(n,e){const t=St(n);try{const i=yield function ine(n,e){const t=St(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const c=[];e.targetChanges.forEach((g,b)=>{const C=r.get(b);if(!C)return;c.push(t.Bs.removeMatchingKeys(s,g.removedDocuments,b).next(()=>t.Bs.addMatchingKeys(s,g.addedDocuments,b)));let k=C.withSequenceNumber(s.currentSequenceNumber);var R,L,V;null!==e.targetMismatches.get(b)?k=k.withResumeToken(Rs.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):g.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(g.resumeToken,i)),r=r.insert(b,k),L=k,V=g,(0===(R=C).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0)&&c.push(t.Bs.updateTargetData(s,k))});let h=Ga(),p=kn();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(s6(s,o,e.documentUpdates).next(g=>{h=g.nr,p=g.sr})),!i.isEqual(Qt.min())){const g=t.Bs.getLastRemoteSnapshotVersion(s).next(b=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(g)}return be.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.yc.get(s);o&&(Zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Zt(o.fc):r.removedDocuments.size>0&&(Zt(o.fc),o.fc=!1))}),yield ff(t,i,e)}catch(i){yield Yp(i)}}),O2.apply(this,arguments)}function D6(n,e,t){const i=St(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,o)=>{const c=o.view.Mu(e);c.snapshot&&r.push(c.snapshot)}),function(s,o){const c=St(s);c.onlineState=o;let h=!1;c.queries.forEach((p,g)=>{for(const b of g.listeners)b.Mu(o)&&(h=!0)}),h&&T2(c)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Bne(n,e,t){return N2.apply(this,arguments)}function N2(){return N2=(0,Oe.Z)(function*(n,e,t){const i=St(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let o=new Qi(wt.comparator);o=o.insert(s,ar.newNoDocument(s,Qt.min()));const c=kn().add(s),h=new LE(Qt.min(),new Map,new Qi(xn),o,c);yield T6(i,h),i.gc=i.gc.remove(s),i.yc.delete(e),z2(i)}else yield Vv(i.localStore,e,!1).then(()=>Gv(i,e,t)).catch(Yp)}),N2.apply(this,arguments)}function Vne(n,e){return F2.apply(this,arguments)}function F2(){return F2=(0,Oe.Z)(function*(n,e){const t=St(n),i=e.batch.batchId;try{const r=yield function nne(n,e){const t=St(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,c,h,p){const g=h.batch,b=g.keys();let C=be.resolve();return b.forEach(k=>{C=C.next(()=>p.getEntry(c,k)).next(R=>{const L=h.docVersions.get(k);Zt(null!==L),R.version.compareTo(L)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),p.addEntry(R)))})}),C.next(()=>o.mutationQueue.removeMutationBatch(c,g))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let c=kn();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(c=c.add(o.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);U2(t,i,null),V2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ff(t,r)}catch(r){yield Yp(r)}}),F2.apply(this,arguments)}function Une(n,e,t){return L2.apply(this,arguments)}function L2(){return L2=(0,Oe.Z)(function*(n,e,t){const i=St(n);try{const r=yield function(s,o){const c=St(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,o).next(g=>(Zt(null!==g),p=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(i.localStore,e);U2(i,e,t),V2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ff(i,r)}catch(r){yield Yp(r)}}),L2.apply(this,arguments)}function B2(){return B2=(0,Oe.Z)(function*(n,e){const t=St(n);cm(t.remoteStore)||tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const o=St(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>o.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Hv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),B2.apply(this,arguments)}function V2(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function U2(n,e,t){const i=St(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Gv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||A6(n,i)})}function A6(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(XE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),z2(n))}function j2(n,e,t){for(const i of t)i instanceof x6?(n.Ic.addReference(i.key,e),zne(n,i)):i instanceof S6?(tt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||A6(n,i.key)):Nt()}function zne(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(tt("SyncEngine","New document in limbo: "+t),n.mc.add(i),z2(n))}function z2(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new wt(Qn.fromString(e)),i=n.Ac.next();n.yc.set(i,new Rne(t)),n.gc=n.gc.insert(t,i),tA(n.remoteStore,new hf(pa(Av(t.path)),i,"TargetPurposeLimboResolution",Ll.ct))}}function ff(n,e,t){return H2.apply(this,arguments)}function H2(){return H2=(0,Oe.Z)(function*(n,e,t){const i=St(n),r=[],s=[],o=[];var c;i.wc.isEmpty()||(i.wc.forEach((c,h)=>{o.push(i.Rc(h,e,t).then(p=>{if((p||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,p?.fromCache?"not-current":"current"),p){r.push(p);const g=GF.Li(h.targetId,p);s.push(g)}}))}),yield Promise.all(o),i.dc.nu(r),yield(c=(0,Oe.Z)(function*(h,p){const g=St(h);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>be.forEach(p,C=>be.forEach(C.Fi,k=>g.persistence.referenceDelegate.addReference(b,C.targetId,k)).next(()=>be.forEach(C.Bi,k=>g.persistence.referenceDelegate.removeReference(b,C.targetId,k)))))}catch(b){if(!Qp(b))throw b;tt("LocalStore","Failed to update sequence numbers: "+b)}for(const b of p){const C=b.targetId;if(!b.fromCache){const k=g.Ji.get(C),L=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);g.Ji=g.Ji.insert(C,L)}}}),function(h,p){return c.apply(this,arguments)})(i.localStore,s))}),H2.apply(this,arguments)}function Hne(n,e){return $2.apply(this,arguments)}function $2(){return $2=(0,Oe.Z)(function*(n,e){const t=St(n);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const i=yield i6(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(o=>{o.forEach(c=>{c.reject(new qe(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ff(t,i.er)}var r}),$2.apply(this,arguments)}function $ne(n,e){const t=St(n),i=t.yc.get(e);if(i&&i.fc)return kn().add(i.key);{let r=kn();const s=t._c.get(e);if(!s)return r;for(const o of s){const c=t.wc.get(o);r=r.unionWith(c.view.nc)}return r}}function Wne(n,e){return W2.apply(this,arguments)}function W2(){return W2=(0,Oe.Z)(function*(n,e){const t=St(n),i=yield YD(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&j2(t,e.targetId,r.cc),r}),W2.apply(this,arguments)}function Gne(n,e){return G2.apply(this,arguments)}function G2(){return G2=(0,Oe.Z)(function*(n,e){const t=St(n);return a6(t.localStore,e).then(i=>ff(t,i))}),G2.apply(this,arguments)}function qne(n,e,t,i){return q2.apply(this,arguments)}function q2(){return q2=(0,Oe.Z)(function*(n,e,t,i){const r=St(n),s=yield function(o,c){const h=St(o),p=St(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>p.Sn(g,c).next(b=>b?h.localDocuments.getDocuments(g,b):be.resolve(null)))}(r.localStore,e);var c;null!==s?("pending"===t?yield jv(r.remoteStore):"acknowledged"===t||"rejected"===t?(U2(r,e,i||null),V2(r,e),c=e,St(St(r.localStore).mutationQueue).Cn(c)):Nt(),yield ff(r,s)):tt("SyncEngine","Cannot apply mutation batch with id: "+e)}),q2.apply(this,arguments)}function Z2(){return Z2=(0,Oe.Z)(function*(n,e){const t=St(n);if(X2(t),J2(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield M6(t,i.toArray());t.vc=!0,yield b2(t.remoteStore,!0);for(const s of r)tA(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Gv(t,o),Vv(t.localStore,o,!0))),XE(t.remoteStore,o)}),yield r,yield M6(t,i),function(s){const o=St(s);o.yc.forEach((c,h)=>{XE(o.remoteStore,h)}),o.Ic.Ts(),o.yc=new Map,o.gc=new Qi(wt.comparator)}(t),t.vc=!1,yield b2(t.remoteStore,!1)}}),Z2.apply(this,arguments)}function M6(n,e,t){return K2.apply(this,arguments)}function K2(){return K2=(0,Oe.Z)(function*(n,e,t){const i=St(n),r=[],s=[];for(const o of e){let c;const h=i._c.get(o);if(h&&0!==h.length){c=yield Bv(i.localStore,pa(h[0]));for(const p of h){const g=i.wc.get(p),b=yield Wne(i,g);b.snapshot&&s.push(b.snapshot)}}else{const p=yield o6(i.localStore,o);c=yield Bv(i.localStore,p),yield M2(i,k6(p),o,!1,c.resumeToken)}r.push(c)}return i.dc.nu(s),r}),K2.apply(this,arguments)}function k6(n){return B4(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Kne(n){const e=St(n);return St(St(e.localStore).persistence).$i()}function Yne(n,e,t,i){return Y2.apply(this,arguments)}function Y2(){return Y2=(0,Oe.Z)(function*(n,e,t,i){const r=St(n);if(r.vc)return void tt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield a6(r.localStore,j4(s[0])),c=LE.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Rs.EMPTY_BYTE_STRING);yield ff(r,o,c);break}case"rejected":yield Vv(r.localStore,e,!0),Gv(r,e,i);break;default:Nt()}}),Y2.apply(this,arguments)}function Qne(n,e,t){return Q2.apply(this,arguments)}function Q2(){return Q2=(0,Oe.Z)(function*(n,e,t){const i=X2(n);if(i.vc){for(const r of e){if(i._c.has(r)){tt("SyncEngine","Adding an already active target "+r);continue}const s=yield o6(i.localStore,r),o=yield Bv(i.localStore,s);yield M2(i,k6(s),o.targetId,!1,o.resumeToken),tA(i.remoteStore,o)}for(const r of t)i._c.has(r)&&(yield Vv(i.localStore,r,!1).then(()=>{XE(i.remoteStore,r),Gv(i,r)}).catch(Yp))}}),Q2.apply(this,arguments)}function X2(n){const e=St(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=T6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$ne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bne.bind(null,e),e.dc.nu=Dne.bind(null,e.eventManager),e.dc.Pc=Ane.bind(null,e.eventManager),e}function J2(n){const e=St(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Une.bind(null,e),e}class JE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.serializer=YE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return n6(this.persistence,new t6,e.initialUser,this.serializer)}createPersistence(e){return new zF(qD.zs,this.serializer)}createSharedClientState(e){return new d6}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eL extends JE{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Oe.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield J2(i.Vc.syncEngine),yield jv(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return n6(this.persistence,new t6,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new G$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new xee(t,this.persistence);return new Cee(e.asyncQueue,i)}createPersistence(e){const t=WF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new $F(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,f6(),eA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new d6}}class P6 extends eL{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Oe.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof e2&&(i.sharedClientState.syncEngine={jr:qne.bind(null,r),zr:Yne.bind(null,r),Wr:Qne.bind(null,r),$i:Kne.bind(null,r),Qr:Gne.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Oe.Z)(function*(o){yield function Zne(n,e){return Z2.apply(this,arguments)}(i.Vc.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=f6();if(!e2.D(t))throw new qe(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=WF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new e2(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class qv{initialize(e,t){var i=this;return(0,Oe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>D6(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Hne.bind(null,i.syncEngine),yield b2(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tne}createDatastore(e){const t=YE(e.databaseInfo.databaseId),i=new une(e.databaseInfo);return new fne(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=c=>D6(this.syncEngine,c,0),o=h6.D()?new h6:new ane,new gne(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,c,h,p){const g=new One(i,r,s,o,c,h);return p&&(g.vc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const i=St(t);tt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Uv(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function R6(n,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class iA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eie{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ps,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new Mne(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Oe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class tie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qe(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Oe.Z)(function*(s,o){const c=St(s),h=UE(c.serializer)+"/documents",p={documents:o.map(k=>VE(c.serializer,k))},g=yield c.vo("BatchGetDocuments",h,p,o.length),b=new Map;g.forEach(k=>{const R=function Ete(n,e){return"found"in e?function(t,i){Zt(!!i.found);const r=jd(t,i.found.name),s=ls(i.found.updateTime),o=i.found.createTime?ls(i.found.createTime):Qt.min(),c=new bo({mapValue:{fields:i.found.fields}});return ar.newFoundDocument(r,s,o,c)}(n,e):"missing"in e?function(t,i){Zt(!!i.missing),Zt(!!i.readTime);const r=jd(t,i.missing),s=ls(i.readTime);return ar.newNoDocument(r,s)}(n,e):Nt()}(c.serializer,k);b.set(R.key.toString(),R)});const C=[];return o.forEach(k=>{const R=b.get(k.toString());Zt(!!R),C.push(R)}),C}),function(s,o){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=wt.fromPath(r);e.mutations.push(new CF(s,e.precondition(s)))}),yield(i=(0,Oe.Z)(function*(r,s){const o=St(r),c=UE(o.serializer)+"/documents",h={writes:s.map(p=>jE(o.serializer,p))};yield o.Io("Commit",c,h)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nt();t=Qt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new qe(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qt.min())?Er.exists(!1):Er.updateTime(t):Er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qt.min()))throw new qe(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(t)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nie{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new n2(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Oe.Z)(function*(){const t=new tie(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!CE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!s$(t)}return!1}}class iie{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ys.UNAUTHENTICATED,this.clientId=n4.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,Oe.Z)(function*(c){tt("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(tt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Hv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function rA(n,e){return tL.apply(this,arguments)}function tL(){return tL=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Oe.Z)(function*(s){i.isEqual(s)||(yield i6(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),tL.apply(this,arguments)}function nL(n,e){return iL.apply(this,arguments)}function iL(){return iL=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rL(n);tt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>b6(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>b6(e.remoteStore,s)),n._onlineComponents=e}),iL.apply(this,arguments)}function O6(n){return"FirebaseError"===n.name?n.code===Se.FAILED_PRECONDITION||n.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function rL(n){return sL.apply(this,arguments)}function sL(){return sL=(0,Oe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!O6(t))throw t;Bc("Error using user provided cache. Falling back to memory cache: "+t),yield rA(n,new JE)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),yield rA(n,new JE);return n._offlineComponents}),sL.apply(this,arguments)}function sA(n){return oL.apply(this,arguments)}function oL(){return oL=(0,Oe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),yield nL(n,n._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),yield nL(n,new qv))),n._onlineComponents}),oL.apply(this,arguments)}function N6(n){return rL(n).then(e=>e.persistence)}function oA(n){return rL(n).then(e=>e.localStore)}function F6(n){return sA(n).then(e=>e.remoteStore)}function aL(n){return sA(n).then(e=>e.syncEngine)}function Zv(n){return lL.apply(this,arguments)}function lL(){return lL=(0,Oe.Z)(function*(n){const e=yield sA(n),t=e.eventManager;return t.onListen=Nne.bind(null,e.syncEngine),t.onUnlisten=Fne.bind(null,e.syncEngine),t}),lL.apply(this,arguments)}function B6(n,e,t={}){const i=new Ps;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(r,s,o,c,h){const p=new iA({next:b=>{s.enqueueAndForget(()=>S2(r,g));const C=b.docs.has(o);!C&&b.fromCache?h.reject(new qe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&c&&"server"===c.source?h.reject(new qe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new D2(Av(o.path),p,{includeMetadataChanges:!0,Ku:!0});return C2(r,g)}(yield Zv(n),n.asyncQueue,e,t,i)})),i.promise}function V6(n,e,t={}){const i=new Ps;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(r,s,o,c,h){const p=new iA({next:b=>{s.enqueueAndForget(()=>S2(r,g)),b.fromCache&&"server"===c.source?h.reject(new qe(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new D2(o,p,{includeMetadataChanges:!0,Ku:!0});return C2(r,g)}(yield Zv(n),n.asyncQueue,e,t,i)})),i.promise}function U6(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const j6=new Map;function cL(n,e,t){if(!t)throw new qe(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z6(n,e,t,i){if(!0===e&&!0===i)throw new qe(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function H6(n){if(!wt.isDocumentKey(n))throw new qe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $6(n){if(wt.isDocumentKey(n))throw new qe(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Nt()}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=aA(n);throw new qe(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function W6(n,e){if(e<=0)throw new qe(Se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class G6{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=U6(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new qe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eC{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G6(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new dee;switch(t.type){case"firstParty":return new mee(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new qe(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=j6.get(e);t&&(tt("ComponentProvider","Removing Datastore"),j6.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class wo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class zd extends wo{constructor(e,t,i){super(e,t,Av(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new wt(e))}withConverter(e){return new zd(this.firestore,e,this._path)}}function Z6(n,e,...t){if(n=(0,ae.m9)(n),cL("collection","path",e),n instanceof eC){const i=Qn.fromString(e,...t);return $6(i),new zd(n,null,i)}{if(!(n instanceof lr||n instanceof zd))throw new qe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qn.fromString(e,...t));return $6(i),new zd(n.firestore,null,i)}}function lA(n,e,...t){if(n=(0,ae.m9)(n),1===arguments.length&&(e=n4.A()),cL("doc","path",e),n instanceof eC){const i=Qn.fromString(e,...t);return H6(i),new lr(n,null,new wt(i))}{if(!(n instanceof lr||n instanceof zd))throw new qe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qn.fromString(e,...t));return H6(i),new lr(n.firestore,n instanceof zd?n.converter:null,new wt(i))}}function K6(n,e){return n=(0,ae.m9)(n),e=(0,ae.m9)(e),(n instanceof lr||n instanceof zd)&&(e instanceof lr||e instanceof zd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uL(n,e){return n=(0,ae.m9)(n),e=(0,ae.m9)(e),n instanceof wo&&e instanceof wo&&n.firestore===e.firestore&&ME(n._query,e._query)&&n.converter===e.converter}class fie{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new n2(this,"async_queue_retry"),this.Xc=()=>{const t=eA();t&&tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=eA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=eA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ps;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Qp(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,as("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=E2.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Nt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function dL(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class pie{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ps,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends eC{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new fie,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Y6(this),this._firestoreClient.terminate()}}function cs(n){return n._firestoreClient||Y6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Y6(n){var e,t,i;const r=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Wee(n._databaseId,c,n._persistenceKey,(p=r).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U6(p.experimentalLongPollingOptions),p.useFetchStreams));var c,p;n._firestoreClient=new iie(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Q6(n,e,t){const i=new Ps;return n.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield rA(n,t),yield nL(n,e),i.resolve()}catch(r){const s=r;if(!O6(s))throw s;Bc("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function X6(n){if(n._initialized||n._terminated)throw new qe(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hd(Rs.fromBase64String(e))}catch(t){throw new qe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hd(Rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class t_{constructor(e){this._methodName=e}}class cA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}const Sie=/^__.*__$/;class Iie{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new df(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pv(e,this.data,t,this.fieldTransforms)}}class J6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new df(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class uA{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return fA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(eW(this.ca)&&Sie.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Tie{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||YE(e)}ya(e,t,i,r=!1){return new uA({ca:e,methodName:t,ga:i,path:Gr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n_(n){const e=n._freezeSettings(),t=YE(n._databaseId);return new Tie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dA(n,e,t,i,r,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,r);mL("Data must be an object, but it was:",o,i);const c=iW(i,o);let h,p;if(s.merge)h=new Wa(o.fieldMask),p=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const b of s.mergeFields){const C=iC(e,b,t);if(!o.contains(C))throw new qe(Se.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);sW(g,C)||g.push(C)}h=new Wa(g),p=o.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,p=o.fieldTransforms;return new Iie(new bo(c),h,p)}class nC extends t_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nC}}function tW(n,e,t){return new uA({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hL extends t_{_toFieldTransform(e){return new OE(e.path,new Mv)}isEqual(e){return e instanceof hL}}class Die extends t_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=tW(this,e,!0),i=this.pa.map(s=>i_(s,t)),r=new Gg(i);return new OE(e.path,r)}isEqual(e){return this===e}}class Aie extends t_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=tW(this,e,!0),i=this.pa.map(s=>i_(s,t)),r=new qg(i);return new OE(e.path,r)}isEqual(e){return this===e}}class Mie extends t_{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new kv(e.serializer,Z4(e.serializer,this.Ia));return new OE(e.path,t)}isEqual(e){return this===e}}function fL(n,e,t,i){const r=n.ya(1,e,t);mL("Data must be an object, but it was:",r,i);const s=[],o=bo.empty();Xp(i,(h,p)=>{const g=hA(e,h,t);p=(0,ae.m9)(p);const b=r.da(g);if(p instanceof nC)s.push(g);else{const C=i_(p,b);null!=C&&(s.push(g),o.set(g,C))}});const c=new Wa(s);return new J6(o,c,r.fieldTransforms)}function pL(n,e,t,i,r,s){const o=n.ya(1,e,t),c=[iC(e,i,t)],h=[r];if(s.length%2!=0)throw new qe(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<s.length;C+=2)c.push(iC(e,s[C])),h.push(s[C+1]);const p=[],g=bo.empty();for(let C=c.length-1;C>=0;--C)if(!sW(p,c[C])){const k=c[C];let R=h[C];R=(0,ae.m9)(R);const L=o.da(k);if(R instanceof nC)p.push(k);else{const V=i_(R,L);null!=V&&(p.push(k),g.set(k,V))}}const b=new Wa(p);return new J6(g,b,o.fieldTransforms)}function nW(n,e,t,i=!1){return i_(t,n.ya(i?4:3,e))}function i_(n,e){if(rW(n=(0,ae.m9)(n)))return mL("Unsupported field value:",e,n),iW(n,e);if(n instanceof t_)return function(t,i){if(!eW(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const o of t){let c=i_(o,i.wa(s));null==c&&(c={nullValue:"NULL_VALUE"}),r.push(c),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Z4(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=wr.fromDate(t);return{timestampValue:Ov(i.serializer,r)}}if(t instanceof wr){const r=new wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ov(i.serializer,r)}}if(t instanceof cA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hd)return{bytesValue:m$(i.serializer,t._byteString)};if(t instanceof lr){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:MF(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${aA(t)}`)}(n,e)}function iW(n,e){const t={};return _4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xp(n,(i,r)=>{const s=i_(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function rW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof cA||n instanceof Hd||n instanceof lr||n instanceof t_)}function mL(n,e,t){if(!rW(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=aA(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function iC(n,e,t){if((e=(0,ae.m9)(e))instanceof pf)return e._internalPath;if("string"==typeof e)return hA(n,e);throw fA("Field path arguments must be of type string or ",n,!1,void 0,t)}const kie=new RegExp("[~\\*/\\[\\]]");function hA(n,e,t){if(e.search(kie)>=0)throw fA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pf(...e.split("."))._internalPath}catch{throw fA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fA(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${i}`),o&&(h+=` in document ${r}`),h+=")"),new qe(Se.INVALID_ARGUMENT,c+n+h)}function sW(n,e){return n.some(t=>t.isEqual(e))}class rC{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Pie extends rC{data(){return super.data()}}function pA(n,e){return"string"==typeof e?hA(n,e):e instanceof pf?e._internalPath:e._delegate._internalPath}function oW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new qe(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gL{}class sC extends gL{}function dm(n,e,...t){let i=[];e instanceof gL&&i.push(e),i=i.concat(t),function(r){const s=r.filter(c=>c instanceof Kv).length,o=r.filter(c=>c instanceof oC).length;if(s>1||s>0&&o>0)throw new qe(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class oC extends sC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new oC(e,t,i)}_apply(e){const t=this._parse(e);return uW(e._query,t),new wo(e.firestore,e.converter,bF(e._query,t))}_parse(e){const t=n_(e.firestore);return function(r,s,o,c,h,p,g){let b;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new qe(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){cW(g,p);const C=[];for(const k of g)C.push(lW(c,r,k));b={arrayValue:{values:C}}}else b=lW(c,r,g)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||cW(g,p),b=nW(o,"where",g,"in"===p||"not-in"===p);return Hn.create(h,p,b)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Kv extends gL{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const o=r.getFlattenedFilters();for(const c of o)uW(s,c),s=bF(s,c)}(e._query,t),new wo(e.firestore,e.converter,bF(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _L extends sC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _L(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new qe(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new qe(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Tv(r,s);return function(c,h){if(null===yF(c)){const p=PD(c);null!==p&&dW(0,p,h.field)}}(i,o),o}(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new cf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class mA extends sC{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new mA(e,t,i)}_apply(e){return new wo(e.firestore,e.converter,RD(e._query,this._limit,this._limitType))}}class gA extends sC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new gA(e,t,i)}_apply(e){const t=aW(e,this.type,this._docOrFields,this._inclusive);return new wo(e.firestore,e.converter,(r=t,new cf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class _A extends sC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new _A(e,t,i)}_apply(e){const t=aW(e,this.type,this._docOrFields,this._inclusive);return new wo(e.firestore,e.converter,(r=t,new cf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function aW(n,e,t,i){if(t[0]=(0,ae.m9)(t[0]),t[0]instanceof rC)return function(r,s,o,c,h){if(!c)throw new qe(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const p=[];for(const g of Wg(r))if(g.field.isKeyField())p.push(Hg(s,c.key));else{const b=c.data.field(g.field);if(SD(b))throw new qe(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===b){const C=g.field.canonicalString();throw new qe(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}p.push(b)}return new rm(p,h)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=n_(n.firestore);return function(s,o,c,h,p,g){const b=s.explicitOrderBy;if(p.length>b.length)throw new qe(Se.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let k=0;k<p.length;k++){const R=p[k];if(b[k].field.isKeyField()){if("string"!=typeof R)throw new qe(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!vF(s)&&-1!==R.indexOf("/"))throw new qe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const L=s.path.child(Qn.fromString(R));if(!wt.isDocumentKey(L))throw new qe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const V=new wt(L);C.push(Hg(o,V))}else{const L=nW(c,h,R);C.push(L)}}return new rm(C,g)}(n._query,n.firestore._databaseId,r,e,t,i)}}function lW(n,e,t){if("string"==typeof(t=(0,ae.m9)(t))){if(""===t)throw new qe(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vF(e)&&-1!==t.indexOf("/"))throw new qe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qn.fromString(t));if(!wt.isDocumentKey(i))throw new qe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hg(n,new wt(i))}if(t instanceof lr)return Hg(n,t._key);throw new qe(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aA(t)}.`)}function cW(n,e){if(!Array.isArray(n)||0===n.length)throw new qe(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uW(n,e){if(e.isInequality()){const i=PD(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new qe(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=yF(n);null!==s&&dW(0,r,s)}const t=function(i,r){for(const s of i)for(const o of s.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new qe(Se.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function dW(n,e,t){if(!t.isEqual(e))throw new qe(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class yL{convertValue(e,t="none"){switch(nm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Xp(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new cA(qr(e.latitude),qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ID(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(SE(e));default:return null}}convertTimestamp(e){const t=Jp(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qn.fromString(e);Zt(S$(i));const r=new em(i.get(1),i.get(3)),s=new wt(i.popFirst(5));return r.isEqual(t)||as(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function yA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class jie extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class r_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mf extends rC{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new aC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class aC extends mf{data(e={}){return super.data(e)}}class hm{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new r_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new aC(this._firestore,this._userDataWriter,i.key,i,new r_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new aC(i._firestore,i._userDataWriter,o.doc.key,o.doc,new r_(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const c=new aC(i._firestore,i._userDataWriter,o.doc.key,o.doc,new r_(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return 0!==o.type&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),p=s.indexOf(o.doc.key)),{type:Hie(o.type),doc:c,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function fW(n,e){return n instanceof mf&&e instanceof mf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hm&&e instanceof hm&&n._firestore===e._firestore&&uL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class fm extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function pW(n,e,t){n=$n(n,lr);const i=$n(n.firestore,cr),r=yA(n.converter,e,t);return Yv(i,[dA(n_(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Er.none())])}function mW(n,e,t,...i){n=$n(n,lr);const r=$n(n.firestore,cr),s=n_(r);let o;return o="string"==typeof(e=(0,ae.m9)(e))||e instanceof pf?pL(s,"updateDoc",n._key,e,t,i):fL(s,"updateDoc",n._key,e),Yv(r,[o.toMutation(n._key,Er.exists(!0))])}function gW(n,...e){var t,i,r;n=(0,ae.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||dL(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(dL(e[o])){const b=e[o];e[o]=null===(t=b.next)||void 0===t?void 0:t.bind(b),e[o+1]=null===(i=b.error)||void 0===i?void 0:i.bind(b),e[o+2]=null===(r=b.complete)||void 0===r?void 0:r.bind(b)}let h,p,g;if(n instanceof lr)p=$n(n.firestore,cr),g=Av(n._key.path),h={next:b=>{e[o]&&e[o](vL(p,n,b))},error:e[o+1],complete:e[o+2]};else{const b=$n(n,wo);p=$n(b.firestore,cr),g=b._query;const C=new fm(p);h={next:k=>{e[o]&&e[o](new hm(p,C,b,k))},error:e[o+1],complete:e[o+2]},oW(n._query)}return function(b,C,k,R){const L=new iA(R),V=new D2(C,L,k);return b.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return C2(yield Zv(b),V)})),()=>{L.Dc(),b.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return S2(yield Zv(b),V)}))}}(cs(p),g,c,h)}function Yv(n,e){return function(t,i){const r=new Ps;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function Lne(n,e,t){return R2.apply(this,arguments)}(yield aL(t),i,r)})),r.promise}(cs(n),e)}function vL(n,e,t){const i=t.docs.get(e._key),r=new fm(n);return new mf(n,r,e._key,i,new r_(t.hasPendingWrites,t.fromCache),e.converter)}const are={maxAttempts:5};class _W{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=n_(e)}set(e,t,i){this._verifyNotCommitted();const r=pm(e,this._firestore),s=yA(r.converter,t,i),o=dA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,Er.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=pm(e,this._firestore);let o;return o="string"==typeof(t=(0,ae.m9)(t))||t instanceof pf?pL(this._dataReader,"WriteBatch.update",s._key,t,i,r):fL(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pm(e,this._firestore);return this._mutations=this._mutations.concat(new Rv(t._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pm(n,e){if((n=(0,ae.m9)(n)).firestore!==e)throw new qe(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lre extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=n_(e)}get(e){const t=pm(e,this._firestore),i=new jie(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Nt();const s=r[0];if(s.isFoundDocument())return new rC(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new rC(this._firestore,i,t._key,null,t.converter);throw Nt()})}set(e,t,i){const r=pm(e,this._firestore),s=yA(r.converter,t,i),o=dA(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,o),this}update(e,t,i,...r){const s=pm(e,this._firestore);let o;return o="string"==typeof(t=(0,ae.m9)(t))||t instanceof pf?pL(this._dataReader,"Transaction.update",s._key,t,i,r):fL(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=pm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pm(e,this._firestore),i=new fm(this._firestore);return super.get(e).then(r=>new mf(this._firestore,i,t._key,r._document,new r_(!1,!1),t.converter))}}!function(n,e=!0){Cv=ks.SDK_VERSION,(0,ks._registerComponent)(new tv.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),o=new cr(new fee(t.getProvider("auth-internal")),new gee(t.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new qe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new em(c.options.projectId,h)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,ks.registerVersion)(J5,"3.12.2",n),(0,ks.registerVersion)(J5,"3.12.2","esm2017")}();function bL(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vW(){if(typeof Uint8Array>"u")throw new qe("unimplemented","Uint8Arrays are not available in this environment.")}function bW(){if(!function Hee(){return typeof atob<"u"}())throw new qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class lC{constructor(e){this._delegate=e}static fromBase64String(e){return bW(),new lC(Hd.fromBase64String(e))}static fromUint8Array(e){return vW(),new lC(Hd.fromUint8Array(e))}toBase64(){return bW(),this._delegate.toBase64()}toUint8Array(){return vW(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wL(n){return function _re(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class yre{enableIndexedDbPersistence(e,t){return function gie(n,e){X6(n=$n(n,cr));const t=cs(n);if(t._uninitializedComponentsProvider)throw new qe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");Bc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new qv;return Q6(t,r,new eL(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _ie(n){X6(n=$n(n,cr));const e=cs(n);if(e._uninitializedComponentsProvider)throw new qe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");Bc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new qv;return Q6(e,i,new P6(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yie(n){if(n._initialized&&!n._terminated)throw new qe(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ps;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(i){if(!ku.D())return Promise.resolve();const r=i+"main";yield ku.delete(r)}),function(i){return t.apply(this,arguments)})(WF(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wW{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof em||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function q6(n,e,t,i={}){var r;const s=(n=$n(n,eC))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Ys.MOCK_USER;else{c=(0,ae.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new qe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ys(p)}n._authCredentials=new hee(new e4(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function bie(n){return function rie(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield N6(n),t=yield F6(n);return e.setNetworkEnabled(!0),function(i){const r=St(i);return r.vu.delete(0),QE(r)}(t)}))}(cs(n=$n(n,cr)))}(this._delegate)}disableNetwork(){return function wie(n){return function sie(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield N6(n),t=yield F6(n);return e.setNetworkEnabled(!1),(i=(0,Oe.Z)(function*(r){const s=St(r);s.vu.add(0),yield Uv(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(cs(n=$n(n,cr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,z6("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vie(n){return function(e){const t=new Ps;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function jne(n,e){return B2.apply(this,arguments)}(yield aL(e),t)})),t.promise}(cs(n=$n(n,cr)))}(this._delegate)}onSnapshotsInSync(e){return function Xie(n,e){return function lie(n,e){const t=new iA(e);return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return i=yield Zv(n),r=t,St(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return i=yield Zv(n),r=t,void St(i).ku.delete(r);var i,r}))}}(cs(n=$n(n,cr)),dL(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qv(this,Z6(this._delegate,e))}catch(t){throw ma(t,"collection()","Firestore.collection()")}}doc(e){try{return new Vc(this,lA(this._delegate,e))}catch(t){throw ma(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ga(this,function hie(n,e){if(n=$n(n,eC),cL("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qe(Se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wo(n,null,(t=e,new cf(Qn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ma(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cre(n,e,t){n=$n(n,cr);const i=Object.assign(Object.assign({},are),t);return function(r){if(r.maxAttempts<1)throw new qe(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,o){const c=new Ps;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const h=yield function L6(n){return sA(n).then(e=>e.datastore)}(r);new nie(r.asyncQueue,h,o,s,c).run()})),c.promise}(cs(n),r=>e(new lre(n,r)),i)}(this._delegate,t=>e(new EW(this,t)))}batch(){return cs(this._delegate),new CW(new _W(this._delegate,e=>Yv(this._delegate,e)))}loadBundle(e){return function Eie(n,e){const t=cs(n=$n(n,cr)),i=new pie;return function cie(n,e,t,i){const r=function(s,o){let c;return c="string"==typeof s?a$().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return R6(h,p);if(h instanceof ArrayBuffer)return R6(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new eie(h,o);var h}(t,YE(e));n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function Xne(n,e,t){const i=St(n);var r;(r=(0,Oe.Z)(function*(s,o,c){try{const h=yield o.getMetadata();if(yield function(C,k){const R=St(C),L=ls(k.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",V=>R.qs.getBundleMetadata(V,k.id)).then(V=>!!V&&V.createTime.compareTo(L)>=0)}(s.localStore,h))return yield o.close(),c._completeWith({taskState:"Success",documentsLoaded:(C=h).totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}),Promise.resolve(new Set);c._updateProgress(C6(h));const p=new kne(h,s.localStore,o.serializer);let g=yield o.bc();for(;g;){const C=yield p.zu(g);C&&c._updateProgress(C),g=yield o.bc()}const b=yield p.complete();return yield ff(s,b.Ju,void 0),yield function(C,k){const R=St(C);return R.persistence.runTransaction("Save bundle","readwrite",L=>R.qs.saveBundleMetadata(L,k))}(s.localStore,h),c._completeWith(b.progress),Promise.resolve(b.Hu)}catch(h){return Bc("SyncEngine",`Loading bundle failed with ${h}`),c._failWith(h),Promise.resolve(new Set)}var C}),function(s,o,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield aL(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Cie(n,e){return function uie(n,e){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,i){const r=St(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield oA(n),e)}))}(cs(n=$n(n,cr)),e).then(t=>t?new wo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ga(this,t):null)}}class vA extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new lC(new Hd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Vc.forKey(t,this.firestore,null)}}class EW{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vA(e)}get(e){const t=o_(e);return this._delegate.get(t).then(i=>new cC(this._firestore,new mf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=o_(e);return i?(bL("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=o_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=o_(e);return this._delegate.delete(t),this}}class CW{constructor(e){this._delegate=e}set(e,t,i){const r=o_(e);return i?(bL("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=o_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=o_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class s_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new aC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=s_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new s_(e,new vA(e),t),r.set(t,s)),s}}s_.INSTANCES=new WeakMap;class Vc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vc(t,new lr(t._delegate,i,new wt(e)))}static forKey(e,t,i){return new Vc(t,new lr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Qv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qv(this.firestore,Z6(this._delegate,e))}catch(t){throw ma(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ae.m9)(e))instanceof lr&&K6(this._delegate,e)}set(e,t){t=bL("DocumentReference.set",t);try{return t?pW(this._delegate,e,t):pW(this._delegate,e)}catch(i){throw ma(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?mW(this._delegate,e):mW(this._delegate,e,t,...i)}catch(r){throw ma(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Yie(n){return Yv($n(n.firestore,cr),[new Rv(n._key,Er.none())])}(this._delegate)}onSnapshot(...e){const t=xW(e),i=SW(e,r=>new cC(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return gW(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Wie(n){n=$n(n,lr);const e=$n(n.firestore,cr),t=cs(e),i=new fm(e);return function oie(n,e){const t=new Ps;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(i=(0,Oe.Z)(function*(r,s,o){try{const c=yield function(h,p){const g=St(h);return g.persistence.runTransaction("read document","readonly",b=>g.localDocuments.getDocument(b,p))}(r,s);c.isFoundDocument()?o.resolve(c):c.isNoDocument()?o.resolve(null):o.reject(new qe(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const h=Hv(c,`Failed to get document '${s} from cache`);o.reject(h)}}),function(r,s,o){return i.apply(this,arguments)})(yield oA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new mf(e,i,n._key,r,new r_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Gie(n){n=$n(n,lr);const e=$n(n.firestore,cr);return B6(cs(e),n._key,{source:"server"}).then(t=>vL(e,n,t))}(this._delegate):function $ie(n){n=$n(n,lr);const e=$n(n.firestore,cr);return B6(cs(e),n._key).then(t=>vL(e,n,t))}(this._delegate),t.then(i=>new cC(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Vc(this.firestore,this._delegate.withConverter(e?s_.getInstance(this.firestore,e):null))}}function ma(n,e,t){return n.message=n.message.replace(e,t),n}function xW(n){for(const e of n)if("object"==typeof e&&!wL(e))return e;return{}}function SW(n,e){var t,i;let r;return r=wL(n[0])?n[0]:wL(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class cC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Vc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fW(this._delegate,e._delegate)}}class uC extends cC{data(e){const t=this._delegate.data(e);return function uee(n,e){n||Nt()}(void 0!==t),t}}class ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vA(e)}where(e,t,i){try{return new ga(this.firestore,dm(this._delegate,function Rie(n,e,t){const i=e,r=pA("where",n);return oC._create(r,i,t)}(e,t,i)))}catch(r){throw ma(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ga(this.firestore,dm(this._delegate,function Oie(n,e="asc"){const t=e,i=pA("orderBy",n);return _L._create(i,t)}(e,t)))}catch(i){throw ma(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ga(this.firestore,dm(this._delegate,function Nie(n){return W6("limit",n),mA._create("limit",n,"F")}(e)))}catch(t){throw ma(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ga(this.firestore,dm(this._delegate,function Fie(n){return W6("limitToLast",n),mA._create("limitToLast",n,"L")}(e)))}catch(t){throw ma(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ga(this.firestore,dm(this._delegate,function Lie(...n){return gA._create("startAt",n,!0)}(...e)))}catch(t){throw ma(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ga(this.firestore,dm(this._delegate,function Bie(...n){return gA._create("startAfter",n,!1)}(...e)))}catch(t){throw ma(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ga(this.firestore,dm(this._delegate,function Vie(...n){return _A._create("endBefore",n,!1)}(...e)))}catch(t){throw ma(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ga(this.firestore,dm(this._delegate,function Uie(...n){return _A._create("endAt",n,!0)}(...e)))}catch(t){throw ma(t,"endAt()","Query.endAt()")}}isEqual(e){return uL(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Zie(n){n=$n(n,wo);const e=$n(n.firestore,cr),t=cs(e),i=new fm(e);return function aie(n,e){const t=new Ps;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(i=(0,Oe.Z)(function*(r,s,o){try{const c=yield YD(r,s,!0),h=new I6(s,c.ir),p=h.sc(c.documents),g=h.applyChanges(p,!1);o.resolve(g.snapshot)}catch(c){const h=Hv(c,`Failed to execute query '${s} against cache`);o.reject(h)}}),function(r,s,o){return i.apply(this,arguments)})(yield oA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new hm(e,i,n,r))}(this._delegate):"server"===e?.source?function Kie(n){n=$n(n,wo);const e=$n(n.firestore,cr),t=cs(e),i=new fm(e);return V6(t,n._query,{source:"server"}).then(r=>new hm(e,i,n,r))}(this._delegate):function qie(n){n=$n(n,wo);const e=$n(n.firestore,cr),t=cs(e),i=new fm(e);return oW(n._query),V6(t,n._query).then(r=>new hm(e,i,n,r))}(this._delegate),t.then(i=>new EL(this.firestore,new hm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=xW(e),i=SW(e,r=>new EL(this.firestore,new hm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return gW(this._delegate,t,i)}withConverter(e){return new ga(this.firestore,this._delegate.withConverter(e?s_.getInstance(this.firestore,e):null))}}class bre{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EL{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ga(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bre(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new uC(this._firestore,i))})}isEqual(e){return fW(this._delegate,e._delegate)}}class Qv extends ga{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vc(this.firestore,e):null}doc(e){try{return new Vc(this.firestore,void 0===e?lA(this._delegate):lA(this._delegate,e))}catch(t){throw ma(t,"doc()","CollectionReference.doc()")}}add(e){return function Qie(n,e){const t=$n(n.firestore,cr),i=lA(n),r=yA(n.converter,e);return Yv(t,[dA(n_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Vc(this.firestore,t))}isEqual(e){return K6(this._delegate,e._delegate)}withConverter(e){return new Qv(this.firestore,this._delegate.withConverter(e?s_.getInstance(this.firestore,e):null))}}function o_(n){return $n(n,lr)}class CL{constructor(...e){this._delegate=new pf(...e)}static documentId(){return new CL(Gr.keyField().canonicalString())}isEqual(e){return(e=(0,ae.m9)(e))instanceof pf&&this._delegate._internalPath.isEqual(e._internalPath)}}class a_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dre(){return new hL("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new a_(e)}static delete(){const e=function ure(){return new nC("deleteField")}();return e._methodName="FieldValue.delete",new a_(e)}static arrayUnion(...e){const t=function hre(...n){return new Die("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new a_(t)}static arrayRemove(...e){const t=function fre(...n){return new Aie("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new a_(t)}static increment(e){const t=function pre(n){return new Mie("increment",n)}(e);return t._methodName="FieldValue.increment",new a_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const wre={Firestore:wW,GeoPoint:cA,Timestamp:wr,Blob:lC,Transaction:EW,WriteBatch:CW,DocumentReference:Vc,DocumentSnapshot:cC,Query:ga,QueryDocumentSnapshot:uC,QuerySnapshot:EL,CollectionReference:Qv,FieldPath:CL,FieldValue:a_,setLogLevel:function vre(n){!function cee(n){Kp.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Cre(n){(function Ere(n,e){n.INTERNAL.registerComponent(new tv.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},wre)))})(n,(e,t)=>new wW(e,t,new yre)),n.registerVersion("@firebase/firestore-compat","0.3.11")}(tJ.Z);let xre=(()=>{class n{get windowRef(){return window}constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sre=(()=>{class n{constructor(t,i,r){this.auth=t,this.win=i,this.router=r,this.number=""}login(){var t=this.windowRef.recaptchaVerifier;""!=this.number?(mN.Z.auth().signInWithPhoneNumber(this.number,t).then(i=>{this.windowRef.confirmationResult=i,localStorage.setItem("confirmationResult",JSON.stringify(i)),console.log("Se supone que se envio el mensaje")}).catch(i=>console.log("ERROR: "+i)),this.number=""):alert("Please enter number")}ngOnInit(){this.windowRef=localStorage.getItem("confirmationResult")?JSON.parse(localStorage.getItem("confirmationResult")):this.win.windowRef,this.windowRef.recaptchaVerifier=new mN.Z.auth.RecaptchaVerifier("recaptcha-container",{size:"visible",callback:function(t){console.log(t)}}),this.windowRef.recaptchaVerifier.render()}verifyLoginCode(){this.windowRef.confirmationResult.confirm(this.verificationCode).then(t=>{localStorage.setItem("token","true"),this.router.navigate(["/reservar"])}).catch(t=>console.log(t,"C\xf3digo erroneo?"))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qw),u.Y36(xre),u.Y36(is))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login-phone"]],decls:45,vars:2,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"fondoChido"],[1,"row","align-items-center",2,"height","100vh"],[1,"mx-auto","col-10","col-md-8","col-lg-6"],["action","","method","post",1,"form-example"],[1,"description"],[1,"form-group"],["for","username"],["type","text","id","number","placeholder","Tel\xe9fono...","name","number","required","Obligatorio",1,"form-control","text",3,"ngModel","ngModelChange"],["id","recaptcha-container"],["routerLink","/signup"],["routerLink","/login"],["type","submit",1,"btn","btn-primary","btn-customized","mt-4",3,"click"],["for","code"],["type","text","name","code",1,"input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-customized","mt-4",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"html",0)(1,"head"),u._UZ(2,"meta",1)(3,"meta",2),u.qZA(),u.TgZ(4,"body",3)(5,"div")(6,"div",4)(7,"div",5)(8,"form",6)(9,"h1"),u._uU(10,"Iniciar sesi\xf3n"),u.qZA(),u.TgZ(11,"p",7),u._uU(12," Inicia sesi\xf3n para poder reservar tu viaje! "),u.qZA(),u.TgZ(13,"div",8)(14,"label",9),u._uU(15,"Telefono:"),u.qZA(),u.TgZ(16,"input",10),u.NdJ("ngModelChange",function(s){return i.number=s}),u.qZA()(),u._UZ(17,"br")(18,"div",11)(19,"br"),u.TgZ(20,"span"),u._uU(21,"\xbfNuevo en la plataforma? "),u.TgZ(22,"a",12),u._uU(23,"Reg\xedstrate"),u.qZA()(),u._UZ(24,"br"),u.TgZ(25,"span"),u._uU(26,"\xbfDeseas iniciar sesi\xf3n con tu correo? "),u.TgZ(27,"a",13),u._uU(28,"Inicia sesi\xf3n (correo)"),u.qZA()(),u._UZ(29,"br"),u.TgZ(30,"button",14),u.NdJ("click",function(){return i.login()}),u._uU(31," Iniciar sesi\xf3n "),u.qZA(),u._UZ(32,"br")(33,"br"),u.qZA(),u.TgZ(34,"div"),u._UZ(35,"br")(36,"hr"),u.TgZ(37,"h3"),u._uU(38,"\xbfYa tienes tu c\xf3digo?"),u.qZA(),u.TgZ(39,"label",15),u._uU(40,"Ingresa tu c\xf3digo de verificaci\xf3n: "),u.qZA(),u.TgZ(41,"input",16),u.NdJ("ngModelChange",function(s){return i.verificationCode=s}),u.qZA(),u._UZ(42,"br"),u.TgZ(43,"button",17),u.NdJ("click",function(){return i.verifyLoginCode()}),u._uU(44,"Verificar"),u.qZA()()()()()()()),2&t&&(u.xp6(16),u.Q6J("ngModel",i.number),u.xp6(25),u.Q6J("ngModel",i.verificationCode))},dependencies:[Zh,Sc,Oo,Oa,ua,sp,_d,Ml]}),n})();class qa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qa.UNAUTHENTICATED=new qa(null),qa.GOOGLE_CREDENTIALS=new qa("google-credentials-uid"),qa.FIRST_PARTY=new qa("first-party-uid"),qa.MOCK_USER=new qa("mock-user");let Xv="9.22.2";const l_=new Ha.Yd("@firebase/firestore");function c_(n,...e){if(l_.logLevel<=Ha.in.DEBUG){const t=e.map(xL);l_.debug(`Firestore (${Xv}): ${n}`,...t)}}function bA(n,...e){if(l_.logLevel<=Ha.in.ERROR){const t=e.map(xL);l_.error(`Firestore (${Xv}): ${n}`,...t)}}function IW(n,...e){if(l_.logLevel<=Ha.in.WARN){const t=e.map(xL);l_.warn(`Firestore (${Xv}): ${n}`,...t)}}function xL(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Di(n="Unexpected state"){const e=`FIRESTORE (${Xv}) INTERNAL ASSERTION FAILED: `+n;throw bA(e),new Error(e)}function Za(n,e){n||Di()}const TW="ok",SL="cancelled",eb="unknown",Gt="invalid-argument",DW="deadline-exceeded",IL="not-found",AW="permission-denied",wA="unauthenticated",MW="resource-exhausted",gf="failed-precondition",TL="aborted",kW="out-of-range",DL="unimplemented",PW="internal",RW="unavailable";class Mt extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class OW{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qa.UNAUTHENTICATED))}shutdown(){}}class Are{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mre{constructor(e){this.auth=null,e.onInit(t=>{this.auth=t})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Za("string"==typeof e.accessToken),new OW(e.accessToken,new qa(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class kre{constructor(e,t,i){this.t=e,this.i=t,this.o=i,this.type="FirstParty",this.user=qa.FIRST_PARTY,this.u=new Map}h(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class Pre{constructor(e,t,i){this.t=e,this.i=t,this.o=i}getToken(){return Promise.resolve(new kre(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(qa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rre{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ore{constructor(e){this.l=e,this.appCheck=null,e.onInit(t=>{this.appCheck=t})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(Za("string"==typeof e.token),new Rre(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class Nre{constructor(e,t,i,r,s,o,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class dC{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new dC("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dC&&e.projectId===this.projectId&&e.database===this.database}}class hC{constructor(e,t,i){void 0===t?t=0:t>e.length&&Di(),void 0===i?i=e.length-t:i>e.length-t&&Di(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===hC.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hC?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class us extends hC{construct(e,t,i){return new us(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Mt(Gt,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new us(t)}static emptyPath(){return new us([])}}const Fre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bl extends hC{construct(e,t,i){return new Bl(e,t,i)}static isValidIdentifier(e){return Fre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bl(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Mt(Gt,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const c=e[r];if("\\"===c){if(r+1===e.length)throw new Mt(Gt,"Path has trailing escape character: "+e);const h=e[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Mt(Gt,"Path has invalid escape sequence: "+e);i+=h,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new Mt(Gt,"Unterminated ` in path: "+e);return new Bl(t)}static emptyPath(){return new Bl([])}}class vs{constructor(e){this.path=e}static fromPath(e){return new vs(us.fromString(e))}static fromName(e){return new vs(us.fromString(e).popFirst(5))}static empty(){return new vs(us.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===us.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return us.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vs(new us(e.slice()))}}function NW(n){if(!vs.isDocumentKey(n))throw new Mt(Gt,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Mt(Gt,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function EA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Di()}(n);throw new Mt(Gt,`Expected type '${e.name}', but it was: ${t}`)}}return n}function BW(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}let CA=null;function xA(n){return 0===n&&1/n==-1/0}const Bre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var UW,Jn;function jW(n){if(void 0===n)return bA("RPC_ERROR","HTTP error has no status"),eb;switch(n){case 200:return TW;case 400:return gf;case 401:return wA;case 403:return AW;case 404:return IL;case 409:return TL;case 416:return kW;case 429:return MW;case 499:return SL;case 500:return eb;case 501:return DL;case 503:return RW;case 504:return DW;default:return n>=200&&n<300?TW:n>=400&&n<500?gf:n>=500&&n<600?PW:eb}}(Jn=UW||(UW={}))[Jn.OK=0]="OK",Jn[Jn.CANCELLED=1]="CANCELLED",Jn[Jn.UNKNOWN=2]="UNKNOWN",Jn[Jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jn[Jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jn[Jn.NOT_FOUND=5]="NOT_FOUND",Jn[Jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jn[Jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jn[Jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jn[Jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jn[Jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jn[Jn.ABORTED=10]="ABORTED",Jn[Jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jn[Jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jn[Jn.INTERNAL=13]="INTERNAL",Jn[Jn.UNAVAILABLE=14]="UNAVAILABLE",Jn[Jn.DATA_LOSS=15]="DATA_LOSS";class Vre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.m=(e.ssl?"https":"http")+"://"+e.host,this.p="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get g(){return!1}v(e,t,i,r,s){const o=function Lre(){return null===CA?CA=268435456+Math.round(2147483648*Math.random()):CA++,"0x"+CA.toString(16)}(),c=this.I(e,t);c_("RestConnection",`Sending RPC '${e}' ${o}:`,c,i);const h={};return this.T(h,r,s),this.A(e,c,h,i).then(p=>(c_("RestConnection",`Received RPC '${e}' ${o}: `,p),p),p=>{throw IW("RestConnection",`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",i),p})}R(e,t,i,r,s,o){return this.v(e,t,i,r,s)}T(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}I(e,t){return`${this.m}/v1/${t}:${Bre[e]}`}}{constructor(e,t){super(e),this.P=t}V(e,t){throw new Error("Not supported by FetchConnection")}A(e,t,i,r){var s=this;return(0,Oe.Z)(function*(){var o;const c=JSON.stringify(r);let h;try{h=yield s.P(t,{method:"POST",headers:i,body:c})}catch(p){const g=p;throw new Mt(jW(g.status),"Request failed with error: "+g.statusText)}if(!h.ok){let p=yield h.json();Array.isArray(p)&&(p=p[0]);const g=null===(o=p?.error)||void 0===o?void 0:o.message;throw new Mt(jW(h.status),`Request failed with error: ${g??h.statusText}`)}return h.json()})()}}function jre(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class zre{static N(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=jre(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Js(n,e){return n<e?-1:n>e?1:0}function zW(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fC(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Hre extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _f{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Hre("Invalid base64 string: "+r):r}}(e);return new _f(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new _f(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Js(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_f.EMPTY_BYTE_STRING=new _f("");const $re=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function u_(n){if(Za(!!n),"string"==typeof n){let e=0;const t=$re.exec(n);if(Za(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Os(n.seconds),nanos:Os(n.nanos)}}function Os(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function pC(n){return"string"==typeof n?_f.fromBase64String(n):_f.fromUint8Array(n)}class Vl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mt(Gt,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mt(Gt,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Mt(Gt,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mt(Gt,"Timestamp seconds out of range: "+e)}static now(){return Vl.fromMillis(Date.now())}static fromDate(e){return Vl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Vl(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Js(this.nanoseconds,e.nanoseconds):Js(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}function PL(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HW(n){const e=n.mapValue.fields.__previous_value__;return PL(e)?HW(e):e}function mC(n){const e=u_(n.mapValue.fields.__local_write_time__.timestampValue);return new Vl(e.seconds,e.nanos)}function d_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PL(n)?4:"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue?9007199254740991:10:Di()}function tb(n,e){if(n===e)return!0;const t=d_(n);if(t!==d_(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mC(n).isEqual(mC(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=u_(i.timestampValue),o=u_(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,pC(n.bytesValue).isEqual(pC(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Os(i.geoPointValue.latitude)===Os(r.geoPointValue.latitude)&&Os(i.geoPointValue.longitude)===Os(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Os(i.integerValue)===Os(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Os(i.doubleValue),o=Os(r.doubleValue);return s===o?xA(s)===xA(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return function kL(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}(n.arrayValue.values||[],e.arrayValue.values||[],tb);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(zW(s)!==zW(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===o[c]||!tb(s[c],o[c])))return!1;return!0}(n,e);default:return Di()}var r}function RL(n){return!!n&&"mapValue"in n}function _C(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fC(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=_C(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_C(n.arrayValue.values[t]);return e}return Object.assign({},n)}class bs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bs(e)}static min(){return new bs(new Vl(0,0))}static max(){return new bs(new Vl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Eo{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Eo.RED,this.left=r??Eo.EMPTY,this.right=s??Eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Eo(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Eo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Di();const e=this.left.check();if(e!==this.right.check())throw Di();return e+(this.isRed()?0:1)}}Eo.EMPTY=null,Eo.RED=!0,Eo.BLACK=!1,Eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Di()}get value(){throw Di()}get color(){throw Di()}get left(){throw Di()}get right(){throw Di()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Eo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ul{constructor(e){this.value=e}static empty(){return new Ul({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!RL(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_C(t)}setAll(e){let t=Bl.emptyPath(),i={},r=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=c.popLast()}o?i[c.lastSegment()]=_C(o):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());RL(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];RL(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){fC(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ul(_C(this.value))}}class $d{constructor(e,t,i,r,s,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new $d(e,0,bs.min(),bs.min(),bs.min(),Ul.empty(),0)}static newFoundDocument(e,t,i,r){return new $d(e,1,t,bs.min(),i,r,0)}static newNoDocument(e,t){return new $d(e,2,t,bs.min(),bs.min(),Ul.empty(),0)}static newUnknownDocument(e,t){return new $d(e,3,t,bs.min(),bs.min(),Ul.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ul.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ul.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $d&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $d(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class p_{constructor(e,t=null,i=[],r=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.q=null,this.O=null}}class rse{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vC(n){return Za(!!n),bs.fromTimestamp(function(e){const t=u_(e);return new Vl(t.seconds,t.nanos)}(n))}function FA(n,e){return function VL(n,e){return(t=n,new us(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e.path)}function UL(n,e){const t=function(r){const s=us.fromString(r);return Za(hG(s)),s}(e);if(t.get(1)!==n.databaseId.projectId)throw new Mt(Gt,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Mt(Gt,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new vs((Za((i=t).length>4&&"documents"===i.get(4)),i.popFirst(5)));var i}function hG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fse extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.J=!1}X(){if(this.J)throw new Mt(gf,"The client has already been terminated.")}v(e,t,i){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.v(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===wA&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Mt(eb,r.toString())})}R(e,t,i,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.R(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===wA&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Mt(eb,s.toString())})}terminate(){this.J=!0}}function HL(){return HL=(0,Oe.Z)(function*(n,e){const t=function Jv(n,e){return n}(n),i=function lG(n){return new us(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}(t.serializer)+"/documents",r={documents:e.map(h=>FA(t.serializer,h))},s=yield t.R("BatchGetDocuments",i,r,e.length),o=new Map;s.forEach(h=>{const p=function ase(n,e){return"found"in e?function(t,i){Za(!!i.found);const r=UL(t,i.found.name),s=vC(i.found.updateTime),o=i.found.createTime?vC(i.found.createTime):bs.min(),c=new Ul({mapValue:{fields:i.found.fields}});return $d.newFoundDocument(r,s,o,c)}(n,e):"missing"in e?function(t,i){Za(!!i.missing),Za(!!i.readTime);const r=UL(t,i.missing),s=vC(i.readTime);return $d.newNoDocument(r,s)}(n,e):Di()}(t.serializer,h);o.set(p.key.toString(),p)});const c=[];return e.forEach(h=>{const p=o.get(h.toString());Za(!!p),c.push(p)}),c}),HL.apply(this,arguments)}const bC=new Map;function yf(n){if(n._terminated)throw new Mt(gf,"The client has already been terminated.");if(!bC.has(n)){c_("ComponentProvider","Initializing Datastore");const s=(e=n._databaseId,t=n.app.options.appId||"",i=n._persistenceKey,r=n._freezeSettings(),h=new Nre(e,t,i,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,BW(r.experimentalLongPollingOptions),r.useFetchStreams),new Vre(h,fetch.bind(null))),o=function jL(n){return new rse(n,!0)}(n._databaseId),c=function(h,p,g,b){return new fse(h,p,g,b)}(n._authCredentials,n._appCheckCredentials,s,o);bC.set(n,c)}var h,e,t,i,r;return bC.get(n)}class mG{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Mt(Gt,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mt(Gt,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(r,s,o,c){if(!0===s&&!0===c)throw new Mt(Gt,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=BW(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Mt(Gt,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Mt(Gt,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Mt(Gt,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(gf,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mt(gf,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mG(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dre;switch(t.type){case"firstParty":return new Pre(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Mt(Gt,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bC.get(e);t&&(c_("ComponentProvider","Removing Datastore"),bC.delete(e),t.terminate())}(this),Promise.resolve()}}class eo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eo(this.firestore,e,this._key)}}class jl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jl(this.firestore,e,this._query)}}class Pu extends jl{constructor(e,t,i){super(e,t,new p_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eo(this.firestore,null,new vs(e))}withConverter(e){return new Pu(this.firestore,e,this._path)}}function gG(n,e,...t){if(n=(0,ae.m9)(n),1===arguments.length&&(e=zre.N()),function ML(n,e,t){if(!t)throw new Mt(Gt,`Function ${n}() cannot be called with an empty ${e}.`)}("doc","path",e),n instanceof vf){const i=us.fromString(e,...t);return NW(i),new eo(n,null,new vs(i))}{if(!(n instanceof eo||n instanceof Pu))throw new Mt(Gt,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(us.fromString(e,...t));return NW(i),new eo(n.firestore,n instanceof Pu?n.converter:null,new vs(i))}}class rb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rb(_f.fromBase64String(e))}catch(t){throw new Mt(Gt,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rb(_f.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class m_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Mt(Gt,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class GL{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mt(Gt,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mt(Gt,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Js(this._lat,e._lat)||Js(this._long,e._long)}}const Sse=new RegExp("[~\\*/\\[\\]]");function VA(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${i}`),o&&(h+=` in document ${r}`),h+=")"),new Mt(Gt,c+n+h)}class y_{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new eo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new IG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(function JL(n,e){return"string"==typeof e?function QL(n,e,t){if(e.search(Sse)>=0)throw VA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new m_(...e.split("."))._internalPath}catch{throw VA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof m_?e._internalPath:e._delegate._internalPath}("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class IG extends y_{data(){return super.data()}}class $A extends class{convertValue(e,t="none"){switch(d_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Os(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Di()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fC(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new GL(Os(e.latitude),Os(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=HW(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(mC(e));default:return null}}convertTimestamp(e){const t=u_(e);return new Vl(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=us.fromString(e);Za(hG(i));const r=new dC(i.get(1),i.get(3)),s=new vs(i.popFirst(5));return r.isEqual(t)||bA(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new rb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eo(this.firestore,null,t)}}function SC(n){return(SC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function yt(n,e,t){return(e=function Bse(n){var e=function Lse(n,e){if("object"!==SC(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==SC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===SC(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ob(n){return n+.5|0}(function(n){Xv=n})(`${ks.SDK_VERSION}_lite`),(0,ks._registerComponent)(new tv.wA("firestore/lite",(n,{instanceIdentifier:e,options:t})=>{const i=n.getProvider("app").getImmediate(),r=new vf(new Mre(n.getProvider("auth-internal")),new Ore(n.getProvider("app-check-internal")),function(s,o){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Mt(Gt,'"projectId" not provided in firebase.initializeApp.');return new dC(s.options.projectId,o)}(i,e),i);return t&&r._setSettings(t),r},"PUBLIC").setMultipleInstances(!0)),(0,ks.registerVersion)("firestore-lite","3.12.2",""),(0,ks.registerVersion)("firestore-lite","3.12.2","esm2017");const bf=(n,e,t)=>Math.max(Math.min(n,t),e);function IC(n){return bf(ob(2.55*n),0,255)}function gm(n){return bf(ob(255*n),0,255)}function wf(n){return bf(ob(n/2.55)/100,0,1)}function RG(n){return bf(ob(100*n),0,100)}const jc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},iB=[..."0123456789ABCDEF"],Vse=n=>iB[15&n],Use=n=>iB[(240&n)>>4]+iB[15&n],WA=n=>(240&n)>>4==(15&n),Wse=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function OG(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Gse(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function qse(n,e,t){const i=OG(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function rB(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),c=(s+o)/2;let h,p,g;return s!==o&&(g=s-o,p=c>.5?g/(2-s-o):g/(s+o),h=function Zse(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}(t,i,r,g,s),h=60*h+.5),[0|h,p||0,c]}function sB(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(gm)}function oB(n,e,t){return sB(OG,n,e,t)}function NG(n){return(n%360+360)%360}const FG={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},LG={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let GA;const noe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,aB=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,ab=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qA(n,e,t){if(n){let i=rB(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=oB(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function BG(n,e){return n&&Object.assign(e||{},n)}function VG(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=gm(n[3]))):(e=BG(n,{r:0,g:0,b:0,a:1})).a=gm(e.a),e}function ooe(n){return"r"===n.charAt(0)?function ioe(n){const e=noe.exec(n);let i,r,s,t=255;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?IC(o):bf(255*o,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?IC(i):bf(i,0,255)),r=255&(e[4]?IC(r):bf(r,0,255)),s=255&(e[6]?IC(s):bf(s,0,255)),{r:i,g:r,b:s,a:t}}}(n):function Qse(n){const e=Wse.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?IC(+e[5]):gm(+e[5]));const r=NG(+e[2]),s=+e[3]/100,o=+e[4]/100;return i="hwb"===e[1]?function Kse(n,e,t){return sB(qse,n,e,t)}(r,s,o):"hsv"===e[1]?function Yse(n,e,t){return sB(Gse,n,e,t)}(r,s,o):oB(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class lb{constructor(e){if(e instanceof lb)return e;const t=typeof e;let i;"object"===t?i=VG(e):"string"===t&&(i=function zse(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*jc[n[1]],g:255&17*jc[n[2]],b:255&17*jc[n[3]],a:5===e?17*jc[n[4]]:255}:(7===e||9===e)&&(t={r:jc[n[1]]<<4|jc[n[2]],g:jc[n[3]]<<4|jc[n[4]],b:jc[n[5]]<<4|jc[n[6]],a:9===e?jc[n[7]]<<4|jc[n[8]]:255})),t}(e)||function toe(n){GA||(GA=function eoe(){const n={},e=Object.keys(LG),t=Object.keys(FG);let i,r,s,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],r=0;r<t.length;r++)s=t[r],c=c.replace(s,FG[s]);s=parseInt(LG[o],16),n[c]=[s>>16&255,s>>8&255,255&s]}return n}(),GA.transparent=[0,0,0,0]);const e=GA[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||ooe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=BG(this._rgb);return e&&(e.a=wf(e.a)),e}set rgb(e){this._rgb=VG(e)}rgbString(){return this._valid?function roe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${wf(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function $se(n){var e=(n=>WA(n.r)&&WA(n.g)&&WA(n.b)&&WA(n.a))(n)?Vse:Use;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function Jse(n){if(!n)return;const e=rB(n),t=e[0],i=RG(e[1]),r=RG(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${wf(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,c=2*o-1,h=i.a-r.a,p=((c*h==-1?c:(c+h)/(1+c*h))+1)/2;s=1-p,i.r=255&p*i.r+s*r.r+.5,i.g=255&p*i.g+s*r.g+.5,i.b=255&p*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function soe(n,e,t){const i=ab(wf(n.r)),r=ab(wf(n.g)),s=ab(wf(n.b));return{r:gm(aB(i+t*(ab(wf(e.r))-i))),g:gm(aB(r+t*(ab(wf(e.g))-r))),b:gm(aB(s+t*(ab(wf(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new lb(this.rgb)}alpha(e){return this._rgb.a=gm(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ob(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qA(this._rgb,2,e),this}darken(e){return qA(this._rgb,2,-e),this}saturate(e){return qA(this._rgb,1,e),this}desaturate(e){return qA(this._rgb,1,-e),this}rotate(e){return function Xse(n,e){var t=rB(n);t[0]=NG(t[0]+e),t=oB(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function Ef(){}const aoe=(()=>{let n=0;return()=>n++})();function ii(n){return null===n||typeof n>"u"}function ur(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Wn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Zr(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function zl(n,e){return Zr(n)?n:e}function Pn(n,e){return typeof n>"u"?e:n}const UG=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Xi(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function Ai(n,e,t,i){let r,s,o;if(ur(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(Wn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function ZA(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function KA(n){if(ur(n))return n.map(KA);if(Wn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=KA(n[t[r]]);return e}return n}function jG(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function coe(n,e,t,i){if(!jG(n))return;const r=e[n],s=t[n];Wn(r)&&Wn(s)?TC(r,s,i):e[n]=KA(s)}function TC(n,e,t){const i=ur(e)?e:[e],r=i.length;if(!Wn(n))return n;const s=(t=t||{}).merger||coe;let o;for(let c=0;c<r;++c){if(o=i[c],!Wn(o))continue;const h=Object.keys(o);for(let p=0,g=h.length;p<g;++p)s(h[p],n,o,t)}return n}function DC(n,e){return TC(n,e,{merger:uoe})}function uoe(n,e,t){if(!jG(n))return;const i=e[n],r=t[n];Wn(i)&&Wn(r)?DC(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=KA(r))}const zG={"":n=>n,x:n=>n.x,y:n=>n.y};function _m(n,e){return(zG[e]||(zG[e]=function hoe(n){const e=function doe(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(n);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(n)}function lB(n){return n.charAt(0).toUpperCase()+n.slice(1)}const AC=n=>typeof n<"u",ym=n=>"function"==typeof n,HG=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},Cr=Math.PI,dr=2*Cr,poe=dr+Cr,YA=Number.POSITIVE_INFINITY,moe=Cr/180,Kr=Cr/2,b_=Cr/4,$G=2*Cr/3,vm=Math.log10,Wd=Math.sign;function MC(n,e,t){return Math.abs(n-e)<t}function WG(n){const e=Math.round(n);n=MC(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(vm(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function cb(n){return!isNaN(parseFloat(n))&&isFinite(n)}function GG(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ru(n){return n*(Cr/180)}function cB(n){return n*(180/Cr)}function qG(n){if(!Zr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function ZG(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Cr&&(s+=dr),{angle:s,distance:r}}function uB(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function yoe(n,e){return(n-e+poe)%dr-Cr}function Hl(n){return(n%dr+dr)%dr}function kC(n,e,t,i){const r=Hl(n),s=Hl(e),o=Hl(t),c=Hl(s-r),h=Hl(o-r),p=Hl(r-s),g=Hl(r-o);return r===s||r===o||i&&s===o||c>h&&p<g}function to(n,e,t){return Math.max(e,Math.min(t,n))}function Cf(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function dB(n,e,t){t=t||(o=>n[o]<e);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const xf=(n,e,t,i)=>dB(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),boe=(n,e,t)=>dB(n,t,i=>n[i][e]>=t),KG=["push","pop","shift","splice","unshift"];function YG(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),!(i.length>0)&&(KG.forEach(s=>{delete n[s]}),delete n._chartjs)}function QG(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const XG=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function JG(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,XG.call(window,()=>{i=!1,n.apply(e,t)}))}}const hB=n=>"start"===n?"left":"end"===n?"right":"center",Zo=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function eq(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,_parsed:c}=n,h=o.axis,{min:p,max:g,minDefined:b,maxDefined:C}=o.getUserBounds();b&&(r=to(Math.min(xf(c,o.axis,p).lo,t?i:xf(e,h,o.getPixelForValue(p)).lo),0,i-1)),s=C?to(Math.max(xf(c,o.axis,g,!0).hi+1,t?0:xf(e,h,o.getPixelForValue(g),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function tq(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const QA=n=>0===n||1===n,nq=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*dr/t),iq=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*dr/t)+1,PC={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Kr),easeOutSine:n=>Math.sin(n*Kr),easeInOutSine:n=>-.5*(Math.cos(Cr*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>QA(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>QA(n)?n:nq(n,.075,.3),easeOutElastic:n=>QA(n)?n:iq(n,.075,.3),easeInOutElastic:n=>QA(n)?n:n<.5?.5*nq(2*n,.1125,.45):.5+.5*iq(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-PC.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*PC.easeInBounce(2*n):.5*PC.easeOutBounce(2*n-1)+.5};function fB(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function rq(n){return fB(n)?n:new lb(n)}function pB(n){return fB(n)?n:new lb(n).saturate(.5).darken(.1).hexString()}const Soe=["x","y","borderWidth","radius","tension"],Ioe=["color","borderColor","backgroundColor"],sq=new Map;function RC(n,e,t){return function Aoe(n,e){e=e||{};const t=n+JSON.stringify(e);let i=sq.get(t);return i||(i=new Intl.NumberFormat(n,e),sq.set(t,i)),i}(e,t).format(n)}const oq={values:n=>ur(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),s=function Moe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const o=vm(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),RC(n,i,h)},logarithmic(n,e,t){if(0===n)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(vm(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?oq.numeric.call(this,n,e,t):""}};var XA={formatters:oq};const w_=Object.create(null),mB=Object.create(null);function OC(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function gB(n,e,t){return"string"==typeof e?TC(OC(n,e),t):TC(OC(n,""),e)}class Poe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>pB(r.backgroundColor),this.hoverBorderColor=(i,r)=>pB(r.borderColor),this.hoverColor=(i,r)=>pB(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return gB(this,e,t)}get(e){return OC(this,e)}describe(e,t){return gB(mB,e,t)}override(e,t){return gB(w_,e,t)}route(e,t,i,r){const s=OC(this,e),o=OC(this,i),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],p=o[r];return Wn(h)?Object.assign({},p,h):Pn(h,p)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Yr=new Poe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Toe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:Ioe},numbers:{type:"number",properties:Soe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function Doe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function koe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:XA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function JA(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function Ooe(n,e,t,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const c=t.length;let h,p,g,b,C;for(h=0;h<c;h++)if(b=t[h],null==b||ur(b)){if(ur(b))for(p=0,g=b.length;p<g;p++)C=b[p],null!=C&&!ur(C)&&(o=JA(n,r,s,o,C))}else o=JA(n,r,s,o,b);n.restore();const k=s.length/2;if(k>t.length){for(h=0;h<k;h++)delete r[s[h]];s.splice(0,k)}return o}function E_(n,e,t){const i=n.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function aq(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function _B(n,e,t,i){lq(n,e,t,i,null)}function lq(n,e,t,i,r){let s,o,c,h,p,g,b,C;const k=e.pointStyle,R=e.rotation,L=e.radius;let V=(R||0)*moe;if(k&&"object"==typeof k&&(s=k.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,i),n.rotate(V),n.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),void n.restore();if(!(isNaN(L)||L<=0)){switch(n.beginPath(),k){default:r?n.ellipse(t,i,r/2,L,0,0,dr):n.arc(t,i,L,0,dr),n.closePath();break;case"triangle":g=r?r/2:L,n.moveTo(t+Math.sin(V)*g,i-Math.cos(V)*L),V+=$G,n.lineTo(t+Math.sin(V)*g,i-Math.cos(V)*L),V+=$G,n.lineTo(t+Math.sin(V)*g,i-Math.cos(V)*L),n.closePath();break;case"rectRounded":p=.516*L,h=L-p,o=Math.cos(V+b_)*h,b=Math.cos(V+b_)*(r?r/2-p:h),c=Math.sin(V+b_)*h,C=Math.sin(V+b_)*(r?r/2-p:h),n.arc(t-b,i-c,p,V-Cr,V-Kr),n.arc(t+C,i-o,p,V-Kr,V),n.arc(t+b,i+c,p,V,V+Kr),n.arc(t-C,i+o,p,V+Kr,V+Cr),n.closePath();break;case"rect":if(!R){h=Math.SQRT1_2*L,g=r?r/2:h,n.rect(t-g,i-h,2*g,2*h);break}V+=b_;case"rectRot":b=Math.cos(V)*(r?r/2:L),o=Math.cos(V)*L,c=Math.sin(V)*L,C=Math.sin(V)*(r?r/2:L),n.moveTo(t-b,i-c),n.lineTo(t+C,i-o),n.lineTo(t+b,i+c),n.lineTo(t-C,i+o),n.closePath();break;case"crossRot":V+=b_;case"cross":b=Math.cos(V)*(r?r/2:L),o=Math.cos(V)*L,c=Math.sin(V)*L,C=Math.sin(V)*(r?r/2:L),n.moveTo(t-b,i-c),n.lineTo(t+b,i+c),n.moveTo(t+C,i-o),n.lineTo(t-C,i+o);break;case"star":b=Math.cos(V)*(r?r/2:L),o=Math.cos(V)*L,c=Math.sin(V)*L,C=Math.sin(V)*(r?r/2:L),n.moveTo(t-b,i-c),n.lineTo(t+b,i+c),n.moveTo(t+C,i-o),n.lineTo(t-C,i+o),V+=b_,b=Math.cos(V)*(r?r/2:L),o=Math.cos(V)*L,c=Math.sin(V)*L,C=Math.sin(V)*(r?r/2:L),n.moveTo(t-b,i-c),n.lineTo(t+b,i+c),n.moveTo(t+C,i-o),n.lineTo(t-C,i+o);break;case"line":o=r?r/2:Math.cos(V)*L,c=Math.sin(V)*L,n.moveTo(t-o,i-c),n.lineTo(t+o,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(V)*(r?r/2:L),i+Math.sin(V)*L);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function Sf(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function eM(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function tM(n){n.restore()}function Noe(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if("middle"===r){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===r!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Foe(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Boe(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,p=t+s.actualBoundingBoxDescent,g=r.strikethrough?(t-s.actualBoundingBoxAscent+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,g),n.lineTo(c,g),n.stroke()}}function Voe(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function C_(n,e,t,i,r,s={}){const o=ur(e)?e:[e],c=s.strokeWidth>0&&""!==s.strokeColor;let h,p;for(n.save(),n.font=r.string,function Loe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ii(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),h=0;h<o.length;++h)p=o[h],s.backdrop&&Voe(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ii(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(p,t,i,s.maxWidth)),n.fillText(p,t,i,s.maxWidth),Boe(n,t,i,p,s),i+=Number(r.lineHeight);n.restore()}function NC(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,-Kr,Cr,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Cr,Kr,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Kr,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-Kr,!0),n.lineTo(t+o.topLeft,i)}const Uoe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,joe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zoe(n,e){const t=(""+n).match(Uoe);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const Hoe=n=>+n||0;function yB(n,e){const t={},i=Wn(e),r=i?Object.keys(e):e,s=Wn(n)?i?o=>Pn(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=Hoe(s(o));return t}function cq(n){return yB(n,{top:"y",right:"x",bottom:"y",left:"x"})}function x_(n){return yB(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ko(n){const e=cq(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ns(n,e){let t=Pn((n=n||{}).size,(e=e||Yr.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=Pn(n.style,e.style);i&&!(""+i).match(joe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Pn(n.family,e.family),lineHeight:zoe(Pn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Pn(n.weight,e.weight),string:""};return r.string=function Roe(n){return!n||ii(n.size)||ii(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function FC(n,e,t,i){let s,o,c,r=!0;for(s=0,o=n.length;s<o;++s)if(c=n[s],void 0!==c&&(void 0!==e&&"function"==typeof c&&(c=c(e),r=!1),void 0!==t&&ur(c)&&(c=c[t%c.length],r=!1),void 0!==c))return i&&!r&&(i.cacheable=!1),c}function bm(n,e){return Object.assign(Object.create(n),e)}function vB(n,e=[""],t,i,r=(()=>n[0])){const s=t||n;typeof i>"u"&&(i=pq("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>vB([c,...n],e,s,i)};return new Proxy(o,{deleteProperty:(c,h)=>(delete c[h],delete c._keys,delete n[0][h],!0),get:(c,h)=>dq(c,h,()=>function Xoe(n,e,t,i){let r;for(const s of e)if(r=pq(Woe(s,n),t),typeof r<"u")return bB(n,r)?wB(t,i,n,r):r}(h,e,n,c)),getOwnPropertyDescriptor:(c,h)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],h),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,h)=>mq(c).includes(h),ownKeys:c=>mq(c),set(c,h,p){const g=c._storage||(c._storage=r());return c[h]=g[h]=p,delete c._keys,!0}})}function ub(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:uq(n,i),setContext:s=>ub(n,s,t,i),override:s=>ub(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,c)=>dq(s,o,()=>function Goe(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let c=i[e];return ym(c)&&o.isScriptable(e)&&(c=function qoe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(s,o||i);return c.delete(n),bB(n,h)&&(h=wB(r._scopes,r,n,h)),h}(e,c,n,t)),ur(c)&&c.length&&(c=function Zoe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Wn(e[0])){const h=e,p=r._scopes.filter(g=>g!==h);e=[];for(const g of h){const b=wB(p,r,n,g);e.push(ub(b,s,o&&o[n],c))}}return e}(e,c,n,o.isIndexable)),bB(e,c)&&(c=ub(c,r,s&&s[e],o)),c}(s,o,c)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,c)=>(n[o]=c,delete s[o],!0)})}function uq(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:ym(t)?t:()=>t,isIndexable:ym(i)?i:()=>i}}const Woe=(n,e)=>n?n+lB(e):e,bB=(n,e)=>Wn(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function dq(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function hq(n,e,t){return ym(n)?n(e,t):n}const Koe=(n,e)=>!0===n?e:"string"==typeof n?_m(e,n):void 0;function Yoe(n,e,t,i,r){for(const s of e){const o=Koe(t,s);if(o){n.add(o);const c=hq(o._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(!1===o&&typeof i<"u"&&t!==i)return null}return!1}function wB(n,e,t,i){const r=e._rootScopes,s=hq(e._fallback,t,i),o=[...n,...r],c=new Set;c.add(i);let h=fq(c,o,t,s||t,i);return!(null===h||typeof s<"u"&&s!==t&&(h=fq(c,o,s,h,i),null===h))&&vB(Array.from(c),[""],r,s,()=>function Qoe(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return ur(r)&&Wn(t)?t:r||{}}(e,t,i))}function fq(n,e,t,i,r){for(;t;)t=Yoe(n,e,t,i,r);return t}function pq(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function mq(n){let e=n._keys;return e||(e=n._keys=function Joe(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function gq(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let c,h,p,g;for(c=0,h=i;c<h;++c)p=c+t,g=e[p],o[c]={r:r.parse(_m(g,s),p)};return o}const eae=Number.EPSILON||1e-14,db=(n,e)=>e<n.length&&!n[e].skip&&n[e],_q=n=>"x"===n?"y":"x";function tae(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,c=uB(s,r),h=uB(o,s);let p=c/(c+h),g=h/(c+h);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const b=i*p,C=i*g;return{previous:{x:s.x-b*(o.x-r.x),y:s.y-b*(o.y-r.y)},next:{x:s.x+C*(o.x-r.x),y:s.y+C*(o.y-r.y)}}}function nM(n,e,t){return Math.max(Math.min(n,t),e)}function oae(n,e,t,i,r){let s,o,c,h;if(e.spanGaps&&(n=n.filter(p=>!p.skip)),"monotone"===e.cubicInterpolationMode)!function rae(n,e="x"){const t=_q(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,c,h,p=db(n,0);for(o=0;o<i;++o)if(c=h,h=p,p=db(n,o+1),h){if(p){const g=p[e]-h[e];r[o]=0!==g?(p[t]-h[t])/g:0}s[o]=c?p?Wd(r[o-1])!==Wd(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function nae(n,e,t){const i=n.length;let r,s,o,c,h,p=db(n,0);for(let g=0;g<i-1;++g)if(h=p,p=db(n,g+1),h&&p){if(MC(e[g],0,eae)){t[g]=t[g+1]=0;continue}r=t[g]/e[g],s=t[g+1]/e[g],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),t[g]=r*o*e[g],t[g+1]=s*o*e[g])}})(n,r,s),function iae(n,e,t="x"){const i=_q(t),r=n.length;let s,o,c,h=db(n,0);for(let p=0;p<r;++p){if(o=c,c=h,h=db(n,p+1),!c)continue;const g=c[t],b=c[i];o&&(s=(g-o[t])/3,c[`cp1${t}`]=g-s,c[`cp1${i}`]=b-s*e[p]),h&&(s=(h[t]-g)/3,c[`cp2${t}`]=g+s,c[`cp2${i}`]=b+s*e[p])}}(n,s,e)}(n,r);else{let p=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)c=n[s],h=tae(p,c,n[Math.min(s+1,o-(i?0:1))%o],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,p=c}e.capBezierPoints&&function sae(n,e){let t,i,r,s,o,c=Sf(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=c,c=t<i-1&&Sf(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=nM(r.cp1x,e.left,e.right),r.cp1y=nM(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=nM(r.cp2x,e.left,e.right),r.cp2y=nM(r.cp2y,e.top,e.bottom)))}(n,t)}function yq(){return typeof window<"u"&&typeof document<"u"}function EB(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function iM(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const rM=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),lae=["top","right","bottom","left"];function S_(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=lae[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cae=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function I_(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=rM(t),s="border-box"===r.boxSizing,o=S_(r,"padding"),c=S_(r,"border","width"),{x:h,y:p,box:g}=function uae(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let c,h,o=!1;if(cae(r,s,n.target))c=r,h=s;else{const p=e.getBoundingClientRect();c=i.clientX-p.left,h=i.clientY-p.top,o=!0}return{x:c,y:h,box:o}}(n,t),b=o.left+(g&&c.left),C=o.top+(g&&c.top);let{width:k,height:R}=e;return s&&(k-=o.width+c.width,R-=o.height+c.height),{x:Math.round((h-b)/k*t.width/i),y:Math.round((p-C)/R*t.height/i)}}const sM=n=>Math.round(10*n)/10;function vq(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const fae=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function bq(n,e){const t=function aae(n,e){return rM(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function T_(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function pae(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function mae(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=T_(n,r,t),c=T_(r,s,t),h=T_(s,e,t),p=T_(o,c,t),g=T_(c,h,t);return T_(p,g,t)}const gae=function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}},_ae=function(){return{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}};function hb(n,e,t){return n?gae(e,t):_ae()}function wq(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Eq(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Cq(n){return"angle"===n?{between:kC,compare:yoe,normalize:Hl}:{between:Cf,compare:(e,t)=>e-t,normalize:e=>e}}function xq({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:r}}function Sq(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:c,between:h,normalize:p}=Cq(i),{start:g,end:b,loop:C,style:k}=function yae(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:c}=Cq(i),h=e.length;let C,k,{start:p,end:g,loop:b}=n;if(b){for(p+=h,g+=h,C=0,k=h;C<k&&o(c(e[p%h][i]),r,s);++C)p--,g--;p%=h,g%=h}return g<p&&(g+=h),{start:p,end:g,loop:b,style:n.style}}(n,e,t),R=[];let X,ie,pe,L=!1,V=null;for(let Je=g,kt=g;Je<=b;++Je)ie=e[Je%o],!ie.skip&&(X=p(ie[i]),X!==pe&&(L=h(X,r,s),null===V&&(L||h(r,pe,X)&&0!==c(r,pe))&&(V=0===c(X,r)?Je:kt),null!==V&&(!L||0===c(s,X)||h(s,pe,X))&&(R.push(xq({start:V,end:Je,loop:C,count:o,style:k})),V=null),kt=Je,pe=X));return null!==V&&R.push(xq({start:V,end:b,loop:C,count:o,style:k})),R}function Iq(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=Sq(i[r],n.points,e);s.length&&t.push(...s)}return t}function Dq(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Cae(n,e){if(!e)return!1;const t=[],i=function(r,s){return fB(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}class xae{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.duration;t.listeners[r].forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=XG.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,o=s.length-1,c=!1;for(;o>=0;--o)h=s[o],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var If=new xae;const Aq="transparent",Sae={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=rq(n||Aq),r=i.valid&&rq(e||Aq);return r&&r.valid?r.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class Iae{constructor(e,t,i,r){const s=t[i];r=FC([e.to,r,s,e.from]);const o=FC([e.from,s,r]);this._active=!0,this._fn=e.fn||Sae[e.type||typeof o],this._easing=PC[e.easing]||PC.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=FC([e.to,t,r,e.from]),this._from=FC([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let h;if(this._active=s!==c&&(o||t<i),!this._active)return this._target[r]=c,void this._notify(!0);t<0?this._target[r]=s:(h=t/i%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,c,h))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class Mq{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Wn(e))return;const t=Object.keys(Yr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Wn(s))return;const o={};for(const c of t)o[c]=s[c];(ur(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,t){const i=t.options,r=function Dae(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function Tae(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let h;for(h=o.length-1;h>=0;--h){const p=o[h];if("$"===p.charAt(0))continue;if("options"===p){r.push(...this._animateOptions(e,t));continue}const g=t[p];let b=s[p];const C=i.get(p);if(b){if(C&&b.active()){b.update(C,g,c);continue}b.cancel()}C&&C.duration?(s[p]=b=new Iae(C,e,p,g),r.push(b)):e[p]=g}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(If.add(this._chart,i),!0):void 0}}function kq(n,e){const t=n&&n.options||{},i=t.reverse,r=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:r,end:i?r:s}}function Pq(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Rq(n,e,t,i={}){const r=n.keys,s="single"===i.mode;let o,c,h,p;if(null!==e){for(o=0,c=r.length;o<c;++o){if(h=+r[o],h===t){if(i.all)continue;break}p=n.values[h],Zr(p)&&(s||0===e||Wd(e)===Wd(p))&&(e+=p)}return e}}function Oq(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function Oae(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Nq(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Fq(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:c}=i,h=s.axis,p=o.axis,g=function Pae(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,o,i),b=e.length;let C;for(let k=0;k<b;++k){const R=e[k],{[h]:L,[p]:V}=R;C=(R._stacks||(R._stacks={}))[p]=Oae(r,g,L),C[c]=V,C._top=Nq(C,o,!0,i.type),C._bottom=Nq(C,o,!1,i.type),(C._visualValues||(C._visualValues={}))[c]=V}}function CB(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function LC(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[t]&&delete s[i]._visualValues[t]}}}const xB=n=>"reset"===n||"none"===n,Lq=(n,e)=>e?n:Object.assign({},n);let wm=(()=>{class n{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Oq(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&LC(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(C,k,R,L)=>"x"===C?k:"r"===C?L:R,o=i.xAxisID=Pn(r.xAxisID,CB(t,"x")),c=i.yAxisID=Pn(r.yAxisID,CB(t,"y")),h=i.rAxisID=Pn(r.rAxisID,CB(t,"r")),p=i.indexAxis,g=i.iAxisID=s(p,o,c,h),b=i.vAxisID=s(p,c,o,h);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(c),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(g),i.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&YG(this._data,this),t._stacked&&LC(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Wn(i))this._data=function kae(n){const e=Object.keys(n),t=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],t[i]={x:s,y:n[s]};return t}(i);else if(r!==i){if(r){YG(r,this);const s=this._cachedMeta;LC(s),s._parsed=[]}i&&Object.isExtensible(i)&&function Eoe(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),KG.forEach(t=>{const i="_onData"+lB(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[i]&&c[i](...s)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=i._stacked;i._stacked=Oq(i.vScale,i),i.stack!==r.stack&&(s=!0,LC(i),i.stack=r.stack),this._resyncElements(t),(s||o!==i._stacked)&&Fq(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:c}=r,h=o.axis;let b,C,k,p=0===t&&i===s.length||r._sorted,g=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,k=s;else{k=ur(s[t])?this.parseArrayData(r,s,t,i):Wn(s[t])?this.parseObjectData(r,s,t,i):this.parsePrimitiveData(r,s,t,i);const R=()=>null===C[h]||g&&C[h]<g[h];for(b=0;b<i;++b)r._parsed[b+t]=C=k[b],p&&(R()&&(p=!1),g=C);r._sorted=p}c&&Fq(this,k)}parsePrimitiveData(t,i,r,s){const{iScale:o,vScale:c}=t,h=o.axis,p=c.axis,g=o.getLabels(),b=o===c,C=new Array(s);let k,R,L;for(k=0,R=s;k<R;++k)L=k+r,C[k]={[h]:b||o.parse(g[L],L),[p]:c.parse(i[L],L)};return C}parseArrayData(t,i,r,s){const{xScale:o,yScale:c}=t,h=new Array(s);let p,g,b,C;for(p=0,g=s;p<g;++p)b=p+r,C=i[b],h[p]={x:o.parse(C[0],b),y:c.parse(C[1],b)};return h}parseObjectData(t,i,r,s){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,g=new Array(s);let b,C,k,R;for(b=0,C=s;b<C;++b)k=b+r,R=i[k],g[b]={x:o.parse(_m(R,h),k),y:c.parse(_m(R,p),k)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){const o=this._cachedMeta,c=i[t.axis];return Rq({keys:Pq(this.chart,!0),values:i._stacks[t.axis]._visualValues},c,o.index,{mode:r})}updateRangeFromParsed(t,i,r,s){const o=r[i.axis];let c=null===o?NaN:o;const h=s&&r._stacks[i.axis];s&&h&&(s.values=h,c=Rq(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,i){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,c=s.length,h=this._getOtherScale(t),p=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Pq(this.chart,!0),values:null})(i,r),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:C}=function Rae(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(h);let k,R;function L(){R=s[k];const V=R[h.axis];return!Zr(R[t.axis])||b>V||C<V}for(k=0;k<c&&(L()||(this.updateRangeFromParsed(g,t,R,p),!o));++k);if(o)for(k=c-1;k>=0;--k)if(!L()){this.updateRangeFromParsed(g,t,R,p);break}return g}getAllParsedValues(t){const i=this._cachedMeta._parsed,r=[];let s,o,c;for(s=0,o=i.length;s<o;++s)c=i[s][t.axis],Zr(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function Mae(n){let e,t,i,r;return Wn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:!1===n}}(Pn(this.options.clip,function Aae(n,e,t){if(!1===t)return!1;const i=kq(n,t),r=kq(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,c=[],h=this._drawStart||0,p=this._drawCount||s.length-h,g=this.options.drawActiveElementsOnTop;let b;for(r.dataset&&r.dataset.draw(t,o,h,p),b=h;b<h+p;++b){const C=s[b];C.hidden||(C.active&&g?c.push(C):C.draw(t,o))}for(b=0;b<c.length;++b)c[b].draw(t,o)}getStyle(t,i){const r=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=function Fae(n,e,t){return bm(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function Nae(n,e){return bm(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){const s="active"===i,o=this._cachedDataOpts,c=t+"-"+i,h=o[c],p=this.enableOptionSharing&&AC(r);if(h)return Lq(h,p);const g=this.chart.config,b=g.datasetElementScopeKeys(this._type,t),C=s?[`${t}Hover`,"hover",t,""]:[t,""],k=g.getOptionScopes(this.getDataset(),b),R=Object.keys(Yr.elements[t]),V=g.resolveNamedOptions(k,R,()=>this.getContext(r,s,i),C);return V.$shared&&(V.$shared=p,o[c]=Object.freeze(Lq(V,p))),V}_resolveAnimations(t,i,r){const s=this.chart,o=this._cachedDataOpts,c=`animation-${i}`,h=o[c];if(h)return h;let p;if(!1!==s.options.animation){const b=this.chart.config,C=b.datasetAnimationScopeKeys(this._type,i),k=b.getOptionScopes(this.getDataset(),C);p=b.createResolver(k,this.getContext(t,r,i))}const g=new Mq(s,p&&p.animations);return p&&p._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||xB(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const r=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(r),c=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:c}}updateElement(t,i,r,s){xB(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!xB(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;const o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,r=this._cachedMeta.data;for(const[h,p,g]of this._syncList)this[h](p,g);this._syncList=[];const s=r.length,o=i.length,c=Math.min(o,s);c&&this.parse(0,c),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,r=!0){const s=this._cachedMeta,o=s.data,c=t+i;let h;const p=g=>{for(g.length+=i,h=g.length-1;h>=c;h--)g[h]=g[h-i]};for(p(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&p(s._parsed),this.parse(t,i),r&&this.updateElements(o,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,i);r._stacked&&LC(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return yt(n,"defaults",{}),yt(n,"datasetElementType",null),yt(n,"dataElementType",null),n})();function Vae(n){const e=n.iScale,t=function Bae(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=QG(i.sort((r,s)=>r-s))}return n._cache.$bar}(e,n.type);let r,s,o,c,i=e._length;const h=()=>{32767===o||-32768===o||(AC(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),h();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),h();return i}function Bq(n,e,t,i){return ur(n)?function zae(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),c=Math.max(r,s);let h=o,p=c;Math.abs(o)>Math.abs(c)&&(h=c,p=o),e[t.axis]=p,e._custom={barStart:h,barEnd:p,start:r,end:s,min:o,max:c}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Vq(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),c=r===s,h=[];let p,g,b,C;for(p=t,g=t+i;p<g;++p)C=e[p],b={},b[r.axis]=c||r.parse(o[p],p),h.push(Bq(C,b,s,p));return h}function SB(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Wae(n,e,t,i){let r=e.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:c,reverse:h,top:p,bottom:g}=function $ae(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}(n);"middle"===r&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=p:(t._bottom||0)===i?r=g:(s[Uq(g,o,c,h)]=!0,r=p)),s[Uq(r,o,c,h)]=!0,n.borderSkipped=s}function Uq(n,e,t,i){return i?(n=function Gae(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=jq(n,t,e)):n=jq(n,e,t),n}function jq(n,e,t){return"start"===n?e:"end"===n?t:n}function qae(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}let Zae=(()=>{class n extends wm{parsePrimitiveData(t,i,r,s){return Vq(t,i,r,s)}parseArrayData(t,i,r,s){return Vq(t,i,r,s)}parseObjectData(t,i,r,s){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,g="x"===o.axis?h:p,b="x"===c.axis?h:p,C=[];let k,R,L,V;for(k=r,R=r+s;k<R;++k)V=i[k],L={},L[o.axis]=o.parse(_m(V,g),k),C.push(Bq(_m(V,b),L,c,k));return C}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);const o=r._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(t),c=o._custom,h=SB(c)?"["+c.start+", "+c.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){const o="reset"===s,{index:c,_cachedMeta:{vScale:h}}=this,p=h.getBasePixel(),g=h.isHorizontal(),b=this._getRuler(),{sharedOptions:C,includeOptions:k}=this._getSharedOptions(i,s);for(let R=i;R<i+r;R++){const L=this.getParsed(R),V=o||ii(L[h.axis])?{base:p,head:p}:this._calculateBarValuePixels(R),X=this._calculateBarIndexPixels(R,b),ie=(L._stacks||{})[h.axis],pe={horizontal:g,base:V.base,enableBorderRadius:!ie||SB(L._custom)||c===ie._top||c===ie._bottom,x:g?V.head:X.center,y:g?X.center:V.head,height:g?X.size:Math.abs(V.size),width:g?Math.abs(V.size):X.size};k&&(pe.options=C||this.resolveDataElementOptions(R,t[R].active?"active":s));const ve=pe.options||t[R].options;Wae(pe,ve,ie,c),qae(pe,ve,b.ratio),this.updateElement(t[R],R,pe,s)}}_getStacks(t,i){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=r.options.stacked,c=[],h=p=>{const g=p.controller.getParsed(i),b=g&&g[p.vScale.axis];if(ii(b)||isNaN(b))return!0};for(const p of s)if((void 0===i||!h(p))&&((!1===o||-1===c.indexOf(p.stack)||void 0===o&&void 0===p.stack)&&c.push(p.stack),p.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){const s=this._getStacks(t,r),o=void 0!==i?s.indexOf(i):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,i=this._cachedMeta,r=i.iScale,s=[];let o,c;for(o=0,c=i.data.length;o<c;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const h=t.barThickness;return{min:h||Vae(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:c}}=this,h=o||0,p=this.getParsed(t),g=p._custom,b=SB(g);let L,V,C=p[i.axis],k=0,R=r?this.applyStack(i,p,r):C;R!==C&&(k=R-C,R=C),b&&(C=g.barStart,R=g.barEnd-g.barStart,0!==C&&Wd(C)!==Wd(g.barEnd)&&(k=0),k+=C);const X=ii(o)||b?k:o;let ie=i.getPixelForValue(X);if(L=this.chart.getDataVisibility(t)?i.getPixelForValue(k+R):ie,V=L-ie,Math.abs(V)<c){V=function Hae(n,e,t){return 0!==n?Wd(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(V,i,h)*c,C===h&&(ie-=V/2);const pe=i.getPixelForDecimal(0),ve=i.getPixelForDecimal(1),Ee=Math.min(pe,ve),De=Math.max(pe,ve);ie=Math.max(Math.min(ie,De),Ee),L=ie+V,r&&!b&&(p._stacks[i.axis]._visualValues[s]=i.getValueForPixel(L)-i.getValueForPixel(ie))}if(ie===i.getPixelForValue(h)){const pe=Wd(V)*i.getLineWidthForValue(h)/2;ie+=pe,V-=pe}return{size:V,base:ie,head:L,center:L+V/2}}_calculateBarIndexPixels(t,i){const r=i.scale,s=this.options,o=s.skipNull,c=Pn(s.maxBarThickness,1/0);let h,p;if(i.grouped){const g=o?this._getStackCount(t):i.stackCount,b="flex"===s.barThickness?function jae(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const h=t.categoryPercentage;null===o&&(o=s-(null===c?e.end-e.start:c-s)),null===c&&(c=s+s-o);const p=s-(s-Math.min(o,c))/2*h;return{chunk:Math.abs(c-o)/2*h/i,ratio:t.barPercentage,start:p}}(t,i,s,g):function Uae(n,e,t,i){const r=t.barThickness;let s,o;return ii(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}(t,i,s,g),C=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);h=b.start+b.chunk*C+b.chunk/2,p=Math.min(c,b.chunk*b.ratio)}else h=r.getPixelForValue(this.getParsed(t)[r.axis],t),p=Math.min(c,i.min*i.ratio);return{base:h-p/2,head:h+p/2,center:h,size:p}}draw(){const t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[i.axis]&&r[o].draw(this._ctx)}}return yt(n,"id","bar"),yt(n,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),yt(n,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),n})(),Kae=(()=>{class n extends wm{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){const o=super.parsePrimitiveData(t,i,r,s);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+r).radius;return o}parseArrayData(t,i,r,s){const o=super.parseArrayData(t,i,r,s);for(let c=0;c<o.length;c++)o[c]._custom=Pn(i[r+c][2],this.resolveDataElementOptions(c+r).radius);return o}parseObjectData(t,i,r,s){const o=super.parseObjectData(t,i,r,s);for(let c=0;c<o.length;c++){const h=i[r+c];o[c]._custom=Pn(h&&h.r&&+h.r,this.resolveDataElementOptions(c+r).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,c=this.getParsed(t),h=s.getLabelForValue(c.x),p=o.getLabelForValue(c.y),g=c._custom;return{label:r[t]||"",value:"("+h+", "+p+(g?", "+g:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){const o="reset"===s,{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(i,s),b=c.axis,C=h.axis;for(let k=i;k<i+r;k++){const R=t[k],L=!o&&this.getParsed(k),V={},X=V[b]=o?c.getPixelForDecimal(.5):c.getPixelForValue(L[b]),ie=V[C]=o?h.getBasePixel():h.getPixelForValue(L[C]);V.skip=isNaN(X)||isNaN(ie),g&&(V.options=p||this.resolveDataElementOptions(k,R.active?"active":s),o&&(V.options.radius=0)),this.updateElement(R,k,V,s)}}resolveDataElementOptions(t,i){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==i&&(s.radius=0),s.radius+=Pn(r&&r._custom,o),s}}return yt(n,"id","bubble"),yt(n,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),yt(n,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),n})(),IB=(()=>{class n extends wm{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let c,h,o=p=>+r[p];if(Wn(r[t])){const{key:p="value"}=this._parsing;o=g=>+_m(r[g],p)}for(c=t,h=t+i;c<h;++c)s._parsed[c]=o(c)}}_getRotation(){return Ru(this.options.rotation-90)}_getCircumference(){return Ru(this.options.circumference)}_getRotationExtents(){let t=dr,i=-dr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),c=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+c)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-c)/2,0),p=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:b,rotation:C}=this._getRotationExtents(),{ratioX:k,ratioY:R,offsetX:L,offsetY:V}=function Yae(n,e,t){let i=1,r=1,s=0,o=0;if(e<dr){const c=n,h=c+e,p=Math.cos(c),g=Math.sin(c),b=Math.cos(h),C=Math.sin(h),k=(pe,ve,Ee)=>kC(pe,c,h,!0)?1:Math.max(ve,ve*t,Ee,Ee*t),R=(pe,ve,Ee)=>kC(pe,c,h,!0)?-1:Math.min(ve,ve*t,Ee,Ee*t),L=k(0,p,b),V=k(Kr,g,C),X=R(Cr,p,b),ie=R(Cr+Kr,g,C);i=(L-X)/2,r=(V-ie)/2,s=-(L+X)/2,o=-(V+ie)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(C,b,p),pe=Math.max(Math.min((r.width-c)/k,(r.height-c)/R)/2,0),ve=UG(this.options.radius,pe),De=(ve-Math.max(ve*p,0))/this._getVisibleDatasetWeightTotal();this.offsetX=L*ve,this.offsetY=V*ve,s.total=this.calculateTotal(),this.outerRadius=ve-De*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-De*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/dr)}updateElements(t,i,r,s){const o="reset"===s,c=this.chart,h=c.chartArea,b=(h.left+h.right)/2,C=(h.top+h.bottom)/2,k=o&&c.options.animation.animateScale,R=k?0:this.innerRadius,L=k?0:this.outerRadius,{sharedOptions:V,includeOptions:X}=this._getSharedOptions(i,s);let pe,ie=this._getRotation();for(pe=0;pe<i;++pe)ie+=this._circumference(pe,o);for(pe=i;pe<i+r;++pe){const ve=this._circumference(pe,o),Ee=t[pe],De={x:b+this.offsetX,y:C+this.offsetY,startAngle:ie,endAngle:ie+ve,circumference:ve,outerRadius:L,innerRadius:R};X&&(De.options=V||this.resolveDataElementOptions(pe,Ee.active?"active":s)),ie+=ve,this.updateElement(Ee,pe,De,s)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let s,r=0;for(s=0;s<i.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?dr*(Math.abs(t)/i):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=RC(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0;const r=this.chart;let s,o,c,h,p;if(!t)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){c=r.getDatasetMeta(s),t=c.data,h=c.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)p=h.resolveDataElementOptions(s),"inner"!==p.borderAlign&&(i=Math.max(i,p.borderWidth||0,p.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){const o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Pn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return yt(n,"id","doughnut"),yt(n,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),yt(n,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),yt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}}),n})(),Qae=(()=>{class n extends wm{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,c=this.chart._animationsDisabled;let{start:h,count:p}=eq(i,s,c);this._drawStart=h,this._drawCount=p,tq(i)&&(h=0,p=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:g},t),this.updateElements(s,h,p,t)}updateElements(t,i,r,s){const o="reset"===s,{iScale:c,vScale:h,_stacked:p,_dataset:g}=this._cachedMeta,{sharedOptions:b,includeOptions:C}=this._getSharedOptions(i,s),k=c.axis,R=h.axis,{spanGaps:L,segment:V}=this.options,X=cb(L)?L:Number.POSITIVE_INFINITY,ie=this.chart._animationsDisabled||o||"none"===s,pe=i+r,ve=t.length;let Ee=i>0&&this.getParsed(i-1);for(let De=0;De<ve;++De){const nt=t[De],Je=ie?nt:{};if(De<i||De>=pe){Je.skip=!0;continue}const kt=this.getParsed(De),hn=ii(kt[R]),In=Je[k]=c.getPixelForValue(kt[k],De),Rn=Je[R]=o||hn?h.getBasePixel():h.getPixelForValue(p?this.applyStack(h,kt,p):kt[R],De);Je.skip=isNaN(In)||isNaN(Rn)||hn,Je.stop=De>0&&Math.abs(kt[k]-Ee[k])>X,V&&(Je.parsed=kt,Je.raw=g.data[De]),C&&(Je.options=b||this.resolveDataElementOptions(De,nt.active?"active":s)),ie||this.updateElement(nt,De,Je,s),Ee=kt}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return yt(n,"id","line"),yt(n,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),yt(n,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),n})(),zq=(()=>{class n extends wm{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=RC(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,r,s){return gq.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),h=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,i,r,s){const o="reset"===s,c=this.chart,p=c.options.animation,g=this._cachedMeta.rScale,b=g.xCenter,C=g.yCenter,k=g.getIndexAngle(0)-.5*Cr;let L,R=k;const V=360/this.countVisibleElements();for(L=0;L<i;++L)R+=this._computeAngle(L,s,V);for(L=i;L<i+r;L++){const X=t[L];let ie=R,pe=R+this._computeAngle(L,s,V),ve=c.getDataVisibility(L)?g.getDistanceFromCenterForValue(this.getParsed(L).r):0;R=pe,o&&(p.animateScale&&(ve=0),p.animateRotate&&(ie=pe=k));const Ee={x:b,y:C,innerRadius:0,outerRadius:ve,startAngle:ie,endAngle:pe,options:this.resolveDataElementOptions(L,X.active?"active":s)};this.updateElement(X,L,Ee,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Ru(this.resolveDataElementOptions(t,i).angle||r):0}}return yt(n,"id","polarArea"),yt(n,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),yt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),n})();var Xae=Object.freeze({__proto__:null,BarController:Zae,BubbleController:Kae,DoughnutController:IB,LineController:Qae,PieController:(()=>{class n extends IB{}return yt(n,"id","pie"),yt(n,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),n})(),PolarAreaController:zq,RadarController:(()=>{class n extends wm{getLabelAndValue(t){const i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return gq.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,"resize"!==t){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:c},t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){const o=this._cachedMeta.rScale,c="reset"===s;for(let h=i;h<i+r;h++){const p=t[h],g=this.resolveDataElementOptions(h,p.active?"active":s),b=o.getPointPositionForValue(h,this.getParsed(h).r),C=c?o.xCenter:b.x,k=c?o.yCenter:b.y,R={x:C,y:k,angle:b.angle,skip:isNaN(C)||isNaN(k),options:g};this.updateElement(p,h,R,s)}}}return yt(n,"id","radar"),yt(n,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),yt(n,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),n})(),ScatterController:(()=>{class n extends wm{getLabelAndValue(t){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,c=this.getParsed(t),h=s.getLabelForValue(c.x),p=o.getLabelForValue(c.y);return{label:r[t]||"",value:"("+h+", "+p+")"}}update(t){const i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled;let{start:o,count:c}=eq(i,r,s);if(this._drawStart=o,this._drawCount=c,tq(i)&&(o=0,c=r.length),this.options.showLine){const{dataset:h,_dataset:p}=i;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!p._decimated,h.points=r;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!s,options:g},t)}this.updateElements(r,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,s){const o="reset"===s,{iScale:c,vScale:h,_stacked:p,_dataset:g}=this._cachedMeta,b=this.resolveDataElementOptions(i,s),C=this.getSharedOptions(b),k=this.includeOptions(s,C),R=c.axis,L=h.axis,{spanGaps:V,segment:X}=this.options,ie=cb(V)?V:Number.POSITIVE_INFINITY,pe=this.chart._animationsDisabled||o||"none"===s;let ve=i>0&&this.getParsed(i-1);for(let Ee=i;Ee<i+r;++Ee){const De=t[Ee],nt=this.getParsed(Ee),Je=pe?De:{},kt=ii(nt[L]),hn=Je[R]=c.getPixelForValue(nt[R],Ee),In=Je[L]=o||kt?h.getBasePixel():h.getPixelForValue(p?this.applyStack(h,nt,p):nt[L],Ee);Je.skip=isNaN(hn)||isNaN(In)||kt,Je.stop=Ee>0&&Math.abs(nt[R]-ve[R])>ie,X&&(Je.parsed=nt,Je.raw=g.data[Ee]),k&&(Je.options=C||this.resolveDataElementOptions(Ee,De.active?"active":s)),pe||this.updateElement(De,Ee,Je,s),ve=nt}this.updateSharedOptions(C,s,b)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let h=0;for(let p=i.length-1;p>=0;--p)h=Math.max(h,i[p].size(this.resolveDataElementOptions(p))/2);return h>0&&h}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,c)/2}}return yt(n,"id","scatter"),yt(n,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),yt(n,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),n})()});function D_(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class TB{static override(e){Object.assign(TB.prototype,e)}constructor(e){yt(this,"options",void 0),this.options=e||{}}init(){}formats(){return D_()}parse(){return D_()}format(){return D_()}add(){return D_()}diff(){return D_()}startOf(){return D_()}endOf(){return D_()}}var Jae__date=TB;function ele(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,c=r._cachedMeta.iScale;if(c&&e===c.axis&&"r"!==e&&o&&s.length){const h=c._reversePixels?boe:xf;if(!i)return h(s,e,t);if(r._sharedOptions){const p=s[0],g="function"==typeof p.getRange&&p.getRange(e);if(g){const b=h(s,e,t-g),C=h(s,e,t+g);return{lo:b.lo,hi:C.hi}}}}return{lo:0,hi:s.length-1}}function BC(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,h=s.length;c<h;++c){const{index:p,data:g}=s[c],{lo:b,hi:C}=ele(s[c],e,o,r);for(let k=b;k<=C;++k){const R=g[k];R.skip||i(R,p,k)}}}function DB(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||BC(n,t,e,function(c,h,p){!r&&!Sf(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:h,index:p})},!0),s}function AB(n,e,t,i,r,s){return s||n.isPointInArea(e)?"r"!==t||i?function ile(n,e,t,i,r,s){let o=[];const c=function tle(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let h=Number.POSITIVE_INFINITY;return BC(n,t,e,function p(g,b,C){const k=g.inRange(e.x,e.y,r);if(i&&!k)return;const R=g.getCenterPoint(r);if(!s&&!n.isPointInArea(R)&&!k)return;const V=c(e,R);V<h?(o=[{element:g,datasetIndex:b,index:C}],h=V):V===h&&o.push({element:g,datasetIndex:b,index:C})}),o}(n,e,t,i,r,s):function nle(n,e,t,i){let r=[];return BC(n,t,e,function s(o,c,h){const{startAngle:p,endAngle:g}=o.getProps(["startAngle","endAngle"],i),{angle:b}=ZG(o,{x:e.x,y:e.y});kC(b,p,g)&&r.push({element:o,datasetIndex:c,index:h})}),r}(n,e,t,r):[]}function Hq(n,e,t,i,r){const s=[],o="x"===t?"inXRange":"inYRange";let c=!1;return BC(n,t,e,(h,p,g)=>{h[o](e[t],r)&&(s.push({element:h,datasetIndex:p,index:g}),c=c||h.inRange(e.x,e.y,r))}),i&&!c?[]:s}var rle={evaluateInteractionItems:BC,modes:{index(n,e,t,i){const r=I_(e,n),s=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?DB(n,r,s,i,o):AB(n,r,s,!1,i,o),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const g=c[0].index,b=p.data[g];b&&!b.skip&&h.push({element:b,datasetIndex:p.index,index:g})}),h):[]},dataset(n,e,t,i){const r=I_(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?DB(n,r,s,i,o):AB(n,r,s,!1,i,o);if(c.length>0){const h=c[0].datasetIndex,p=n.getDatasetMeta(h).data;c=[];for(let g=0;g<p.length;++g)c.push({element:p[g],datasetIndex:h,index:g})}return c},point:(n,e,t,i)=>DB(n,I_(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>AB(n,I_(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>Hq(n,I_(e,n),"x",t.intersect,i),y:(n,e,t,i)=>Hq(n,I_(e,n),"y",t.intersect,i)}};const $q=["left","top","right","bottom"];function VC(n,e){return n.filter(t=>t.pos===e)}function Wq(n,e){return n.filter(t=>-1===$q.indexOf(t.pos)&&t.box.axis===e)}function UC(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Gq(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function qq(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function cle(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!Wn(r)){t.size&&(n[r]-=t.size);const b=i[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?s.height:s.width),t.size=b.size/b.count,n[r]+=t.size}s.getPadding&&qq(o,s.getPadding());const c=Math.max(0,e.outerWidth-Gq(o,n,"left","right")),h=Math.max(0,e.outerHeight-Gq(o,n,"top","bottom")),p=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:p,other:g}:{same:g,other:p}}function dle(n,e){const t=e.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}(n?["left","right"]:["top","bottom"])}function jC(n,e,t,i){const r=[];let s,o,c,h,p,g;for(s=0,o=n.length,p=0;s<o;++s){c=n[s],h=c.box,h.update(c.width||e.w,c.height||e.h,dle(c.horizontal,e));const{same:b,other:C}=cle(e,t,c,i);p|=b&&r.length,g=g||C,h.fullSize||r.push(c)}return p&&jC(r,e,t,i)||g}function oM(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Zq(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const c of n){const h=c.box,p=i[c.stack]||{count:1,placed:0,weight:1},g=c.stackWeight/p.weight||1;if(c.horizontal){const b=e.w*g,C=p.size||h.height;AC(p.start)&&(o=p.start),h.fullSize?oM(h,r.left,o,t.outerWidth-r.right-r.left,C):oM(h,e.left+p.placed,o,b,C),p.start=o,p.placed+=b,o=h.bottom}else{const b=e.h*g,C=p.size||h.width;AC(p.start)&&(s=p.start),h.fullSize?oM(h,s,r.top,C,t.outerHeight-r.bottom-r.top):oM(h,s,e.top+p.placed,C,b),p.start=s,p.placed+=b,s=h.right}}e.x=s,e.y=o}var Yo={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Ko(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),c=function lle(n){const e=function sle(n){const e=[];let t,i,r,s,o,c;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],({position:s,options:{stack:o,stackWeight:c=1}}=r),e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}(n),t=UC(e.filter(p=>p.box.fullSize),!0),i=UC(VC(e,"left"),!0),r=UC(VC(e,"right")),s=UC(VC(e,"top"),!0),o=UC(VC(e,"bottom")),c=Wq(e,"x"),h=Wq(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(o).concat(c),chartArea:VC(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(o).concat(c)}}(n.boxes),h=c.vertical,p=c.horizontal;Ai(n.boxes,L=>{"function"==typeof L.beforeLayout&&L.beforeLayout()});const g=h.reduce((L,V)=>V.box.options&&!1===V.box.options.display?L:L+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/g,hBoxMaxHeight:o/2}),C=Object.assign({},r);qq(C,Ko(i));const k=Object.assign({maxPadding:C,w:s,h:o,x:r.left,y:r.top},r),R=function ale(n,e){const t=function ole(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!$q.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=n.length;s<o;++s){c=n[s];const{fullSize:h}=c.box,p=t[c.stack],g=p&&c.stackWeight/p.weight;c.horizontal?(c.width=g?g*i:h&&e.availableWidth,c.height=r):(c.width=i,c.height=g?g*r:h&&e.availableHeight)}return t}(h.concat(p),b);jC(c.fullSize,k,b,R),jC(h,k,b,R),jC(p,k,b,R)&&jC(h,k,b,R),function ule(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(k),Zq(c.leftAndTop,k,b,R),k.x+=k.w,k.y+=k.h,Zq(c.rightAndBottom,k,b,R),n.chartArea={left:k.left,top:k.top,right:k.left+k.w,bottom:k.top+k.h,height:k.h,width:k.w},Ai(c.chartArea,L=>{const V=L.box;Object.assign(V,n.chartArea),V.update(k.w,k.h,{left:0,top:0,right:0,bottom:0})})}};class Kq{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class hle extends Kq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const aM="$chartjs",fle={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yq=n=>null===n||""===n,Qq=!!fae&&{passive:!0};function gle(n,e,t){n.canvas.removeEventListener(e,t,Qq)}function lM(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function yle(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||lM(c.addedNodes,i),o=o&&!lM(c.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function vle(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||lM(c.removedNodes,i),o=o&&!lM(c.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const zC=new Map;let Xq=0;function Jq(){const n=window.devicePixelRatio;n!==Xq&&(Xq=n,zC.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Ele(n,e,t){const i=n.canvas,r=i&&EB(i);if(!r)return;const s=JG((c,h)=>{const p=r.clientWidth;t(c,h),p<r.clientWidth&&t()},window),o=new ResizeObserver(c=>{const h=c[0],p=h.contentRect.width,g=h.contentRect.height;0===p&&0===g||s(p,g)});return o.observe(r),function ble(n,e){zC.size||window.addEventListener("resize",Jq),zC.set(n,e)}(n,s),o}function MB(n,e,t){t&&t.disconnect(),"resize"===e&&function wle(n){zC.delete(n),zC.size||window.removeEventListener("resize",Jq)}(n)}function Cle(n,e,t){const i=n.canvas,r=JG(s=>{null!==n.ctx&&t(function _le(n,e){const t=fle[n.type]||n.type,{x:i,y:r}=I_(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function mle(n,e,t){n.addEventListener(e,t,Qq)}(i,e,r),r}class xle extends Kq{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function ple(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[aM]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Yq(r)){const s=bq(n,"width");void 0!==s&&(n.width=s)}if(Yq(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=bq(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[aM])return!1;const i=t[aM].initial;["height","width"].forEach(s=>{const o=i[s];ii(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[aM],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:yle,detach:vle,resize:Ele}[t]||Cle)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];r&&(({attach:MB,detach:MB,resize:MB}[t]||gle)(e,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return function hae(n,e,t,i){const r=rM(n),s=S_(r,"margin"),o=iM(r.maxWidth,n,"clientWidth")||YA,c=iM(r.maxHeight,n,"clientHeight")||YA,h=function dae(n,e,t){let i,r;if(void 0===e||void 0===t){const s=EB(n);if(s){const o=s.getBoundingClientRect(),c=rM(s),h=S_(c,"border","width"),p=S_(c,"padding");e=o.width-p.width-h.width,t=o.height-p.height-h.height,i=iM(c.maxWidth,s,"clientWidth"),r=iM(c.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||YA,maxHeight:r||YA}}(n,e,t);let{width:p,height:g}=h;if("content-box"===r.boxSizing){const C=S_(r,"border","width"),k=S_(r,"padding");p-=k.width+C.width,g-=k.height+C.height}return p=Math.max(0,p-s.width),g=Math.max(0,i?p/i:g-s.height),p=sM(Math.min(p,o,h.maxWidth)),g=sM(Math.min(g,c,h.maxHeight)),p&&!g&&(g=sM(p/2)),(void 0!==e||void 0!==t)&&i&&h.height&&g>h.height&&(g=h.height,p=sM(Math.floor(g*i))),{width:p,height:g}}(e,t,i,r)}isAttached(e){const t=EB(e);return!(!t||!t.isConnected)}}class Ou{constructor(){yt(this,"x",void 0),yt(this,"y",void 0),yt(this,"active",!1),yt(this,"options",void 0),yt(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return cb(this.x)&&cb(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function cM(n,e,t,i,r){const s=Pn(i,0),o=Math.min(Pn(r,n.length),n.length);let h,p,g,c=0;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),g=s;g<0;)c++,g=Math.round(s+c*t);for(p=Math.max(s,0);p<o;p++)p===g&&(e.push(n[p]),c++,g=Math.round(s+c*t))}yt(Ou,"defaults",{}),yt(Ou,"defaultRoutes",void 0);const Ple=n=>"left"===n?"right":"right"===n?"left":n,e7=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,t7=(n,e)=>Math.min(e||n,n);function n7(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function Rle(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,c=1e-6;let p,h=n.getPixelForTick(r);if(!(t&&(p=1===i?Math.max(h-s,o-h):0===e?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<e?p:-p,h<s-c||h>o+c)))return h}function HC(n){return n.drawTicks?n.tickLength:0}function i7(n,e){if(!n.display)return 0;const t=Ns(n.font,e),i=Ko(n.padding);return(ur(n.text)?n.text.length:1)*t.lineHeight+i.height}function Lle(n,e,t){let i=hB(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=Ple(i)),i}class A_ extends Ou{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=zl(e,Number.POSITIVE_INFINITY),t=zl(t,Number.NEGATIVE_INFINITY),i=zl(i,Number.POSITIVE_INFINITY),r=zl(r,Number.NEGATIVE_INFINITY),{min:zl(e,i),max:zl(t,r),minDefined:Zr(e),maxDefined:Zr(t)}}getMinMax(e){let o,{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,p=c.length;h<p;++h)o=c[h].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:zl(t,zl(i,t)),max:zl(i,zl(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xi(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function $oe(n,e,t){const{min:i,max:r}=n,s=UG(e,(r-i)/2),o=(c,h)=>t&&0===c?0:c+h;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?n7(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function Ile(n,e){const t=n.options.ticks,i=function Tle(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?function Ale(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],o=s.length,c=s[0],h=s[o-1],p=[];if(o>r)return function Mle(n,e,t,i){let o,r=0,s=t[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}(e,p,s,o/r),p;const g=function Dle(n,e,t){const i=function kle(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),r=e.length/t;if(!i)return Math.max(r,1);const s=function goe(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}(i);for(let o=0,c=s.length-1;o<c;o++){const h=s[o];if(h>r)return h}return Math.max(r,1)}(s,e,r);if(o>0){let b,C;const k=o>1?Math.round((h-c)/(o-1)):null;for(cM(e,p,g,ii(k)?0:c-k,c),b=0,C=o-1;b<C;b++)cM(e,p,g,s[b],s[b+1]);return cM(e,p,g,h,ii(k)?e.length:h+k),p}return cM(e,p,g),p}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xi(this.options.afterUpdate,[this])}beforeSetDimensions(){Xi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Xi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Xi(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Xi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=t7(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let c,h,p,o=r;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const g=this._getLabelSizes(),b=g.widest.width,C=g.highest.height,k=to(this.chart.width-b,0,this.maxWidth);c=e.offset?this.maxWidth/i:k/(i-1),b+6>c&&(c=k/(i-(e.offset?.5:1)),h=this.maxHeight-HC(e.grid)-t.padding-i7(e.title,this.chart.options.font),p=Math.sqrt(b*b+C*C),o=cB(Math.min(Math.asin(to((g.highest.height+6)/c,-1,1)),Math.asin(to(h/p,-1,1))-Math.asin(to(C/p,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Xi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const h=i7(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=HC(s)+h):(e.height=this.maxHeight,e.width=HC(s)+h),i.display&&this.ticks.length){const{first:p,last:g,widest:b,highest:C}=this._getLabelSizes(),k=2*i.padding,R=Ru(this.labelRotation),L=Math.cos(R),V=Math.sin(R);c?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:V*b.width+L*C.height)+k):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:L*b.width+V*C.height)+k),this._calculatePadding(p,g,V,L)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,h=0!==this.labelRotation,p="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,k=0;h?p?(C=r*e.width,k=i*t.height):(C=i*e.height,k=r*t.width):"start"===s?k=t.width:"end"===s?C=e.width:"inner"!==s&&(C=e.width/2,k=t.width/2),this.paddingLeft=Math.max((C-g+o)*this.width/(this.width-g),0),this.paddingRight=Math.max((k-b+o)*this.width/(this.width-b),0)}else{let g=t.height/2,b=e.height/2;"start"===s?(g=0,b=e.height):"end"===s&&(g=t.height,b=0),this.paddingTop=g+o,this.paddingBottom=b+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)ii(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=n7(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],h=Math.floor(t/t7(t,i));let b,C,k,R,L,V,X,ie,pe,ve,Ee,p=0,g=0;for(b=0;b<t;b+=h){if(R=e[b].label,L=this._resolveTickFontOptions(b),r.font=V=L.string,X=s[V]=s[V]||{data:{},gc:[]},ie=L.lineHeight,pe=ve=0,ii(R)||ur(R)){if(ur(R))for(C=0,k=R.length;C<k;++C)Ee=R[C],!ii(Ee)&&!ur(Ee)&&(pe=JA(r,X.data,X.gc,pe,Ee),ve+=ie)}else pe=JA(r,X.data,X.gc,pe,R),ve=ie;o.push(pe),c.push(ve),p=Math.max(pe,p),g=Math.max(ve,g)}!function Ole(n,e){Ai(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}(s,t);const De=o.indexOf(p),nt=c.indexOf(g),Je=kt=>({width:o[kt]||0,height:c[kt]||0});return{first:Je(0),last:Je(t-1),widest:Je(De),highest:Je(nt),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function voe(n){return to(n,-32768,32767)}(this._alignToPixels?E_(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function Fle(n,e,t){return bm(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function Nle(n,e){return bm(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ru(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,h=s?s.highest.height+o:0;return this.isHorizontal()?h*i>c*r?c/i:h/r:h*r<c*i?h/i:c/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,h=s.offset,p=this.isHorizontal(),b=this.ticks.length+(h?1:0),C=HC(s),k=[],R=c.setContext(this.getContext()),L=R.display?R.width:0,V=L/2,X=function(ft){return E_(i,ft,L)};let ie,pe,ve,Ee,De,nt,Je,kt,hn,In,Rn,hr;if("top"===o)ie=X(this.bottom),nt=this.bottom-C,kt=ie-V,In=X(e.top)+V,hr=e.bottom;else if("bottom"===o)ie=X(this.top),In=e.top,hr=X(e.bottom)-V,nt=ie+V,kt=this.top+C;else if("left"===o)ie=X(this.right),De=this.right-C,Je=ie-V,hn=X(e.left)+V,Rn=e.right;else if("right"===o)ie=X(this.left),hn=e.left,Rn=X(e.right)-V,De=ie+V,Je=this.left+C;else if("x"===t){if("center"===o)ie=X((e.top+e.bottom)/2+.5);else if(Wn(o)){const ft=Object.keys(o)[0];ie=X(this.chart.scales[ft].getPixelForValue(o[ft]))}In=e.top,hr=e.bottom,nt=ie+V,kt=nt+C}else if("y"===t){if("center"===o)ie=X((e.left+e.right)/2);else if(Wn(o)){const ft=Object.keys(o)[0];ie=X(this.chart.scales[ft].getPixelForValue(o[ft]))}De=ie-V,Je=De-C,hn=e.left,Rn=e.right}const Qo=Pn(r.ticks.maxTicksLimit,b),fi=Math.max(1,Math.ceil(b/Qo));for(pe=0;pe<b;pe+=fi){const ft=this.getContext(pe),At=s.setContext(ft),qt=c.setContext(ft),fn=At.lineWidth,fr=At.color,_a=qt.dash||[],Es=qt.dashOffset,Qa=At.tickWidth,Mi=At.tickColor,Tm=At.tickBorderDash||[],L_=At.tickBorderDashOffset;ve=Rle(this,pe,h),void 0!==ve&&(Ee=E_(i,ve,fn),p?De=Je=hn=Rn=Ee:nt=kt=In=hr=Ee,k.push({tx1:De,ty1:nt,tx2:Je,ty2:kt,x1:hn,y1:In,x2:Rn,y2:hr,width:fn,color:fr,borderDash:_a,borderDashOffset:Es,tickWidth:Qa,tickColor:Mi,tickBorderDash:Tm,tickBorderDashOffset:L_}))}return this._ticksLength=b,this._borderValue=ie,k}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:p,padding:g,mirror:b}=s,C=HC(i.grid),k=C+g,R=b?-g:k,L=-Ru(this.labelRotation),V=[];let X,ie,pe,ve,Ee,De,nt,Je,kt,hn,In,Rn,hr="middle";if("top"===r)De=this.bottom-R,nt=this._getXAxisLabelAlignment();else if("bottom"===r)De=this.top+R,nt=this._getXAxisLabelAlignment();else if("left"===r){const fi=this._getYAxisLabelAlignment(C);nt=fi.textAlign,Ee=fi.x}else if("right"===r){const fi=this._getYAxisLabelAlignment(C);nt=fi.textAlign,Ee=fi.x}else if("x"===t){if("center"===r)De=(e.top+e.bottom)/2+k;else if(Wn(r)){const fi=Object.keys(r)[0];De=this.chart.scales[fi].getPixelForValue(r[fi])+k}nt=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)Ee=(e.left+e.right)/2-k;else if(Wn(r)){const fi=Object.keys(r)[0];Ee=this.chart.scales[fi].getPixelForValue(r[fi])}nt=this._getYAxisLabelAlignment(C).textAlign}"y"===t&&("start"===h?hr="top":"end"===h&&(hr="bottom"));const Qo=this._getLabelSizes();for(X=0,ie=c.length;X<ie;++X){pe=c[X],ve=pe.label;const fi=s.setContext(this.getContext(X));Je=this.getPixelForTick(X)+s.labelOffset,kt=this._resolveTickFontOptions(X),hn=kt.lineHeight,In=ur(ve)?ve.length:1;const ft=In/2,At=fi.color,qt=fi.textStrokeColor,fn=fi.textStrokeWidth;let _a,fr=nt;if(o?(Ee=Je,"inner"===nt&&(fr=X===ie-1?this.options.reverse?"left":"right":0===X?this.options.reverse?"right":"left":"center"),Rn="top"===r?"near"===p||0!==L?-In*hn+hn/2:"center"===p?-Qo.highest.height/2-ft*hn+hn:hn/2-Qo.highest.height:"near"===p||0!==L?hn/2:"center"===p?Qo.highest.height/2-ft*hn:Qo.highest.height-In*hn,b&&(Rn*=-1),0!==L&&!fi.showLabelBackdrop&&(Ee+=hn/2*Math.sin(L))):(De=Je,Rn=(1-In)*hn/2),fi.showLabelBackdrop){const Es=Ko(fi.backdropPadding),Qa=Qo.heights[X],Mi=Qo.widths[X];let Tm=Rn-Es.top,L_=0-Es.left;switch(hr){case"middle":Tm-=Qa/2;break;case"bottom":Tm-=Qa}switch(nt){case"center":L_-=Mi/2;break;case"right":L_-=Mi}_a={left:L_,top:Tm,width:Mi+Es.width,height:Qa+Es.height,color:fi.backdropColor}}V.push({label:ve,font:kt,textOffset:Rn,options:{rotation:L,color:At,strokeColor:qt,strokeWidth:fn,textAlign:fr,textBaseline:hr,translation:[Ee,De],backdrop:_a}})}return V}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ru(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,c=e+s,h=this._getLabelSizes().widest.width;let p,g;return"left"===t?r?(g=this.right+s,"near"===i?p="left":"center"===i?(p="center",g+=h/2):(p="right",g+=h)):(g=this.right-c,"near"===i?p="right":"center"===i?(p="center",g-=h/2):(p="left",g=this.left)):"right"===t?r?(g=this.left+s,"near"===i?p="right":"center"===i?(p="center",g-=h/2):(p="left",g-=h)):(g=this.left+c,"near"===i?p="left":"center"===i?(p="center",g+=h/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(h,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const h=r[s];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,g,b,C;this.isHorizontal()?(p=E_(e,this.left,o)-o/2,g=E_(e,this.right,c)+c/2,b=C=h):(b=E_(e,this.top,o)-o/2,C=E_(e,this.bottom,c)+c/2,p=g=h),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(p,b),t.lineTo(g,C),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&eM(i,r);const s=this.getLabelItems(e);for(const o of s)C_(i,o.label,0,o.textOffset,o.font,o.options);r&&tM(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Ns(i.font),o=Ko(i.padding),c=i.align;let h=s.lineHeight/2;"bottom"===t||"center"===t||Wn(t)?(h+=o.bottom,ur(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=o.top;const{titleX:p,titleY:g,maxWidth:b,rotation:C}=function Ble(n,e,t,i){const{top:r,left:s,bottom:o,right:c,chart:h}=n,{chartArea:p,scales:g}=h;let C,k,R,b=0;const L=o-r,V=c-s;if(n.isHorizontal()){if(k=Zo(i,s,c),Wn(t)){const X=Object.keys(t)[0];R=g[X].getPixelForValue(t[X])+L-e}else R="center"===t?(p.bottom+p.top)/2+L-e:e7(n,t,e);C=c-s}else{if(Wn(t)){const X=Object.keys(t)[0];k=g[X].getPixelForValue(t[X])-V+e}else k="center"===t?(p.left+p.right)/2-V+e:e7(n,t,e);R=Zo(i,o,r),b="left"===t?-Kr:Kr}return{titleX:k,titleY:R,maxWidth:C,rotation:b}}(this,h,t,c);C_(e,i.text,0,0,s,{color:i.color,maxWidth:b,rotation:C,textAlign:Lle(c,t,r),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Pn(e.grid&&e.grid.z,-1),r=Pn(e.border&&e.border.z,0);return this._isVisible()&&this.draw===A_.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const c=t[s];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){return Ns(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class uM{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function jle(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function Vle(n,e,t){const i=TC(Object.create(null),[t?Yr.get(t):{},Yr.get(e),n.defaults]);Yr.set(e,i),n.defaultRoutes&&function Ule(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),c=o.pop(),h=o.join(".");Yr.route(s,r,h,c)})}(e,n.defaultRoutes),n.descriptors&&Yr.describe(e,n.descriptors)}(e,o,i),this.override&&Yr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Yr[r]&&(delete Yr[r][i],this.override&&delete w_[i])}}class zle{constructor(){this.controllers=new uM(wm,"datasets",!0),this.elements=new uM(Ou,"elements"),this.plugins=new uM(Object,"plugins"),this.scales=new uM(A_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ai(r,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,i){const r=lB(e);Xi(i["before"+r],[],i),t[e](i),Xi(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Gd=new zle;class Hle{constructor(){this._init=[]}notify(e,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin;if(!1===Xi(o[i],[t,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){ii(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Pn(i.options&&i.options.plugins,{}),s=function $le(n){const e={},t=[],i=Object.keys(Gd.plugins.items);for(let s=0;s<i.length;s++)t.push(Gd.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===t.indexOf(o)&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}(i);return!1!==r||t?function Gle(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const c of e){const h=c.id,p=Wle(i[h],r);null!==p&&s.push({plugin:c,options:qle(n.config,{plugin:c,local:t[h]},p,o)})}return s}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(h=>c.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function Wle(n,e){return e||!1!==n?!0===n?{}:n:null}function qle(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kB(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(Yr.datasets[n]||{}).indexAxis||"x"}function r7(n){if("x"===n||"y"===n||"r"===n)return n}function Yle(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function PB(n,...e){if(r7(n))return n;for(const t of e){const i=t.axis||Yle(t.position)||n.length>1&&r7(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function s7(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function o7(n){const e=n.options||(n.options={});e.plugins=Pn(e.plugins,{}),e.scales=function Xle(n,e){const t=w_[n.type]||{scales:{}},i=e.scales||{},r=kB(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!Wn(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=PB(o,c,function Qle(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return s7(n,"x",t[0])||s7(n,"y",t[0])}return{}}(o,n),Yr.scales[c.type]),p=function Kle(n,e){return n===e?"_index_":"_value_"}(h,r),g=t.scales||{};s[o]=DC(Object.create(null),[{axis:h},c,g[h],g[p]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,h=o.indexAxis||kB(c,e),g=(w_[c]||{}).scales||{};Object.keys(g).forEach(b=>{const C=function Zle(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(b,h),k=o[C+"AxisID"]||C;s[k]=s[k]||Object.create(null),DC(s[k],[{axis:C},i[k],g[b]])})}),Object.keys(s).forEach(o=>{const c=s[o];DC(c,[Yr.scales[c.type],Yr.scale])}),s}(n,e)}function a7(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const l7=new Map,c7=new Set;function dM(n,e){let t=l7.get(n);return t||(t=e(),l7.set(n,t),c7.add(t)),t}const $C=(n,e,t)=>{const i=_m(e,t);void 0!==i&&n.add(i)};class ece{constructor(e){this._config=function Jle(n){return(n=n||{}).data=a7(n.data),o7(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=a7(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),o7(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return dM(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return dM(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return dM(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return dM(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),c=o.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(b=>$C(h,e,b))),g.forEach(b=>$C(h,r,b)),g.forEach(b=>$C(h,w_[s]||{},b)),g.forEach(b=>$C(h,Yr,b)),g.forEach(b=>$C(h,mB,b))});const p=Array.from(h);return 0===p.length&&p.push(Object.create(null)),c7.has(t)&&o.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,w_[t]||{},Yr.datasets[t]||{},{type:t},Yr,mB]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=u7(this._resolverCache,e,r);let h=o;(function nce(n,e){const{isScriptable:t,isIndexable:i}=uq(n);for(const r of e){const s=t(r),o=i(r),c=(o||s)&&n[r];if(s&&(ym(c)||tce(c))||o&&ur(c))return!0}return!1})(o,t)&&(s.$shared=!1,h=ub(o,i=ym(i)?i():i,this.createResolver(e,i,c)));for(const p of t)s[p]=h[p];return s}createResolver(e,t,i=[""],r){const{resolver:s}=u7(this._resolverCache,e,i);return Wn(t)?ub(s,t,void 0,r):s}}function u7(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:vB(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const tce=n=>Wn(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||ym(n[t]),!1),rce=["top","bottom","left","right","chartArea"];function d7(n,e){return"top"===n||"bottom"===n||-1===rce.indexOf(n)&&"x"===e}function h7(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function f7(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Xi(t&&t.onComplete,[n],e)}function sce(n){const e=n.chart,t=e.options.animation;Xi(t&&t.onProgress,[n],e)}function p7(n){return yq()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const hM={},m7=n=>{const e=p7(n);return Object.values(hM).filter(t=>t.canvas===e).pop()};function oce(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}let RB=(()=>{class n{static register(...t){Gd.add(...t),g7()}static unregister(...t){Gd.remove(...t),g7()}constructor(t,i){const r=this.config=new ece(i),s=p7(t),o=m7(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function Sle(n){return!yq()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?hle:xle}(s)),this.platform.updateConfig(r);const h=this.platform.acquireContext(s,c.aspectRatio),p=h&&h.canvas,g=p&&p.height,b=p&&p.width;this.id=aoe(),this.ctx=h,this.canvas=p,this.width=b,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Hle,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Coe(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(C=>this.update(C),c.resizeDelay||0),this._dataChanges=[],hM[this.id]=this,h&&p?(If.listen(this,"complete",f7),If.listen(this,"progress",sce),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return ii(t)?i&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vq(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aq(this.canvas,this.ctx),this}stop(){return If.stop(this),this}resize(t,i){If.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const r=this.options,c=this.platform.getMaximumSize(this.canvas,t,i,r.maintainAspectRatio&&this.aspectRatio),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,vq(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Xi(r.onResize,[this,c],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){Ai(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,i=t.scales,r=this.scales,s=Object.keys(r).reduce((c,h)=>(c[h]=!1,c),{});let o=[];i&&(o=o.concat(Object.keys(i).map(c=>{const h=i[c],p=PB(c,h),g="r"===p,b="x"===p;return{options:h,dposition:g?"chartArea":b?"bottom":"left",dtype:g?"radialLinear":b?"category":"linear"}}))),Ai(o,c=>{const h=c.options,p=h.id,g=PB(p,h),b=Pn(h.type,c.dtype);(void 0===h.position||d7(h.position,g)!==d7(c.dposition))&&(h.position=c.dposition),s[p]=!0;let C=null;p in r&&r[p].type===b?C=r[p]:(C=new(Gd.getScale(b))({id:p,type:b,ctx:this.ctx,chart:this}),r[C.id]=C),C.init(h,t)}),Ai(s,(c,h)=>{c||delete r[h]}),Ai(r,c=>{Yo.configure(this,c,c.options),Yo.addBox(this,c)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(h7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,s)=>{0===i.filter(o=>o===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){const o=i[r];let c=this.getDatasetMeta(r);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=h,c.indexAxis=o.indexAxis||kB(h,this.options),c.order=o.order||0,c.index=r,c.label=""+o.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const p=Gd.getController(h),{datasetElementType:g,dataElementType:b}=Yr.datasets[h];Object.assign(p,{dataElementType:Gd.getElement(b),datasetElementType:g&&Gd.getElement(g)}),c.controller=new p(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ai(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,b=this.data.datasets.length;g<b;g++){const{controller:C}=this.getDatasetMeta(g),k=!s&&-1===o.indexOf(C);C.buildOrUpdateElements(k),c=Math.max(+C.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),s||Ai(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(h7("z","_idx"));const{_active:h,_lastEvent:p}=this;p?this._eventHandler(p,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ai(this.scales,t=>{Yo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!HG(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of i)oce(t,s,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!HG(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Yo.update(this,this.width,this.height,t);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Ai(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,ym(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(If.has(this)?this.attached&&!If.running(this)&&If.start(this):(this.draw(),f7({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,r=[];let s,o;for(s=0,o=i.length;s<o;++s){const c=i[s];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,r=t._clip,s=!r.disabled,o=function lce(n){const{xScale:e,yScale:t}=n;if(e&&t)return{left:e.left,right:e.right,top:t.top,bottom:t.bottom}}(t)||this.chartArea,c={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(s&&eM(i,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?this.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?this.height:o.bottom+r.bottom}),t.controller.draw(),s&&tM(i),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(t){return Sf(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,s){const o=rle.modes[i];return"function"==typeof o?o(this,t,r,s):[]}getDatasetMeta(t){const i=this.data.datasets[t],r=this._metasets;let s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=bm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const r=this.getDatasetMeta(t);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(t,i){this.getDatasetMeta(t).hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){const s=r?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,s);AC(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(o,{visible:r}),this.update(h=>h.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),If.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),aq(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete hM[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,r=(o,c)=>{i.addEventListener(this,o,c),t[o]=c},s=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Ai(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,r=(p,g)=>{i.addEventListener(this,p,g),t[p]=g},s=(p,g)=>{t[p]&&(i.removeEventListener(this,p,g),delete t[p])},o=(p,g)=>{this.canvas&&this.resize(p,g)};let c;const h=()=>{s("attach",h),this.attached=!0,this.resize(),r("resize",o),r("detach",c)};c=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",h)},i.isAttached(this.canvas)?h():c()}unbindEvents(){Ai(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},Ai(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){const s=r?"set":"remove";let o,c,h,p;for("dataset"===i&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),h=0,p=t.length;h<p;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[s+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],r=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!ZA(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return 1===this._plugins._cache.filter(i=>i.plugin.id===t).length}_updateHoverStyles(t,i,r){const s=this.options.hover,o=(p,g)=>p.filter(b=>!g.some(C=>b.datasetIndex===C.datasetIndex&&b.index===C.index)),c=o(i,t),h=r?t:o(t,i);c.length&&this.updateHoverStyle(c,s.mode,!1),h.length&&s.mode&&this.updateHoverStyle(h,s.mode,!0)}_eventHandler(t,i){const r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=c=>(c.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const o=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,i,r){const{_active:s=[],options:o}=this,h=this._getActiveElements(t,s,r,i),p=function foe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),g=function ace(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(t,this._lastEvent,r,p);r&&(this._lastEvent=null,Xi(o.onHover,[t,h,this],this),p&&Xi(o.onClick,[t,h,this],this));const b=!ZA(h,s);return(b||i)&&(this._active=h,this._updateHoverStyles(h,s,i)),this._lastEvent=g,b}_getActiveElements(t,i,r,s){if("mouseout"===t.type)return[];if(!r)return i;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return yt(n,"defaults",Yr),yt(n,"instances",hM),yt(n,"overrides",w_),yt(n,"registry",Gd),yt(n,"version","4.3.0"),yt(n,"getChart",m7),n})();function g7(){return Ai(RB.instances,n=>n._plugins.invalidate())}function fb(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function fM(n,e,t,i,r,s){const{x:o,y:c,startAngle:h,pixelMargin:p,innerRadius:g}=e,b=Math.max(e.outerRadius+i+t-p,0),C=g>0?g+i+t+p:0;let k=0;const R=r-h;if(i){const At=((g>0?g-i:0)+(b>0?b-i:0))/2;k=(R-(0!==At?R*At/(At+i):R))/2}const V=(R-Math.max(.001,R*b-t/Cr)/b)/2,X=h+V+k,ie=r-V-k,{outerStart:pe,outerEnd:ve,innerStart:Ee,innerEnd:De}=function dce(n,e,t,i){const r=function uce(n){return yB(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),c=h=>{const p=(t-Math.min(s,h))*i/2;return to(h,0,Math.min(s,p))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:to(r.innerStart,0,o),innerEnd:to(r.innerEnd,0,o)}}(e,C,b,ie-X),nt=b-pe,Je=b-ve,kt=X+pe/nt,hn=ie-ve/Je,In=C+Ee,Rn=C+De,hr=X+Ee/In,Qo=ie-De/Rn;if(n.beginPath(),s){const fi=(kt+hn)/2;if(n.arc(o,c,b,kt,fi),n.arc(o,c,b,fi,hn),ve>0){const fn=fb(Je,hn,o,c);n.arc(fn.x,fn.y,ve,hn,ie+Kr)}const ft=fb(Rn,ie,o,c);if(n.lineTo(ft.x,ft.y),De>0){const fn=fb(Rn,Qo,o,c);n.arc(fn.x,fn.y,De,ie+Kr,Qo+Math.PI)}const At=(ie-De/C+(X+Ee/C))/2;if(n.arc(o,c,C,ie-De/C,At,!0),n.arc(o,c,C,At,X+Ee/C,!0),Ee>0){const fn=fb(In,hr,o,c);n.arc(fn.x,fn.y,Ee,hr+Math.PI,X-Kr)}const qt=fb(nt,X,o,c);if(n.lineTo(qt.x,qt.y),pe>0){const fn=fb(nt,kt,o,c);n.arc(fn.x,fn.y,pe,X-Kr,kt)}}else{n.moveTo(o,c);const fi=Math.cos(kt)*b+o,ft=Math.sin(kt)*b+c;n.lineTo(fi,ft);const At=Math.cos(hn)*b+o,qt=Math.sin(hn)*b+c;n.lineTo(At,qt)}n.closePath()}class WC extends Ou{constructor(e){super(),yt(this,"circumference",void 0),yt(this,"endAngle",void 0),yt(this,"fullCircles",void 0),yt(this,"innerRadius",void 0),yt(this,"outerRadius",void 0),yt(this,"pixelMargin",void 0),yt(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=ZG(r,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),C=(this.options.spacing+this.options.borderWidth)/2,R=Pn(b,h-c)>=dr||kC(s,c,h),L=Cf(o,p+C,g+C);return R&&L}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:p}=this.options,g=(r+s)/2,b=(o+c+p+h)/2;return{x:t+Math.cos(g)*b,y:i+Math.sin(g)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>dr?Math.floor(i/dr):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const p=r*(1-Math.sin(Math.min(Cr,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function hce(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let h=e.endAngle;if(s){fM(n,e,t,i,h,r);for(let p=0;p<s;++p)n.fill();isNaN(c)||(h=o+(c%dr||dr))}fM(n,e,t,i,h,r),n.fill()}(e,this,p,s,o),function fce(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:h}=e,{borderWidth:p,borderJoinStyle:g,borderDash:b,borderDashOffset:C}=h,k="inner"===h.borderAlign;if(!p)return;n.setLineDash(b||[]),n.lineDashOffset=C,k?(n.lineWidth=2*p,n.lineJoin=g||"round"):(n.lineWidth=p,n.lineJoin=g||"bevel");let R=e.endAngle;if(s){fM(n,e,t,i,R,r);for(let L=0;L<s;++L)n.stroke();isNaN(c)||(R=o+(c%dr||dr))}k&&function cce(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:h}=e;let p=r/c;n.beginPath(),n.arc(s,o,c,i-p,t+p),h>r?(p=r/h,n.arc(s,o,h,t+p,i-p,!0)):n.arc(s,o,r,t+Kr,i-Kr),n.closePath(),n.clip()}(n,e,R),s||(fM(n,e,t,i,R,r),n.stroke())}(e,this,p,s,o),e.restore()}}function _7(n,e,t=e){n.lineCap=Pn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Pn(t.borderDash,e.borderDash)),n.lineDashOffset=Pn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Pn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Pn(t.borderWidth,e.borderWidth),n.strokeStyle=Pn(t.borderColor,e.borderColor)}function pce(n,e,t){n.lineTo(t.x,t.y)}function y7(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:c}=e,h=Math.max(r,o),p=Math.min(s,c);return{count:i,start:h,loop:e.loop,ilen:p<h&&!(r<o&&s<o||r>c&&s>c)?i+p-h:p-h}}function gce(n,e,t,i){const{points:r,options:s}=e,{count:o,start:c,loop:h,ilen:p}=y7(r,t,i),g=function mce(n){return n.stepped?Noe:n.tension||"monotone"===n.cubicInterpolationMode?Foe:pce}(s);let k,R,L,{move:b=!0,reverse:C}=i||{};for(k=0;k<=p;++k)R=r[(c+(C?p-k:k))%o],!R.skip&&(b?(n.moveTo(R.x,R.y),b=!1):g(n,L,R,C,s.stepped),L=R);return h&&(R=r[(c+(C?p:0))%o],g(n,L,R,C,s.stepped)),!!h}function _ce(n,e,t,i){const r=e.points,{count:s,start:o,ilen:c}=y7(r,t,i),{move:h=!0,reverse:p}=i||{};let C,k,R,L,V,X,g=0,b=0;const ie=ve=>(o+(p?c-ve:ve))%s,pe=()=>{L!==V&&(n.lineTo(g,V),n.lineTo(g,L),n.lineTo(g,X))};for(h&&(k=r[ie(0)],n.moveTo(k.x,k.y)),C=0;C<=c;++C){if(k=r[ie(C)],k.skip)continue;const ve=k.x,Ee=k.y,De=0|ve;De===R?(Ee<L?L=Ee:Ee>V&&(V=Ee),g=(b*g+ve)/++b):(pe(),n.lineTo(ve,Ee),R=De,b=0,L=V=Ee),X=Ee}pe()}function OB(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?gce:_ce}yt(WC,"id","arc"),yt(WC,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),yt(WC,"defaultRoutes",{backgroundColor:"backgroundColor"}),yt(WC,"descriptors",{_scriptable:!0,_indexable:n=>"borderDash"!==n});const wce="function"==typeof Path2D;let pM=(()=>{class n extends Ou{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(oae(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function wae(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:c}=function vae(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}(t,r,s,i);return function Tq(n,e,t,i){return i&&i.setContext&&t?function Eae(n,e,t,i){const r=n._chart.getContext(),s=Dq(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,h=t.length,p=[];let g=s,b=e[0].start,C=b;function k(R,L,V,X){const ie=c?-1:1;if(R!==L){for(R+=h;t[R%h].skip;)R-=ie;for(;t[L%h].skip;)L+=ie;R%h!=L%h&&(p.push({start:R%h,end:L%h,loop:V,style:X}),g=X,b=L%h)}}for(const R of e){b=c?b:R.start;let V,L=t[b%h];for(C=b+1;C<=R.end;C++){const X=t[C%h];V=Dq(i.setContext(bm(r,{type:"segment",p0:L,p1:X,p0DataIndex:(C-1)%h,p1DataIndex:C%h,datasetIndex:o}))),Cae(V,g)&&k(b,C-1,R.loop,g),L=X,g=V}b<C-1&&k(b,C-1,R.loop,g)}return p}(n,e,t,i):e}(n,!0===i?[{start:o,end:c,loop:s}]:function bae(n,e,t,i){const r=n.length,s=[];let h,o=e,c=n[e];for(h=e+1;h<=t;++h){const p=n[h%r];p.skip||p.stop?c.skip||(s.push({start:e%r,end:(h-1)%r,loop:i=!1}),e=o=p.stop?h:null):(o=h,c.skip&&(e=h)),c=p}return null!==o&&s.push({start:e%r,end:o%r,loop:i}),s}(t,o,c<o?c+r:c,!!n._fullLoop&&0===o&&c===r-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,i){const r=this.options,s=t[i],o=this.points,c=Iq(this,{property:i,start:s,end:s});if(!c.length)return;const h=[],p=function yce(n){return n.stepped?pae:n.tension||"monotone"===n.cubicInterpolationMode?mae:T_}(r);let g,b;for(g=0,b=c.length;g<b;++g){const{start:C,end:k}=c[g],R=o[C],L=o[k];if(R===L){h.push(R);continue}const X=p(R,L,Math.abs((s-R[i])/(L[i]-R[i])),r.stepped);X[i]=t[i],h.push(X)}return 1===h.length?h[0]:h}pathSegment(t,i,r){return OB(this)(t,this,i,r)}path(t,i,r){const s=this.segments,o=OB(this);let c=this._loop;i=i||0,r=r||this.points.length-i;for(const h of s)c&=o(t,this,h,{start:i,end:i+r-1});return!!c}draw(t,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Ece(n,e,t,i){wce&&!e.options.segment?function vce(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),_7(n,e.options),n.stroke(r)}(n,e,t,i):function bce(n,e,t,i){const{segments:r,options:s}=e,o=OB(e);for(const c of r)_7(n,s,c.style),n.beginPath(),o(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return yt(n,"id","line"),yt(n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),yt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),yt(n,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e}),n})();function v7(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}let Cce=(()=>{class n extends Ou{constructor(t){super(),yt(this,"parsed",void 0),yt(this,"skip",void 0),yt(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return v7(this,t,"x",i)}inYRange(t,i){return v7(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const r=this.options;this.skip||r.radius<.1||!Sf(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,_B(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return yt(n,"id","point"),yt(n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),yt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),n})();function b7(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let c,h,p,g,b;return n.horizontal?(b=o/2,c=Math.min(t,r),h=Math.max(t,r),p=i-b,g=i+b):(b=s/2,c=t-b,h=t+b,p=Math.min(i,r),g=Math.max(i,r)),{left:c,top:p,right:h,bottom:g}}function Em(n,e,t,i){return n?0:to(e,t,i)}function NB(n,e,t,i){const r=null===e,s=null===t,c=n&&!(r&&s)&&b7(n,i);return c&&(r||Cf(e,c.left,c.right))&&(s||Cf(t,c.top,c.bottom))}function Dce(n,e){n.rect(e.x,e.y,e.w,e.h)}function FB(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-r),radius:n.radius}}class mM extends Ou{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=function Ice(n){const e=b7(n),t=e.right-e.left,i=e.bottom-e.top,r=function xce(n,e,t){const r=n.borderSkipped,s=cq(n.options.borderWidth);return{t:Em(r.top,s.top,0,t),r:Em(r.right,s.right,0,e),b:Em(r.bottom,s.bottom,0,t),l:Em(r.left,s.left,0,e)}}(n,t/2,i/2),s=function Sce(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=x_(r),o=Math.min(e,t),c=n.borderSkipped,h=i||Wn(r);return{topLeft:Em(!h||c.top||c.left,s.topLeft,0,o),topRight:Em(!h||c.top||c.right,s.topRight,0,o),bottomLeft:Em(!h||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:Em(!h||c.bottom||c.right,s.bottomRight,0,o)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),c=function Tce(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?NC:Dce;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),c(e,FB(o,t,s)),e.clip(),c(e,FB(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,FB(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return NB(this,e,t,i)}inXRange(e,t){return NB(this,e,null,t)}inYRange(e,t){return NB(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}yt(mM,"id","bar"),yt(mM,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),yt(mM,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Ace=Object.freeze({__proto__:null,ArcElement:WC,BarElement:mM,LineElement:pM,PointElement:Cce});const LB=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],w7=LB.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function E7(n){return LB[n%LB.length]}function C7(n){return w7[n%w7.length]}function x7(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var Nce={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!t.forceOverride&&(x7(i)||function Oce(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&x7(s)))return;const o=function Rce(n){let e=0;return(t,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof IB?e=function kce(n,e){return n.backgroundColor=n.data.map(()=>E7(e++)),e}(t,e):r instanceof zq?e=function Pce(n,e){return n.backgroundColor=n.data.map(()=>C7(e++)),e}(t,e):r&&(e=function Mce(n,e){return n.borderColor=E7(e),n.backgroundColor=C7(e),++e}(t,e))}}(n);i.forEach(o)}};function S7(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function I7(n){n.data.datasets.forEach(e=>{S7(e)})}var Vce={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void I7(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:c}=r,h=n.getDatasetMeta(s),p=o||r.data;if("y"===FC([c,n.options.indexAxis])||!h.controller.supportsDecimation)return;const g=n.scales[h.xAxisID];if("linear"!==g.type&&"time"!==g.type||n.options.parsing)return;let R,{start:b,count:C}=function Bce(n,e){const t=e.length;let r,i=0;const{iScale:s}=n,{min:o,max:c,minDefined:h,maxDefined:p}=s.getUserBounds();return h&&(i=to(xf(e,s.axis,o).lo,0,t-1)),r=p?to(xf(e,s.axis,c).hi+1,i,t)-i:t-i,{start:i,count:r}}(h,p);if(C<=(t.threshold||4*i))S7(r);else{switch(ii(o)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(L){this._data=L}})),t.algorithm){case"lttb":R=function Fce(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const o=[],c=(t-2)/(s-2);let h=0;const p=e+t-1;let b,C,k,R,L,g=e;for(o[h++]=n[g],b=0;b<s-2;b++){let ie,V=0,X=0;const pe=Math.floor((b+1)*c)+1+e,ve=Math.min(Math.floor((b+2)*c)+1,t)+e,Ee=ve-pe;for(ie=pe;ie<ve;ie++)V+=n[ie].x,X+=n[ie].y;V/=Ee,X/=Ee;const De=Math.floor(b*c)+1+e,nt=Math.min(Math.floor((b+1)*c)+1,t)+e,{x:Je,y:kt}=n[g];for(k=R=-1,ie=De;ie<nt;ie++)R=.5*Math.abs((Je-V)*(n[ie].y-kt)-(Je-n[ie].x)*(X-kt)),R>k&&(k=R,C=n[ie],L=ie);o[h++]=C,g=L}return o[h++]=n[p],o}(p,b,C,i,t);break;case"min-max":R=function Lce(n,e,t,i){let o,c,h,p,g,b,C,k,R,L,r=0,s=0;const V=[],ie=n[e].x,ve=n[e+t-1].x-ie;for(o=e;o<e+t;++o){c=n[o],h=(c.x-ie)/ve*i,p=c.y;const Ee=0|h;if(Ee===g)p<R?(R=p,b=o):p>L&&(L=p,C=o),r=(s*r+c.x)/++s;else{const De=o-1;if(!ii(b)&&!ii(C)){const nt=Math.min(b,C),Je=Math.max(b,C);nt!==k&&nt!==De&&V.push({...n[nt],x:r}),Je!==k&&Je!==De&&V.push({...n[Je],x:r})}o>0&&De!==k&&V.push(n[De]),V.push(c),g=Ee,s=0,R=L=p,b=C=k=o}}return V}(p,b,C,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=R}})},destroy(n){I7(n)}};function BB(n,e,t,i){if(i)return;let r=e[n],s=t[n];return"angle"===n&&(r=Hl(r),s=Hl(s)),{property:n,start:r,end:s}}function VB(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function T7(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function D7(n,e){let t=[],i=!1;return ur(n)?(i=!0,t=n):t=function jce(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:c})=>{c=VB(o,c,r);const h=r[o],p=r[c];null!==i?(s.push({x:h.x,y:i}),s.push({x:p.x,y:i})):null!==t&&(s.push({x:t,y:h.y}),s.push({x:t,y:p.y}))}),s}(n,e),t.length?new pM({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function A7(n){return n&&!1!==n.fill}function zce(n,e,t){let r=n[e].fill;const s=[e];let o;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Zr(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Hce(n,e,t){const i=function qce(n){const e=n.options,t=e.fill;let i=Pn(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Wn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Zr(r)&&Math.floor(r)===r?function $ce(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Yce(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:c,point:h}=Qce(s,e,"x");if(!(!h||o&&c))if(o)i.unshift(h);else if(n.push(h),!c)break}n.push(...i)}function Qce(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,o=n.points;let c=!1,h=!1;for(let p=0;p<s.length;p++){const g=s[p],b=o[g.start][t],C=o[g.end][t];if(Cf(r,b,C)){c=r===b,h=r===C;break}}return{first:c,last:h,point:i}}class M7{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:o}=this;return e.arc(r,s,o,(t=t||{start:0,end:dr}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function UB(n,e,t){const i=function Xce(n){const{chart:e,fill:t,line:i}=n;if(Zr(t))return function Jce(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function Zce(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,c=function Kce(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);c.push(D7({x:null,y:e.bottom},i));for(let h=0;h<s.length;h++){const p=s[h];for(let g=p.start;g<=p.end;g++)Yce(r,o[g],c)}return new pM({points:r,options:{}})}(n);if("shape"===t)return!0;const r=function eue(n){return(n.scale||{}).getPointPositionForValue?function nue(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=function Gce(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Wn(n)?n.value:e.getBaseValue(),i}(t,e,s),c=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,s);return new M7({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(o)})}for(let h=0;h<r;++h)c.push(e.getPointPositionForValue(h,o));return c}(n):function tue(n){const{scale:e={},fill:t}=n,i=function Wce(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Wn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(Zr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof M7?r:D7(r,i)}(e),{line:r,scale:s,axis:o}=e,c=r.options,h=c.fill,p=c.backgroundColor,{above:g=p,below:b=p}=h||{};i&&r.points.length&&(eM(n,t),function iue(n,e){const{line:t,target:i,above:r,below:s,area:o,scale:c}=e,h=t._loop?"angle":e.axis;n.save(),"x"===h&&s!==r&&(k7(n,i,o.top),P7(n,{line:t,target:i,color:r,scale:c,property:h}),n.restore(),n.save(),k7(n,i,o.bottom)),P7(n,{line:t,target:i,color:s,scale:c,property:h}),n.restore()}(n,{line:r,target:i,above:g,below:b,area:t,scale:s,axis:o}),tM(n))}function k7(n,e,t){const{segments:i,points:r}=e;let s=!0,o=!1;n.beginPath();for(const c of i){const{start:h,end:p}=c,g=r[h],b=r[VB(h,p,r)];s?(n.moveTo(g.x,g.y),s=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),o=!!e.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(b.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function P7(n,e){const{line:t,target:i,property:r,color:s,scale:o}=e,c=function Uce(n,e,t){const i=n.segments,r=n.points,s=e.points,o=[];for(const c of i){let{start:h,end:p}=c;p=VB(h,p,r);const g=BB(t,r[h],r[p],c.loop);if(!e.segments){o.push({source:c,target:g,start:r[h],end:r[p]});continue}const b=Iq(e,g);for(const C of b){const k=BB(t,s[C.start],s[C.end],C.loop),R=Sq(c,r,k);for(const L of R)o.push({source:L,target:C,start:{[t]:T7(g,k,"start",Math.max)},end:{[t]:T7(g,k,"end",Math.min)}})}}return o}(t,i,r);for(const{source:h,target:p,start:g,end:b}of c){const{style:{backgroundColor:C=s}={}}=h,k=!0!==i;n.save(),n.fillStyle=C,rue(n,o,k&&BB(r,g,b)),n.beginPath();const R=!!t.pathSegment(n,h);let L;if(k){R?n.closePath():R7(n,i,b,r);const V=!!i.pathSegment(n,p,{move:R,reverse:!0});L=R&&V,L||R7(n,i,g,r)}n.closePath(),n.fill(L?"evenodd":"nonzero"),n.restore()}}function rue(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:c}=t||{};"x"===s&&(n.beginPath(),n.rect(o,i,c-o,r-i),n.clip())}function R7(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var sue={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,o,c,h;for(o=0;o<i;++o)s=n.getDatasetMeta(o),c=s.dataset,h=null,c&&c.options&&c instanceof pM&&(h={visible:n.isDatasetVisible(o),index:o,fill:Hce(c,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=h,r.push(h);for(o=0;o<i;++o)h=r[o],h&&!1!==h.fill&&(h.fill=zce(r,o,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&UB(n.ctx,c,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;A7(s)&&UB(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!A7(i)||"beforeDatasetDraw"!==t.drawTime||UB(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const O7=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class N7 extends Ou{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Xi(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,r=Ns(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=O7(i,s);let p,g;t.font=r.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(o,s,c,h)+10):(g=this.maxHeight,p=this._fitCols(o,r,c,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],g=r+c;let b=e;s.textAlign="left",s.textBaseline="middle";let C=-1,k=-g;return this.legendItems.forEach((R,L)=>{const V=i+t/2+s.measureText(R.text).width;(0===L||p[p.length-1]+V+2*c>o)&&(b+=g,p[p.length-(L>0?0:1)]=0,k+=g,C++),h[L]={left:0,top:k,row:C,width:V,height:r},p[p.length-1]+=V+c}),b}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],g=o-e;let b=c,C=0,k=0,R=0,L=0;return this.legendItems.forEach((V,X)=>{const{itemWidth:ie,itemHeight:pe}=function aue(n,e,t,i,r){const s=function lue(n,e,t,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}(i,n,e,t),o=function cue(n,e,t){let i=n;return"string"!=typeof e.text&&(i=F7(e,t)),i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(i,t,s,V,r);X>0&&k+pe+2*c>g&&(b+=C+c,p.push({width:C,height:k}),R+=C+c,L++,C=k=0),h[X]={left:R,top:k,col:L,width:ie,height:pe},C=Math.max(C,ie),k+=pe+c}),b+=C,p.push({width:C,height:k}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=hb(s,this.left,this.width);if(this.isHorizontal()){let c=0,h=Zo(i,this.left+r,this.right-this.lineWidths[c]);for(const p of t)c!==p.row&&(c=p.row,h=Zo(i,this.left+r,this.right-this.lineWidths[c])),p.top+=this.top+e+r,p.left=o.leftForLtr(o.x(h),p.width),h+=p.width+r}else{let c=0,h=Zo(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const p of t)p.col!==c&&(c=p.col,h=Zo(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),p.top=h,p.left+=this.left+r,p.left=o.leftForLtr(o.x(p.left),p.width),h+=p.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;eM(e,this),this._draw(),tM(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,c=Yr.color,h=hb(e.rtl,this.left,this.width),p=Ns(o.font),{padding:g}=o,b=p.size,C=b/2;let k;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:R,boxHeight:L,itemHeight:V}=O7(o,b),pe=this.isHorizontal(),ve=this._computeTitleHeight();k=pe?{x:Zo(s,this.left+g,this.right-i[0]),y:this.top+g+ve,line:0}:{x:this.left+g,y:Zo(s,this.top+ve+g,this.bottom-t[0].height),line:0},wq(this.ctx,e.textDirection);const Ee=V+g;this.legendItems.forEach((De,nt)=>{r.strokeStyle=De.fontColor,r.fillStyle=De.fontColor;const Je=r.measureText(De.text).width,kt=h.textAlign(De.textAlign||(De.textAlign=o.textAlign)),hn=R+C+Je;let In=k.x,Rn=k.y;h.setWidth(this.width),pe?nt>0&&In+hn+g>this.right&&(Rn=k.y+=Ee,k.line++,In=k.x=Zo(s,this.left+g,this.right-i[k.line])):nt>0&&Rn+Ee>this.bottom&&(In=k.x=In+t[k.line].width+g,k.line++,Rn=k.y=Zo(s,this.top+ve+g,this.bottom-t[k.line].height)),function(De,nt,Je){if(isNaN(R)||R<=0||isNaN(L)||L<0)return;r.save();const kt=Pn(Je.lineWidth,1);if(r.fillStyle=Pn(Je.fillStyle,c),r.lineCap=Pn(Je.lineCap,"butt"),r.lineDashOffset=Pn(Je.lineDashOffset,0),r.lineJoin=Pn(Je.lineJoin,"miter"),r.lineWidth=kt,r.strokeStyle=Pn(Je.strokeStyle,c),r.setLineDash(Pn(Je.lineDash,[])),o.usePointStyle){const hn={radius:L*Math.SQRT2/2,pointStyle:Je.pointStyle,rotation:Je.rotation,borderWidth:kt},In=h.xPlus(De,R/2);lq(r,hn,In,nt+C,o.pointStyleWidth&&R)}else{const hn=nt+Math.max((b-L)/2,0),In=h.leftForLtr(De,R),Rn=x_(Je.borderRadius);r.beginPath(),Object.values(Rn).some(hr=>0!==hr)?NC(r,{x:In,y:hn,w:R,h:L,radius:Rn}):r.rect(In,hn,R,L),r.fill(),0!==kt&&r.stroke()}r.restore()}(h.x(In),Rn,De),In=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(kt,In+R+C,pe?In+hn:this.right,e.rtl),function(De,nt,Je){C_(r,Je.text,De,nt+V/2,p,{strikethrough:Je.hidden,textAlign:h.textAlign(Je.textAlign)})}(h.x(In),Rn,De),pe?k.x+=hn+g:k.y+="string"!=typeof De.text?F7(De,p.lineHeight):Ee}),Eq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ns(t.font),r=Ko(t.padding);if(!t.display)return;const s=hb(e.rtl,this.left,this.width),o=this.ctx,c=t.position,p=r.top+i.size/2;let g,b=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),g=this.top+p,b=Zo(e.align,b,this.right-C);else{const R=this.columnSizes.reduce((L,V)=>Math.max(L,V.height),0);g=p+Zo(e.align,this.top,this.bottom-R-e.labels.padding-this._computeTitleHeight())}const k=Zo(c,b,b+C);o.textAlign=s.textAlign(hB(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,C_(o,t.text,k,g,i)}_computeTitleHeight(){const e=this.options.title,t=Ns(e.font),i=Ko(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Cf(e,this.left,this.right)&&Cf(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Cf(e,r.left,r.left+r.width)&&Cf(t,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function uue(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(r,i);r&&!s&&Xi(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Xi(t.onHover,[e,i,this],this)}else i&&Xi(t.onClick,[e,i,this],this)}}function F7(n,e){return e*(n.text?n.text.length+.5:0)}var due={id:"legend",_element:N7,start(n,e,t){const i=n.legend=new N7({ctx:n.ctx,options:t,chart:n});Yo.configure(n,i,t),Yo.addBox(n,i)},stop(n){Yo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Yo.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(t?0:void 0),g=Ko(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:o&&(c||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class jB extends Ou{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=ur(i.text)?i.text.length:1;this._padding=Ko(i.padding);const s=r*Ns(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,c=o.align;let p,g,b,h=0;return this.isHorizontal()?(g=Zo(c,i,s),b=t+e,p=s-i):("left"===o.position?(g=i+e,b=Zo(c,r,t),h=-.5*Cr):(g=s-e,b=Zo(c,t,r),h=.5*Cr),p=r-t),{titleX:g,titleY:b,maxWidth:p,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ns(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:h,rotation:p}=this._drawArgs(s);C_(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:p,textAlign:hB(t.align),textBaseline:"middle",translation:[o,c]})}}var fue={id:"title",_element:jB,start(n,e,t){!function hue(n,e){const t=new jB({ctx:n.ctx,options:e,chart:n});Yo.configure(n,t,e),Yo.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){Yo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Yo.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gM=new WeakMap;var pue={id:"subtitle",start(n,e,t){const i=new jB({ctx:n.ctx,options:t,chart:n});Yo.configure(n,i,t),Yo.addBox(n,i),gM.set(n,i)},stop(n){Yo.removeBox(n,gM.get(n)),gM.delete(n)},beforeUpdate(n,e,t){const i=gM.get(n);Yo.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const GC={average(n){if(!n.length)return!1;let e,t,i=0,r=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();i+=c.x,r+=c.y,++s}}return{x:i/s,y:r/s}},nearest(n,e){if(!n.length)return!1;let s,o,c,t=e.x,i=e.y,r=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const h=n[s].element;if(h&&h.hasValue()){const g=uB(e,h.getCenterPoint());g<r&&(r=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function qd(n,e){return e&&(ur(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Tf(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function mue(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function L7(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:c}=e,h=Ns(e.bodyFont),p=Ns(e.titleFont),g=Ns(e.footerFont),b=s.length,C=r.length,k=i.length,R=Ko(e.padding);let L=R.height,V=0,X=i.reduce((ve,Ee)=>ve+Ee.before.length+Ee.lines.length+Ee.after.length,0);X+=n.beforeBody.length+n.afterBody.length,b&&(L+=b*p.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),X&&(L+=k*(e.displayColors?Math.max(c,h.lineHeight):h.lineHeight)+(X-k)*h.lineHeight+(X-1)*e.bodySpacing),C&&(L+=e.footerMarginTop+C*g.lineHeight+(C-1)*e.footerSpacing);let ie=0;const pe=function(ve){V=Math.max(V,t.measureText(ve).width+ie)};return t.save(),t.font=p.string,Ai(n.title,pe),t.font=h.string,Ai(n.beforeBody.concat(n.afterBody),pe),ie=e.displayColors?o+2+e.boxPadding:0,Ai(i,ve=>{Ai(ve.before,pe),Ai(ve.lines,pe),Ai(ve.after,pe)}),ie=0,t.font=g.string,Ai(n.footer,pe),t.restore(),V+=R.width,{width:V,height:L}}function yue(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:c,right:h}}=n;let p="center";return"center"===i?p=r<=(c+h)/2?"left":"right":r<=s/2?p="left":r>=o-s/2&&(p="right"),function _ue(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if("left"===n&&r+s+o>e.width||"right"===n&&r-s-o<0)return!0}(p,n,e,t)&&(p="center"),p}function B7(n,e,t){const i=t.yAlign||e.yAlign||function gue(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||yue(n,e,t,i),yAlign:i}}function V7(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:c,yAlign:h}=t,p=r+s,{topLeft:g,topRight:b,bottomLeft:C,bottomRight:k}=x_(o);let R=function vue(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,c);const L=function bue(n,e,t){let{y:i,height:r}=n;return"top"===e?i+=t:i-="bottom"===e?r+t:r/2,i}(e,h,p);return"center"===h?"left"===c?R+=p:"right"===c&&(R-=p):"left"===c?R-=Math.max(g,C)+r:"right"===c&&(R+=Math.max(b,k)+r),{x:to(R,0,i.width-e.width),y:to(L,0,i.height-e.height)}}function _M(n,e,t){const i=Ko(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function U7(n){return qd([],Tf(n))}function j7(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const z7={beforeTitle:Ef,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ef,beforeBody:Ef,beforeLabel:Ef,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ii(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ef,afterBody:Ef,beforeFooter:Ef,footer:Ef,afterFooter:Ef};function Ka(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?z7[e].call(t,i):r}let H7=(()=>{class n extends Ou{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new Mq(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function wue(n,e,t){return bm(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:r}=i,s=Ka(r,"beforeTitle",this,t),o=Ka(r,"title",this,t),c=Ka(r,"afterTitle",this,t);let h=[];return h=qd(h,Tf(s)),h=qd(h,Tf(o)),h=qd(h,Tf(c)),h}getBeforeBody(t,i){return U7(Ka(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:r}=i,s=[];return Ai(t,o=>{const c={before:[],lines:[],after:[]},h=j7(r,o);qd(c.before,Tf(Ka(h,"beforeLabel",this,o))),qd(c.lines,Ka(h,"label",this,o)),qd(c.after,Tf(Ka(h,"afterLabel",this,o))),s.push(c)}),s}getAfterBody(t,i){return U7(Ka(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:r}=i,s=Ka(r,"beforeFooter",this,t),o=Ka(r,"footer",this,t),c=Ka(r,"afterFooter",this,t);let h=[];return h=qd(h,Tf(s)),h=qd(h,Tf(o)),h=qd(h,Tf(c)),h}_createItems(t){const i=this._active,r=this.chart.data,s=[],o=[],c=[];let p,g,h=[];for(p=0,g=i.length;p<g;++p)h.push(mue(this.chart,i[p]));return t.filter&&(h=h.filter((b,C,k)=>t.filter(b,C,k,r))),t.itemSort&&(h=h.sort((b,C)=>t.itemSort(b,C,r))),Ai(h,b=>{const C=j7(t.callbacks,b);s.push(Ka(C,"labelColor",this,b)),o.push(Ka(C,"labelPointStyle",this,b)),c.push(Ka(C,"labelTextColor",this,b))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,i){const r=this.options.setContext(this.getContext()),s=this._active;let o,c=[];if(s.length){const h=GC[r.position].call(this,s,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const p=this._size=L7(this,r),g=Object.assign({},h,p),b=B7(this.chart,r,g),C=V7(r,g,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,o={opacity:1,x:C.x,y:C.y,width:p.width,height:p.height,caretX:h.x,caretY:h.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){const o=this.getCaretPosition(t,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,r){const{xAlign:s,yAlign:o}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:C}=x_(h),{x:k,y:R}=t,{width:L,height:V}=i;let X,ie,pe,ve,Ee,De;return"center"===o?(Ee=R+V/2,"left"===s?(X=k,ie=X-c,ve=Ee+c,De=Ee-c):(X=k+L,ie=X+c,ve=Ee-c,De=Ee+c),pe=X):(ie="left"===s?k+Math.max(p,b)+c:"right"===s?k+L-Math.max(g,C)-c:this.caretX,"top"===o?(ve=R,Ee=ve-c,X=ie-c,pe=ie+c):(ve=R+V,Ee=ve+c,X=ie+c,pe=ie-c),De=ve),{x1:X,x2:ie,x3:pe,y1:ve,y2:Ee,y3:De}}drawTitle(t,i,r){const s=this.title,o=s.length;let c,h,p;if(o){const g=hb(r.rtl,this.x,this.width);for(t.x=_M(this,r.titleAlign,r),i.textAlign=g.textAlign(r.titleAlign),i.textBaseline="middle",c=Ns(r.titleFont),h=r.titleSpacing,i.fillStyle=r.titleColor,i.font=c.string,p=0;p<o;++p)i.fillText(s[p],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,p+1===o&&(t.y+=r.titleMarginBottom-h)}}_drawColorBox(t,i,r,s,o){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:p,boxWidth:g}=o,b=Ns(o.bodyFont),C=_M(this,"left",o),k=s.x(C),L=i.y+(p<b.lineHeight?(b.lineHeight-p)/2:0);if(o.usePointStyle){const V={radius:Math.min(g,p)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},X=s.leftForLtr(k,g)+g/2,ie=L+p/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,_B(t,V,X,ie),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,_B(t,V,X,ie)}else{t.lineWidth=Wn(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const V=s.leftForLtr(k,g),X=s.leftForLtr(s.xPlus(k,1),g-2),ie=x_(c.borderRadius);Object.values(ie).some(pe=>0!==pe)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,NC(t,{x:V,y:L,w:g,h:p,radius:ie}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),NC(t,{x:X,y:L+1,w:g-2,h:p-2,radius:ie}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(V,L,g,p),t.strokeRect(V,L,g,p),t.fillStyle=c.backgroundColor,t.fillRect(X,L+1,g-2,p-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){const{body:s}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:p,boxWidth:g,boxPadding:b}=r,C=Ns(r.bodyFont);let k=C.lineHeight,R=0;const L=hb(r.rtl,this.x,this.width),V=function(kt){i.fillText(kt,L.x(t.x+R),t.y+k/2),t.y+=k+o},X=L.textAlign(c);let ie,pe,ve,Ee,De,nt,Je;for(i.textAlign=c,i.textBaseline="middle",i.font=C.string,t.x=_M(this,X,r),i.fillStyle=r.bodyColor,Ai(this.beforeBody,V),R=h&&"right"!==X?"center"===c?g/2+b:g+2+b:0,Ee=0,nt=s.length;Ee<nt;++Ee){for(ie=s[Ee],pe=this.labelTextColors[Ee],i.fillStyle=pe,Ai(ie.before,V),ve=ie.lines,h&&ve.length&&(this._drawColorBox(i,t,Ee,L,r),k=Math.max(C.lineHeight,p)),De=0,Je=ve.length;De<Je;++De)V(ve[De]),k=C.lineHeight;Ai(ie.after,V)}R=0,k=C.lineHeight,Ai(this.afterBody,V),t.y-=o}drawFooter(t,i,r){const s=this.footer,o=s.length;let c,h;if(o){const p=hb(r.rtl,this.x,this.width);for(t.x=_M(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=p.textAlign(r.footerAlign),i.textBaseline="middle",c=Ns(r.footerFont),i.fillStyle=r.footerColor,i.font=c.string,h=0;h<o;++h)i.fillText(s[h],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){const{xAlign:o,yAlign:c}=this,{x:h,y:p}=t,{width:g,height:b}=r,{topLeft:C,topRight:k,bottomLeft:R,bottomRight:L}=x_(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(h+C,p),"top"===c&&this.drawCaret(t,i,r,s),i.lineTo(h+g-k,p),i.quadraticCurveTo(h+g,p,h+g,p+k),"center"===c&&"right"===o&&this.drawCaret(t,i,r,s),i.lineTo(h+g,p+b-L),i.quadraticCurveTo(h+g,p+b,h+g-L,p+b),"bottom"===c&&this.drawCaret(t,i,r,s),i.lineTo(h+R,p+b),i.quadraticCurveTo(h,p+b,h,p+b-R),"center"===c&&"left"===o&&this.drawCaret(t,i,r,s),i.lineTo(h,p+C),i.quadraticCurveTo(h,p,h+C,p),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const c=GC[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=L7(this,t),p=Object.assign({},c,this._size),g=B7(i,t,p),b=V7(t,p,g,i);(s._to!==b.x||o._to!==b.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Ko(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,i),wq(t,i.textDirection),o.y+=c.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),Eq(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const r=this._active,s=t.map(({datasetIndex:h,index:p})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[p],index:p}}),o=!ZA(r,s),c=this._positionChanged(s,i);(o||c)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],c=this._getActiveElements(t,o,i,r),h=this._positionChanged(c,t),p=i||!ZA(c,o)||h;return p&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),p}_getActiveElements(t,i,r,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return i;const c=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&c.reverse(),c}_positionChanged(t,i){const{caretX:r,caretY:s,options:o}=this,c=GC[o.position].call(this,t,i);return!1!==c&&(r!==c.x||s!==c.y)}}return yt(n,"positioners",GC),n})();var Eue={id:"tooltip",_element:H7,positioners:GC,afterInit(n,e,t){t&&(n.tooltip=new H7({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:z7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Cue=Object.freeze({__proto__:null,Colors:Nce,Decimation:Vce,Filler:sue,Legend:due,SubTitle:pue,Title:fue,Tooltip:Eue});function $7(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}let Tue=(()=>{class n extends A_{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(ii(t))return null;const r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:function Sue(n,e,t,i){const r=n.indexOf(e);return-1===r?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):r!==n.lastIndexOf(e)?t:r}(r,t,Pn(i,t),this._addedLabels),((n,e)=>null===n?null:to(Math.round(n),0,e))(i,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,i=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=0===t&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=t;c<=i;c++)s.push({value:c});return s}getLabelForValue(t){return $7.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return yt(n,"id","category"),yt(n,"defaults",{ticks:{callback:$7}}),n})();function W7(n,e,{horizontal:t,minRotation:i}){const r=Ru(i),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(e/s,.75*e*(""+n).length)}class yM extends A_{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ii(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=h=>r=t?r:h,c=h=>s=i?s:h;if(e){const h=Wd(r),p=Wd(s);h<0&&p<0?c(0):h>0&&p>0&&o(0)}if(r===s){let h=0===s?1:Math.abs(.05*s);c(s+h),e||o(r-h)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let r,{maxTicksLimit:t,stepSize:i}=e;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function Due(n,e){const t=[],{bounds:r,step:s,min:o,max:c,precision:h,count:p,maxTicks:g,maxDigits:b,includeBounds:C}=n,k=s||1,R=g-1,{min:L,max:V}=e,X=!ii(o),ie=!ii(c),pe=!ii(p),ve=(V-L)/(b+1);let De,nt,Je,kt,Ee=WG((V-L)/R/k)*k;if(Ee<1e-14&&!X&&!ie)return[{value:L},{value:V}];kt=Math.ceil(V/Ee)-Math.floor(L/Ee),kt>R&&(Ee=WG(kt*Ee/R/k)*k),ii(h)||(De=Math.pow(10,h),Ee=Math.ceil(Ee*De)/De),"ticks"===r?(nt=Math.floor(L/Ee)*Ee,Je=Math.ceil(V/Ee)*Ee):(nt=L,Je=V),X&&ie&&s&&function _oe(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((c-o)/s,Ee/1e3)?(kt=Math.round(Math.min((c-o)/Ee,g)),Ee=(c-o)/kt,nt=o,Je=c):pe?(nt=X?o:nt,Je=ie?c:Je,kt=p-1,Ee=(Je-nt)/kt):(kt=(Je-nt)/Ee,kt=MC(kt,Math.round(kt),Ee/1e3)?Math.round(kt):Math.ceil(kt));const hn=Math.max(qG(Ee),qG(nt));De=Math.pow(10,ii(h)?hn:h),nt=Math.round(nt*De)/De,Je=Math.round(Je*De)/De;let In=0;for(X&&(C&&nt!==o?(t.push({value:o}),nt<o&&In++,MC(Math.round((nt+In*Ee)*De)/De,o,W7(o,ve,n))&&In++):nt<o&&In++);In<kt;++In){const Rn=Math.round((nt+In*Ee)*De)/De;if(ie&&Rn>c)break;t.push({value:Rn})}return ie&&C&&Je!==c?t.length&&MC(t[t.length-1].value,c,W7(c,ve,n))?t[t.length-1].value=c:t.push({value:c}):(!ie||Je===c)&&t.push({value:Je}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&GG(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return RC(e,this.chart.options.locale,this.options.ticks.format)}}class zB extends yM{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Zr(e)?e:0,this.max=Zr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Ru(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}yt(zB,"id","linear"),yt(zB,"defaults",{ticks:{callback:XA.formatters.numeric}});const qC=n=>Math.floor(vm(n)),M_=(n,e)=>Math.pow(10,qC(n)+e);function G7(n){return n/Math.pow(10,qC(n))==1}function q7(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}class HB extends A_{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=yM.prototype.parse.apply(this,[e,t]);if(0!==i)return Zr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Zr(e)?Math.max(0,e):null,this.max=Zr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zr(this._userMin)&&(this.min=e===M_(this.min,0)?M_(this.min,-1):M_(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=c=>i=e?i:c,o=c=>r=t?r:c;i===r&&(i<=0?(s(1),o(10)):(s(M_(i,-1)),o(M_(r,1)))),i<=0&&s(M_(r,-1)),r<=0&&o(M_(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,i=function Mue(n,{min:e,max:t}){e=zl(n.min,e);const i=[],r=qC(e);let s=function Aue(n,e){let i=qC(e-n);for(;q7(n,e,i)>10;)i++;for(;q7(n,e,i)<10;)i--;return Math.min(i,qC(n))}(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const c=Math.pow(10,s),h=r>s?Math.pow(10,r):0,p=Math.round((e-h)*o)/o,g=Math.floor((e-h)/c/10)*c*10;let b=Math.floor((p-g)/Math.pow(10,s)),C=zl(n.min,Math.round((h+g+b*Math.pow(10,s))*o)/o);for(;C<t;)i.push({value:C,major:G7(C),significand:b}),b>=10?b=b<15?15:20:b++,b>=20&&(s++,b=2,o=s>=0?1:o),C=Math.round((h+g+b*Math.pow(10,s))*o)/o;const k=zl(n.max,C);return i.push({value:k,major:G7(k),significand:b}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&GG(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":RC(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=vm(e),this._valueRange=vm(this.max)-vm(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(vm(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function $B(n){const e=n.ticks;if(e.display&&n.display){const t=Ko(e.backdropPadding);return Pn(e.font&&e.font.size,Yr.font.size)+t.height}return 0}function kue(n,e,t){return t=ur(t)?t:[t],{w:Ooe(n,e.string,t),h:t.length*e.lineHeight}}function Z7(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function Rue(n,e,t,i,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let c=0,h=0;i.start<e.l?(c=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-c)):i.end>e.r&&(c=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+c)),r.start<e.t?(h=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+h))}function Oue(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:c}=t,h=n.getPointPosition(e,i+r+o,s),p=Math.round(cB(Hl(h.angle+Kr))),g=function Vue(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}(h.y,c.h,p),b=function Lue(n){return 0===n||180===n?"center":n<180?"left":"right"}(p),C=function Bue(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}(h.x,c.w,b);return{visible:!0,x:h.x,y:g,textAlign:b,left:C,top:g,right:C+c.w,bottom:g+c.h}}function Nue(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:s}=n;return!(Sf({x:t,y:i},e)||Sf({x:t,y:s},e)||Sf({x:r,y:i},e)||Sf({x:r,y:s},e))}function Uue(n,e,t){const{left:i,top:r,right:s,bottom:o}=t,{backdropColor:c}=e;if(!ii(c)){const h=x_(e.borderRadius),p=Ko(e.backdropPadding);n.fillStyle=c;const g=i-p.left,b=r-p.top,C=s-i+p.width,k=o-r+p.height;Object.values(h).some(R=>0!==R)?(n.beginPath(),NC(n,{x:g,y:b,w:C,h:k,radius:h}),n.fill()):n.fillRect(g,b,C,k)}}function K7(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,dr);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}yt(HB,"id","logarithmic"),yt(HB,"defaults",{ticks:{callback:XA.formatters.logarithmic,major:{enabled:!0}}});class ZC extends yM{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ko($B(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Zr(e)&&!isNaN(e)?e:0,this.max=Zr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$B(this.options))}generateTickLabels(e){yM.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=Xi(this.options.pointLabels.callback,[t,i],this);return r||0===r?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function Pue(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,c=o.centerPointLabels?Cr/s:0;for(let h=0;h<s;h++){const p=o.setContext(n.getPointLabelContext(h));r[h]=p.padding;const g=n.getPointPosition(h,n.drawingArea+r[h],c),b=Ns(p.font),C=kue(n.ctx,b,n._pointLabels[h]);i[h]=C;const k=Hl(n.getIndexAngle(h)+c),R=Math.round(cB(k));Rue(t,e,k,Z7(R,g.x,C.w,0,180),Z7(R,g.y,C.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function Fue(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:c}=s.pointLabels,h={extra:$B(s)/2,additionalAngle:o?Cr/r:0};let p;for(let g=0;g<r;g++){h.padding=t[g],h.size=e[g];const b=Oue(n,g,h);i.push(b),"auto"===c&&(b.visible=Nue(b,p),b.visible&&(p=b))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){return Hl(e*(dr/(this._pointLabels.length||1))+Ru(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ii(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ii(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function Hue(n,e,t){return bm(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-Kr+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),K7(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length;let c,h,p;if(t.pointLabels.display&&function jue(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(n.getPointLabelContext(r));Uue(t,o,s);const c=Ns(o.font),{x:h,y:p,textAlign:g}=s;C_(t,n._pointLabels[r],h,p+c.lineHeight/2,c,{color:o.color,textAlign:g,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((g,b)=>{if(0!==b){h=this.getDistanceFromCenterForValue(g.value);const C=this.getContext(b),k=r.setContext(C),R=s.setContext(C);!function zue(n,e,t,i,r){const s=n.ctx,o=e.circular,{color:c,lineWidth:h}=e;!o&&!i||!c||!h||t<0||(s.save(),s.strokeStyle=c,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),K7(n,t,o,i),s.closePath(),s.stroke(),s.restore())}(this,k,h,o,R)}}),i.display){for(e.save(),c=o-1;c>=0;c--){const g=i.setContext(this.getPointLabelContext(c)),{color:b,lineWidth:C}=g;!C||!b||(e.lineWidth=C,e.strokeStyle=b,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,h=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),p=this.getPointPosition(c,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(p.x,p.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,h)=>{if(0===h&&!t.reverse)return;const p=i.setContext(this.getContext(h)),g=Ns(p.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),p.showLabelBackdrop){e.font=g.string,o=e.measureText(c.label).width,e.fillStyle=p.backdropColor;const b=Ko(p.backdropPadding);e.fillRect(-o/2-b.left,-s-g.size/2-b.top,o+b.width,g.size+b.height)}C_(e,c.label,0,-s,g,{color:p.color})}),e.restore()}drawTitle(){}}yt(ZC,"id","radialLinear"),yt(ZC,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:XA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}}),yt(ZC,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),yt(ZC,"descriptors",{angleLines:{_fallback:"grid"}});const vM={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ya=Object.keys(vM);function $ue(n,e){return n-e}function Y7(n,e){if(ii(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return"function"==typeof i&&(o=i(o)),Zr(o)||(o="string"==typeof i?t.parse(o,i):t.parse(o)),null===o?null:(r&&(o="week"!==r||!cb(s)&&!0!==s?t.startOf(o,r):t.startOf(o,"isoWeek",s)),+o)}function Q7(n,e,t,i){const r=Ya.length;for(let s=Ya.indexOf(n);s<r-1;++s){const o=vM[Ya[s]];if(o.common&&Math.ceil((t-e)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=i)return Ya[s]}return Ya[r-1]}function X7(n,e,t){if(t){if(t.length){const{lo:i,hi:r}=dB(t,e);n[t[i]>=e?t[i]:t[r]]=!0}}else n[e]=!0}function J7(n,e,t){const i=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,i.push({value:c,major:!1});return 0!==s&&t?function que(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let c,h;for(c=s;c<=o;c=+r.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}(n,i,r,t):i}let WB=(()=>{class n extends A_{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const r=t.time||(t.time={}),s=this._adapter=new Jae__date(t.adapters.date);s.init(i),DC(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:Y7(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,r=t.time.unit||"day";let{min:s,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function p(g){!c&&!isNaN(g.min)&&(s=Math.min(s,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(p(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&p(this.getMinMax(!1))),s=Zr(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=Zr(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,h=function woe(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,o,this.max);return this._unit=i.unit||(r.autoSkip?Q7(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function Wue(n,e,t,i,r){for(let s=Ya.length-1;s>=Ya.indexOf(t);s--){const o=Ya[s];if(vM[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Ya[t?Ya.indexOf(t):0]}(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Gue(n){for(let e=Ya.indexOf(n)+1,t=Ya.length;e<t;++e)if(vM[Ya[e]].common)return Ya[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&h.reverse(),J7(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s,o,i=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),i=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),r=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;i=to(i,0,c),r=to(r,0,c),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,c=o.unit||Q7(o.minUnit,i,r,this._getLabelCapacity(i)),h=Pn(s.ticks.stepSize,1),p="week"===c&&o.isoWeekday,g=cb(p)||!0===p,b={};let k,R,C=i;if(g&&(C=+t.startOf(C,"isoWeek",p)),C=+t.startOf(C,g?"day":c),t.diff(r,i,c)>1e5*h)throw new Error(i+" and "+r+" are too far apart with stepSize of "+h+" "+c);const L="data"===s.ticks.source&&this.getDataTimestamps();for(k=C,R=0;k<r;k=+t.add(k,h,c),R++)X7(b,k,L);return(k===r||"ticks"===s.bounds||1===R)&&X7(b,k,L),Object.keys(b).sort((V,X)=>V-X).map(V=>+V)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(t,i){return this._adapter.format(t,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,i,r,s){const o=this.options,c=o.ticks.callback;if(c)return Xi(c,[t,i,r],this);const h=o.time.displayFormats,p=this._unit,g=this._majorUnit,C=g&&h[g],k=r[i];return this._adapter.format(t,s||(g&&C&&k&&k.major?C:p&&h[p]))}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,r=this.ctx.measureText(t).width,s=Ru(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),c=Math.sin(s),h=this._resolveTickFontOptions(0).size;return{w:r*o+h*c,h:r*c+h*o}}_getLabelCapacity(t){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(t,0,J7(this,[t],this._majorUnit),s),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let i,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,r;if(t.length)return t;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push(Y7(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return QG(t.sort($ue))}}return yt(n,"id","time"),yt(n,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),n})();function bM(n,e,t){let s,o,c,h,i=0,r=n.length-1;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=xf(n,"pos",e)),({pos:s,time:c}=n[i]),({pos:o,time:h}=n[r])):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=xf(n,"time",e)),({time:s,pos:c}=n[i]),({time:o,pos:h}=n[r]));const p=o-s;return p?c+(h-c)*(e-s)/p:c}class GB extends WB{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=bM(t,this.min),this._tableRange=bM(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,c,h,p,g;for(o=0,c=e.length;o<c;++o)p=e[o],p>=t&&p<=i&&r.push(p);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)g=r[o+1],h=r[o-1],p=r[o],Math.round((g+h)/2)!==p&&s.push({time:p,pos:o/(c-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(bM(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return bM(this._table,i*this._tableRange+this._minPos,!0)}}yt(GB,"id","timeseries"),yt(GB,"defaults",WB.defaults),RB.register(Xae,Ace,Cue,Object.freeze({__proto__:null,CategoryScale:Tue,LinearScale:zB,LogarithmicScale:HB,RadialLinearScale:ZC,TimeScale:WB,TimeSeriesScale:GB}));const Yue=RB,Xue=((0,Oc.ZF)(Yw.firebase),Gw(WT(),"users/"));var wM=document.body;let Jue=(()=>{class n{ngOnInit(){return(0,Oe.Z)(function*(){const o=gG(function gse(n,e){const t="object"==typeof n?n:(0,ks.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,ks._getProvider)(t,"firestore/lite").getImmediate({identifier:i});if(!r._initialized){const s=(0,ae.P0)("firestore");s&&function _se(n,e,t,i={}){var r;const s=(n=Uc(n,vf))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&IW("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=qa.MOCK_USER;else{c=(0,ae.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Mt(Gt,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qa(p)}n._authCredentials=new Are(new OW(c,h))}}(r,...s)}return r}((0,Oc.ZF)({projectId:"proyectotours-81d94",appId:"1:307191822237:web:8badb9ff5bda1f1bf1a174",databaseURL:"https://proyectotours-81d94-default-rtdb.firebaseio.com",storageBucket:"proyectotours-81d94.appspot.com",apiKey:"AIzaSyBdBiv0JChuRg49RK839CnWkW8KeigwCss",authDomain:"proyectotours-81d94.firebaseapp.com",messagingSenderId:"307191822237",measurementId:"G-BY0C0B0SP3"})),"graficas","VhcuRp5M035FWDPDmVlX"),c=yield function Dse(n){const e=yf((n=Uc(n,eo)).firestore),t=new $A(n.firestore);return function pG(n,e){return HL.apply(this,arguments)}(e,[n._key]).then(i=>{Za(1===i.length);const r=i[0];return new y_(n.firestore,t,n._key,r.isFoundDocument()?r:null,n.converter)})}(o);if(c.exists()){const h=c.data(),p=Object.keys(h),g=Object.values(h);console.log(g);const b=document.getElementById("barChart");new Yue(b,{type:"bar",data:{labels:p,datasets:[{label:"Valores",data:g,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}else console.log("El documento no existe")})()}getBody(){wM=document.getElementById("tablas"),console.log("body: "+wM)}getData(){dN(Xue,t=>{var i;if(document.createElement("tbody"),i=Object.values(t.val()),console.log("data onValue: "+Object.values(i)),!i)return void alert("No hay usuarios");const s=document.createElement("div"),o=document.createElement("table");var c=document.createElement("thead"),h=["Correo","Nombre","Apellido","Contrase\xf1a","Telefono","Usuario"];o.appendChild(c);for(let p=0;p<=5;p++)c.appendChild(document.createElement("th")).appendChild(document.createTextNode(h[p]));for(let p=0;p<i.length;p++){const g=o.insertRow();for(let b=1;b<=6;b++){const C=g.insertCell();let k;k=Object.values(i[p])[b],C.appendChild(document.createTextNode(k)),g.setAttribute("class","celdas"),g.appendChild(C)}}o.setAttribute("class","tablee"),s.setAttribute("class","centerAll"),s.appendChild(o),(wM=document.getElementById("tablas"))?.appendChild(s)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-graficas"]],decls:12,vars:1,consts:[[1,"fondo"],[2,"width","400px","height","300px"],["id","barChart"],[2,"text-align","center","font-weight","bolder"],["id","tablas"],["tablas",""]],template:function(t,i){1&t&&(u.TgZ(0,"body")(1,"div",0)(2,"div",1),u._UZ(3,"canvas",2),u.qZA()(),u._UZ(4,"br")(5,"br"),u.TgZ(6,"h2",3),u._uU(7,"USUARIOS"),u.qZA(),u._UZ(8,"br")(9,"div",4,5),u._uU(11),u.qZA()),2&t&&(u.xp6(11),u.hij(" ",i.getData()," "))},styles:[".chart-container[_ngcontent-%COMP%]{width:500px;height:400px;display:flex!important;justify-content:center!important;align-items:center!important;margin:auto}.fondo[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#c7e6ff,#9ad4ff,#5bc0de,#4ca8d7,#79d6f2)}h1[_ngcontent-%COMP%]{font-size:30px;color:#040404;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;text-align:center}"],changeDetection:0}),n})(),ede=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-preguntas-f"]],decls:46,vars:0,consts:[[1,"preguntasfr"],[1,"text-center","mb-4",2,"font-family","'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif"],[1,"row","row-cols-1","row-cols-md-2","g-4"],[1,"col"],[1,"card","h-100"],[1,"card-body"],[1,"card-title","my-card-title"],[1,"card-text","my-card-text"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"h2",1),u._uU(2,"PREGUNTAS FRECUENTES"),u.qZA(),u.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),u._uU(8,"\xbfCuales tours estan disponibles para hacer reservciones?"),u.qZA(),u.TgZ(9,"p",7),u._uU(10," Por el momento contamos con los tours a Seul Corea, Machu Picchu Peru y el de Petra Jordania los cuales puedes observar en la opcion de Reservar de nuestro menu. "),u.qZA()()()(),u.TgZ(11,"div",3)(12,"div",4)(13,"div",5)(14,"h5",6),u._uU(15,"\xbfCual es el tour mas economico que tienen?"),u.qZA(),u.TgZ(16,"p",7),u._uU(17," En este momento contamos con el Tour a Petra Jordania con un costo de $3500 "),u.qZA()()()(),u.TgZ(18,"div",3)(19,"div",4)(20,"div",5)(21,"h5",6),u._uU(22,"\xbfCual es su correo electronico de contacto?"),u.qZA(),u.TgZ(23,"p",7),u._uU(24," Nos puedes encontrar en gmail como escape@gmail.com o de igual forma por telefono al numero (123) 456-7890 "),u.qZA()()()(),u.TgZ(25,"div",3)(26,"div",4)(27,"div",5)(28,"h5",6),u._uU(29,"\xbfCu\xe1nto tiempo dura cada tour?"),u.qZA(),u.TgZ(30,"p",7),u._uU(31," Cada tour tiene una duraci\xf3n diferente. Por favor consulta la descripci\xf3n de cada tour para obtener m\xe1s informaci\xf3n sobre su duraci\xf3n. "),u.qZA()()()(),u.TgZ(32,"div",3)(33,"div",4)(34,"div",5)(35,"h5",6),u._uU(36,"\xbfQu\xe9 est\xe1 incluido en el precio del tour?"),u.qZA(),u.TgZ(37,"p",7),u._uU(38," El precio del tour generalmente incluye transporte, alojamiento, comidas y actividades seg\xfan lo especificado en la descripci\xf3n del tour. Sin embargo, esto puede variar seg\xfan el tour y la empresa que lo ofrece. Por favor consulta la descripci\xf3n del tour para obtener m\xe1s informaci\xf3n sobre lo que est\xe1 incluido en el precio. "),u.qZA()()()(),u.TgZ(39,"div",3)(40,"div",4)(41,"div",5)(42,"h5",6),u._uU(43,"\xbfHay alg\xfan requisito para participar en los tours?"),u.qZA(),u.TgZ(44,"p",7),u._uU(45," Los requisitos para participar en los tours pueden variar seg\xfan el tour y la empresa que lo ofrece. Algunos tours pueden tener requisitos de edad m\xednima, estado f\xedsico o documentaci\xf3n necesaria. Por favor consulta la descripci\xf3n del tour o contacta a la empresa para obtener m\xe1s informaci\xf3n sobre los requisitos para participar en el tour. "),u.qZA()()()()()())},styles:[".preguntasfr[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#c7e6ff,#9ad4ff,#5bc0de,#4ca8d7,#79d6f2)}.my-card-title[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:18px;font-weight:700}.my-card-text[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:16px}.card[_ngcontent-%COMP%]{border:none;border-radius:15px;box-shadow:0 4px 8px #00000080}.card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #00000080}.card-body[_ngcontent-%COMP%]{padding:24px}.card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:12px}.card-text[_ngcontent-%COMP%]{font-size:16px;line-height:1.5}"]}),n})();class EM{}class qB{}class Df{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Df?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Df;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Df?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tde{encodeKey(e){return e8(e)}encodeValue(e){return e8(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ide=/%(\d[a-f0-9])/gi,rde={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function e8(n){return encodeURIComponent(n).replace(ide,(e,t)=>rde[t]??e)}function CM(n){return`${n}`}class Cm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tde,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nde(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],h=t.get(o)||[];h.push(c),t.set(o,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(CM):[CM(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Cm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(CM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(CM(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class sde{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function t8(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function n8(n){return typeof Blob<"u"&&n instanceof Blob}function i8(n){return typeof FormData<"u"&&n instanceof FormData}class KC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ode(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Df),this.context||(this.context=new sde),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+o}}else this.params=new Cm,this.urlWithParams=t}serializeBody(){return null===this.body?null:t8(this.body)||n8(this.body)||i8(this.body)||function ade(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||i8(this.body)?null:n8(this.body)?this.body.type||null:t8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let h=e.headers||this.headers,p=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(h=Object.keys(e.setHeaders).reduce((b,C)=>b.set(C,e.setHeaders[C]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((b,C)=>b.set(C,e.setParams[C]),p)),new KC(t,i,s,{params:p,headers:h,context:g,reportProgress:c,responseType:r,withCredentials:o})}}var ws=(()=>((ws=ws||{})[ws.Sent=0]="Sent",ws[ws.UploadProgress=1]="UploadProgress",ws[ws.ResponseHeader=2]="ResponseHeader",ws[ws.DownloadProgress=3]="DownloadProgress",ws[ws.Response=4]="Response",ws[ws.User=5]="User",ws))();class ZB{constructor(e,t=200,i="OK"){this.headers=e.headers||new Df,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class KB extends ZB{constructor(e={}){super(e),this.type=ws.ResponseHeader}clone(e={}){return new KB({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xM extends ZB{constructor(e={}){super(e),this.type=ws.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class r8 extends ZB{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function YB(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let SM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof KC)s=t;else{let h,p;h=r.headers instanceof Df?r.headers:new Df(r.headers),r.params&&(p=r.params instanceof Cm?r.params:new Cm({fromObject:r.params})),s=new KC(t,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Ot(s).pipe(mu(h=>this.handler.handle(h)));if(t instanceof KC||"events"===r.observe)return o;const c=o.pipe(ji(h=>h instanceof xM));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,Rt.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return c.pipe((0,Rt.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return c.pipe((0,Rt.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return c.pipe((0,Rt.U)(h=>h.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Cm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,YB(r,i))}post(t,i,r={}){return this.request("POST",t,YB(r,i))}put(t,i,r={}){return this.request("PUT",t,YB(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function s8(n,e){return e(n)}function lde(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const ude=new u.OlP("HTTP_INTERCEPTORS"),YC=new u.OlP("HTTP_INTERCEPTOR_FNS");function dde(){let n=null;return(e,t)=>(null===n&&(n=((0,u.f3M)(ude,{optional:!0})??[]).reduceRight(lde,s8)),n(e,t))}let o8=(()=>{class n extends EM{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(YC)));this.chain=i.reduceRight((r,s)=>function cde(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),s8)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qB),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mde=/^\)\]\}',?\n/;let l8=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ni.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((k,R)=>r.setRequestHeader(k,R.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&r.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();r.responseType="json"!==k?k:"text"}const s=t.serializeBody();let o=null;const c=()=>{if(null!==o)return o;const k=r.statusText||"OK",R=new Df(r.getAllResponseHeaders()),L=function gde(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new KB({headers:R,status:r.status,statusText:k,url:L}),o},h=()=>{let{headers:k,status:R,statusText:L,url:V}=c(),X=null;204!==R&&(X=typeof r.response>"u"?r.responseText:r.response),0===R&&(R=X?200:0);let ie=R>=200&&R<300;if("json"===t.responseType&&"string"==typeof X){const pe=X;X=X.replace(mde,"");try{X=""!==X?JSON.parse(X):null}catch(ve){X=pe,ie&&(ie=!1,X={error:ve,text:X})}}ie?(i.next(new xM({body:X,headers:k,status:R,statusText:L,url:V||void 0})),i.complete()):i.error(new r8({error:X,headers:k,status:R,statusText:L,url:V||void 0}))},p=k=>{const{url:R}=c(),L=new r8({error:k,status:r.status||0,statusText:r.statusText||"Unknown Error",url:R||void 0});i.error(L)};let g=!1;const b=k=>{g||(i.next(c()),g=!0);let R={type:ws.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),"text"===t.responseType&&r.responseText&&(R.partialText=r.responseText),i.next(R)},C=k=>{let R={type:ws.UploadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),i.next(R)};return r.addEventListener("load",h),r.addEventListener("error",p),r.addEventListener("timeout",p),r.addEventListener("abort",p),t.reportProgress&&(r.addEventListener("progress",b),null!==s&&r.upload&&r.upload.addEventListener("progress",C)),r.send(s),i.next({type:ws.Sent}),()=>{r.removeEventListener("error",p),r.removeEventListener("abort",p),r.removeEventListener("load",h),r.removeEventListener("timeout",p),t.reportProgress&&(r.removeEventListener("progress",b),null!==s&&r.upload&&r.upload.removeEventListener("progress",C)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const QB=new u.OlP("XSRF_ENABLED"),c8=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),u8=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class d8{}let vde=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Co(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(u.Lbi),u.LFG(c8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function bde(n,e){const t=n.url.toLowerCase();if(!(0,u.f3M)(QB)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,u.f3M)(d8).getToken(),r=(0,u.f3M)(u8);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ds=(()=>((ds=ds||{})[ds.Interceptors=0]="Interceptors",ds[ds.LegacyInterceptors=1]="LegacyInterceptors",ds[ds.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ds[ds.NoXsrfProtection=3]="NoXsrfProtection",ds[ds.JsonpSupport=4]="JsonpSupport",ds[ds.RequestsMadeViaParent=5]="RequestsMadeViaParent",ds))();function pb(n,e){return{\u0275kind:n,\u0275providers:e}}function wde(...n){const e=[SM,l8,o8,{provide:EM,useExisting:o8},{provide:qB,useExisting:l8},{provide:YC,useValue:bde,multi:!0},{provide:QB,useValue:!0},{provide:d8,useClass:vde}];for(const t of n)e.push(...t.\u0275providers);return(0,u.MR2)(e)}const h8=new u.OlP("LEGACY_INTERCEPTOR_FN");let Cde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[wde(pb(ds.LegacyInterceptors,[{provide:h8,useFactory:dde},{provide:YC,useExisting:h8,multi:!0}]))]}),n})(),xde=(()=>{class n{constructor(t){this.http=t,this.url="http://localhost:3000/envio"}sendEmail(t){return this.http.post(this.url,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(SM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sde=["overlay"];function Ide(n,e){1&n&&u._UZ(0,"div")}function Tde(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,Ide,1,0,"div",6),u.qZA()),2&n){const t=u.oxw(2);u.Tol(t.spinner.class),u.Udp("color",t.spinner.color),u.xp6(1),u.Q6J("ngForOf",t.spinner.divArray)}}function Dde(n,e){if(1&n&&(u._UZ(0,"div",7),u.ALo(1,"safeHtml")),2&n){const t=u.oxw(2);u.Q6J("innerHTML",u.lcZ(1,1,t.template),u.oJD)}}function Ade(n,e){if(1&n&&(u.TgZ(0,"div",1,2),u.YNc(2,Tde,2,5,"div",3),u.YNc(3,Dde,2,3,"div",4),u.TgZ(4,"div",5),u.Hsn(5),u.qZA()()),2&n){const t=u.oxw();u.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),u.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),u.xp6(2),u.Q6J("ngIf",!t.template),u.xp6(1),u.Q6J("ngIf",t.template),u.xp6(1),u.Udp("z-index",t.spinner.zIndex)}}const Mde=["*"],kde={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},JB="primary";class k_{constructor(e){Object.assign(this,e)}static create(e){return!e?.template&&(null==e?.type||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new k_(e)}}let f8=(()=>{class n{constructor(){this.spinnerObservable=new da(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(ji(i=>i&&i.name===t))}show(t=JB,i){return new Promise((r,s)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=t,this.spinnerObservable.next(new k_({...i,show:!0})),r(!0)):(this.spinnerObservable.next(new k_({name:t,show:!0})),r(!0))},10)})}hide(t=JB,i=10){return new Promise((r,s)=>{setTimeout(()=>{this.spinnerObservable.next(new k_({name:t,show:!1})),r(!0)},i)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p8=new u.OlP("NGX_SPINNER_CONFIG");let Pde=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ka,16))},n.\u0275pipe=u.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),Rde=(()=>{class n{constructor(t,i,r,s){this.spinnerService=t,this.changeDetector=i,this.elementRef=r,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new k_,this.ngUnsubscribe=new Yn.x,this.setDefaultOptions=()=>{const{type:o}=this.globalConfig??{};this.spinner=k_.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??o,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=JB,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Id(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const i in t)if(i){const r=t[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&""!==r.currentValue&&(this.spinner[i]=r.currentValue,"showSpinner"===i&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===i&&this.initObservable())}}getClass(t,i){this.spinner.divCount=kde[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,o)=>o);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x"}return"la-"+t+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(f8),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(p8,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,i){if(1&t&&u.Gf(Sde,5),2&t){let r;u.iGM(r=u.CRH())&&(i.spinnerDOM=r.first)}},hostBindings:function(t,i){1&t&&u.NdJ("keydown",function(s){return i.handleKeyboardEvent(s)},!1,u.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[u.TTD],ngContentSelectors:Mde,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,i){1&t&&(u.F$t(),u.YNc(0,Ade,6,12,"div",0)),2&t&&u.Q6J("ngIf",i.spinner.show)},dependencies:[Fs,mr,Pde],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[nw("fadeIn",[xI("in",Dd({opacity:1})),Ky(":enter",[Dd({opacity:0}),iw(300)]),Ky(":leave",iw(200,Dd({opacity:0})))])]},changeDetection:0}),n})(),Ode=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:p8,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oo]}),n})(),Nde=(()=>{class n{transform(t,...i){return"Gracias por contactarte."}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"pipep",type:n,pure:!0}),n})();function Fde(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1,"Nombre es requerido"),u.qZA())}function Lde(n,e){1&n&&(u.TgZ(0,"div",21),u._uU(1,"Apellido es requerido"),u.qZA())}function Bde(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1,"La edad deber ser 18 o m\xe1s"),u.qZA())}function Vde(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1,"Edad es requerido"),u.qZA())}function Ude(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1,"No es un formato v\xe1lido"),u.qZA())}function jde(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1,"Correo es requerido"),u.qZA())}function zde(n,e){1&n&&(u.TgZ(0,"div",20),u._uU(1,"Mensaje es requerido"),u.qZA())}const Hde=[{path:"contactform",component:(()=>{class n{constructor(t,i){this.enviar=t,this.spinner=i,this.texto="estamos encantados de recibir tus comentarios",this.texto2=""}validateEdad(t){return parseInt(t.value)<18?{validateEdad:!0}:null}createForm(){this.user=new Yf({nombre:new gd("",_c.required),apellido:new gd("",_c.required),edad:new gd("",[this.validateEdad,_c.required]),correo:new gd("",[_c.required,_c.email]),mensaje:new gd("",_c.required)})}onSubmit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide()},3e3),this.enviar.sendEmail({email:this.user.value.correo,nombre:this.user.value.nombre,apellido:this.user.value.apellido,mensaje:this.user.value.mensaje}).subscribe(c=>{console.log(c)}),this.user.reset()}ngOnInit(){this.createForm()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xde),u.Y36(f8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contactform"]],decls:39,vars:16,consts:[[1,"cont"],[1,"contenedor"],[1,"formulario",3,"formGroup","ngSubmit"],[1,"pipe1"],[1,"form-group"],["for","nombre"],["formControlName","nombre","type","text","id","nombre","placeholder","Escriba su nombre",1,"form-control"],["class","error",4,"ngIf"],["for","apellido"],["formControlName","apellido","type","text","id","apellido","placeholder","Escriba su apellido",1,"form-control"],["class","error","-","",4,"ngIf"],["for","edad"],["type","number","formControlName","edad","id","edad","placeholder","Escriba su edad",1,"form-control"],["for","correo"],["formControlName","correo","name","correo","type","email","id","correo","placeholder","Escriba su email",1,"form-control"],["for","mensaje"],["formControlName","mensaje","type","text","id","mensaje","placeholder","Escriba su mensaje",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","ball-newton-cradle",3,"fullScreen"],[2,"color","white"],[1,"error"],["-","",1,"error"]],template:function(t,i){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2),u.NdJ("ngSubmit",function(){return i.onSubmit()}),u.TgZ(3,"div",3),u._uU(4),u.ALo(5,"uppercase"),u.qZA(),u.TgZ(6,"div",4)(7,"label",5),u._uU(8,"Nombre"),u.qZA(),u._UZ(9,"input",6),u.YNc(10,Fde,2,0,"div",7),u.qZA(),u.TgZ(11,"div",4)(12,"label",8),u._uU(13,"Apellido"),u.qZA(),u._UZ(14,"input",9),u.YNc(15,Lde,2,0,"div",10),u.qZA(),u.TgZ(16,"div",4)(17,"label",11),u._uU(18,"Edad"),u.qZA(),u._UZ(19,"input",12),u.YNc(20,Bde,2,0,"div",7),u.YNc(21,Vde,2,0,"div",7),u.qZA(),u.TgZ(22,"div",4)(23,"label",13),u._uU(24,"Email "),u.qZA(),u._UZ(25,"input",14),u.YNc(26,Ude,2,0,"div",7),u.YNc(27,jde,2,0,"div",7),u.qZA(),u.TgZ(28,"div",4)(29,"label",15),u._uU(30,"Mensaje"),u.qZA(),u._UZ(31,"input",16),u.YNc(32,zde,2,0,"div",7),u.qZA(),u.TgZ(33,"button",17),u._uU(34,"Enviar"),u.qZA(),u.TgZ(35,"ngx-spinner",18)(36,"p",19),u._uU(37),u.ALo(38,"pipep"),u.qZA()()()()()),2&t){let r,s,o,c,h,p,g;u.xp6(2),u.Q6J("formGroup",i.user),u.xp6(2),u.Oqu(u.lcZ(5,12,i.texto)),u.xp6(6),u.Q6J("ngIf",(null==(r=i.user.get("nombre"))||null==r.errors?null:r.errors.required)&&(null==(r=i.user.get("nombre"))?null:r.touched)),u.xp6(5),u.Q6J("ngIf",(null==(s=i.user.get("apellido"))||null==s.errors?null:s.errors.required)&&(null==(s=i.user.get("apellido"))?null:s.touched)),u.xp6(5),u.Q6J("ngIf",(null==(o=i.user.get("edad"))||null==o.errors?null:o.errors.validateEdad)&&(null==(o=i.user.get("edad"))?null:o.touched)),u.xp6(1),u.Q6J("ngIf",(null==(c=i.user.get("edad"))||null==c.errors?null:c.errors.required)&&(null==(c=i.user.get("edad"))?null:c.touched)),u.xp6(5),u.Q6J("ngIf",(null==(h=i.user.get("correo"))||null==h.errors?null:h.errors.email)&&(null==(h=i.user.get("correo"))?null:h.touched)),u.xp6(1),u.Q6J("ngIf",(null==(p=i.user.get("correo"))||null==p.errors?null:p.errors.required)&&(null==(p=i.user.get("correo"))?null:p.touched)),u.xp6(5),u.Q6J("ngIf",(null==(g=i.user.get("mensaje"))||null==g.errors?null:g.errors.required)&&(null==(g=i.user.get("mensaje"))?null:g.touched)),u.xp6(1),u.Q6J("disabled",i.user.invalid),u.xp6(2),u.Q6J("fullScreen",!0),u.xp6(2),u.Oqu(u.lcZ(38,14,i.texto2))}},dependencies:[mr,Sc,Oo,H_,Oa,ua,La,Db,Rde,ps,Nde],styles:[".contenedor[_ngcontent-%COMP%]{text-align:center;margin-top:35px}input[_ngcontent-%COMP%]{margin:auto auto 10px;width:600px}.pipe1[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:28px;color:#0e3252;font-weight:bolder;margin-bottom:20px}.error[_ngcontent-%COMP%]{font-size:14px;color:red;font-weight:700}label[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif1;font-weight:700;color:#0e3252}"]}),n})()},{path:"home",component:zZ},{path:"feedback",component:YZ},{path:"reserva",component:UX},{path:"tablareservas",component:qX},{path:"nosotros",component:jX},{path:"tourlist",component:cz},{path:"destinos",component:zX},{path:"login",component:YX},{path:"loginPhone",component:Sre},{path:"signup",component:eJ},{path:"search",component:HX},{path:"preguntas-f",component:ede},{path:"graficas",component:Jue},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let $de=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[NS.forRoot(Hde),NS]}),n})();function Wde(n,e){1&n&&(u.TgZ(0,"li",8)(1,"a",20),u._uU(2,"Grafica"),u.qZA()())}function Gde(n,e){1&n&&(u.TgZ(0,"li",8)(1,"a",21),u._uU(2,"Iniciar sesi\xf3n"),u.qZA()())}function qde(n,e){1&n&&(u.TgZ(0,"li",8)(1,"a",22),u._uU(2,"Registrarse"),u.qZA()())}function Zde(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",23)(1,"button",24),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.auth.logout())}),u._uU(2," Cerrar sesi\xf3n "),u.qZA()()}}let Kde=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.searchTerm=""}buscar(){this.router.navigate(["/search-results"],{queryParams:{q:this.searchTerm}})}isUserLogged(){return localStorage.getItem("token")?localStorage.getItem("token").valueOf():"no"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is),u.Y36(Qw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:34,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["src","assets/images/logo.png","alt","","width","80px","height","70px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/destinos",1,"nav-link",2,"color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],["routerLink","/reserva",1,"nav-link",2,"color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],["routerLink","/tablareservas",1,"nav-link",2,"color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],["routerLink","/nosotros",1,"nav-link",2,"color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],["routerLink","/contactform",1,"nav-link",2,"color","#ffffff","font-family","'Times New Roman', Times, serif"],["routerLink","/preguntas-f",1,"nav-link",2,"color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],["class","nav-item",4,"ngIf"],["class","nav-item","style","text-align: center;",4,"ngIf"],[1,"d-flex",3,"submit"],["id","buscar","type","search","placeholder","Buscar","aria-label","Buscar",1,"form-control","me-2",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-success",2,"border-color","azure"],["routerLink","/graficas",1,"nav-link",2,"color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],["routerLink","/login",1,"btn","btn-primary","btn-customized","align-items-center",2,"background-color","rgb(231, 51, 171)","color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],["routerLink","/signup",1,"btn","btn-primary","btn-customized","align-items-center",2,"background-color","rgb(125, 228, 231)","color","rgb(255, 255, 255)","font-family","'Times New Roman', Times, serif"],[1,"nav-item",2,"text-align","center"],[1,"btn","btn-primary","btn-customized","align-items-center",2,"background-color","rgb(255, 65, 65)","color","white",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"button",4),u._UZ(5,"span",5),u.qZA(),u.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),u._uU(10,"Destinos"),u.qZA()(),u.TgZ(11,"li",8)(12,"a",10),u._uU(13,"Reservar"),u.qZA()(),u.TgZ(14,"li",8)(15,"a",11),u._uU(16,"Reservaciones"),u.qZA()(),u.TgZ(17,"li",8)(18,"a",12),u._uU(19,"Acerca de Nosotros"),u.qZA()(),u.TgZ(20,"li",8)(21,"a",13),u._uU(22,"Contacto"),u.qZA()(),u.TgZ(23,"li",8)(24,"a",14),u._uU(25,"Preguntas Frecuentes "),u.qZA()(),u.YNc(26,Wde,3,0,"li",15),u.YNc(27,Gde,3,0,"li",15),u.YNc(28,qde,3,0,"li",15),u.YNc(29,Zde,3,0,"li",16),u.qZA(),u.TgZ(30,"form",17),u.NdJ("submit",function(){return i.buscar()}),u.TgZ(31,"input",18),u.NdJ("ngModelChange",function(s){return i.searchTerm=s}),u.qZA(),u.TgZ(32,"button",19),u._uU(33,"Buscar"),u.qZA()()()()()),2&t&&(u.xp6(26),u.Q6J("ngIf","true"===i.isUserLogged()),u.xp6(1),u.Q6J("ngIf","no"===i.isUserLogged()),u.xp6(1),u.Q6J("ngIf","no"===i.isUserLogged()),u.xp6(1),u.Q6J("ngIf","true"===i.isUserLogged()),u.xp6(2),u.Q6J("ngModel",i.searchTerm))},dependencies:[mr,Zh,Sc,Oo,Oa,ua,_d,Ml],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff;padding:10px 0;font-family:Arial,sans-serif}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:70px}.navbar-toggler-icon[_ngcontent-%COMP%]{background-color:#000}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-right:10px}.nav-link[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.nav-link[_ngcontent-%COMP%]:hover{color:#17a2b8;text-decoration:none}.navbar-collapse[_ngcontent-%COMP%]{justify-content:flex-end}.form-control[_ngcontent-%COMP%]{width:200px;font-size:14px}.btn-outline-success[_ngcontent-%COMP%]{color:#ff4ed3;border-color:#789eff;font-size:14px}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#ffa0f1;color:#0905ff}"]}),n})();const Yde=["*"];let IM;function QC(n){return function Qde(){if(void 0===IM&&(IM=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(IM=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return IM}()?.createHTML(n)||n}function m8(n){return Error(`Unable to find icon with the name "${n}"`)}function g8(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _8(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class P_{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let XC=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new P_(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(u.q3G.HTML,r);if(!o)throw _8(r);const c=QC(o);return this._addSvgIconConfig(t,i,new P_("",c,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new P_(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(u.q3G.HTML,i);if(!s)throw _8(i);const o=QC(s);return this._addSvgIconSetConfig(t,new P_("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!i)throw g8(t);const r=this._cachedIconsByUrl.get(i);return r?Ot(TM(r)):this._loadSvgIconFromConfig(new P_(t,null)).pipe((0,zr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Rt.U)(s=>TM(s)))}getNamedSvgIcon(t,i=""){const r=y8(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):Ph(m8(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ot(TM(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Rt.U)(i=>TM(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Ot(r):cd(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ac(c=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(p)),Ot(null)})))).pipe((0,Rt.U)(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw m8(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,t,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,zr.b)(i=>t.svgText=i),(0,Rt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ot(null):this._fetchIcon(t).pipe((0,zr.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const c=this._svgElementFromString(QC("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(QC("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:c}=r[s];"id"!==o&&i.setAttribute(o,c)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Xde(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!o)throw g8(i);const c=this._inProgressUrlFetches.get(o);if(c)return c;const h=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,Rt.U)(p=>QC(p)),ty(()=>this._inProgressUrlFetches.delete(o)),(0,R3.B)());return this._inProgressUrlFetches.set(o,h),h}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(y8(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return ehe(s)?new P_(s.url,null,s.options):new P_(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(SM,8),u.LFG(ka),u.LFG(he,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TM(n){return n.cloneNode(!0)}function y8(n,e){return n+":"+e}function ehe(n){return!(!n.url||!n.options)}const the=Q0(class{constructor(n){this._elementRef=n}}),nhe=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),ihe=new u.OlP("mat-icon-location",{providedIn:"root",factory:function rhe(){const n=(0,u.f3M)(he),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),v8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],she=v8.map(n=>`[${n}]`).join(", "),ohe=/^url\(['"]?#(.*?)['"]?\)$/;let ahe=(()=>{class n extends the{get inline(){return this._inline}set inline(t){this._inline=Vy(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,o,c){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Dc.w0.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(she),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)v8.forEach(o=>{const c=i[s],h=c.getAttribute(o),p=h?h.match(ohe):null;if(p){let g=r.get(c);g||(g=[],r.set(c,g)),g.push({name:o,value:p[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(_s(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(XC),u.$8M("aria-hidden"),u.Y36(ihe),u.Y36(u.qLn),u.Y36(nhe,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(u.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),u.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:Yde,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),lhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mo,mo]}),n})(),che=(()=>{class n{constructor(t,i){this.matIconRegistry=t,this.domSanitizer=i,this.matIconRegistry.addSvgIcon("facebook",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/images/face.svg")),this.matIconRegistry.addSvgIcon("twitter",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/images/twiter.svg")),this.matIconRegistry.addSvgIcon("google",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/images/google.svg"))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(XC),u.Y36(ka))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pie"]],decls:19,vars:0,consts:[[1,"bg-dark","text-white","py-3"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fab","fa-whatsapp","mr-2"],[1,"far","fa-envelope","mr-2"],["svgIcon","facebook",1,"face"],["svgIcon","twitter",1,"twiter"],["svgIcon","google",1,"google"]],template:function(t,i){1&t&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),u._uU(5,"Contactanos"),u.qZA()(),u.TgZ(6,"div",3)(7,"p"),u._UZ(8,"i",4),u.TgZ(9,"span"),u._uU(10,"(123) 456-7890"),u.qZA()(),u.TgZ(11,"p"),u._UZ(12,"i",5),u.TgZ(13,"span"),u._uU(14,"escapetours20@gmail.com"),u.qZA(),u._uU(15," \xa0\xa0 \xa0 \xa0 \xa0 "),u._UZ(16,"mat-icon",6)(17,"mat-icon",7)(18,"mat-icon",8),u.qZA()()()()())},dependencies:[ahe],styles:["footer[_ngcontent-%COMP%]{font-family:Comic Sans MS,cursive,sans-serif}.face[_ngcontent-%COMP%], .twiter[_ngcontent-%COMP%], .google[_ngcontent-%COMP%]{width:40px;height:40px;margin:10px}"]}),n})(),uhe=(()=>{class n{toggleAccessibilityMenu(){this.accessibilityMenuVisible=!this.accessibilityMenuVisible}constructor(t,i){this.renderer=t,this.document=i,this.screenReaderEnabled=!1,this.fontSize=16,this.nightModeEnabled=!1,this.hideImagesEnabled=!1,this.isNavbarHighlighted=!1,this.accessibilityMenuVisible=!1,this.speechSynthesis=window.speechSynthesis}toggleScreenReader(){this.screenReaderEnabled=!this.screenReaderEnabled,this.screenReaderEnabled?this.readText("Bienvenido te presentamos las distintas opciones que tenemos disponibles para ti para ello te tenemos un menu en el que puede consultar y ver nuestro contenido ademas de distintas opciones que tenemos para ti, date un escape y agrega mas aventuras a tu vida"):this.stopReading()}readText(t){if(!this.speechSynthesis.speaking){const i=new SpeechSynthesisUtterance(t);this.speechSynthesis.speak(i)}}stopReading(){this.speechSynthesis.cancel()}increaseFontSize(){this.fontSize+=2,this.updateFontSize()}decreaseFontSize(){this.fontSize-=2,this.updateFontSize()}updateFontSize(){document.documentElement.style.fontSize=this.fontSize+"px"}toggleHideImages(){this.hideImagesEnabled=!this.hideImagesEnabled,this.updateHideImages()}updateHideImages(){document.querySelectorAll("img").forEach(i=>{i.style.visibility=this.hideImagesEnabled?"hidden":"visible"})}toggleNavbarHighlight(){this.isNavbarHighlighted=!this.isNavbarHighlighted}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(he))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:17,vars:7,consts:[[1,"accessibility-bar"],["aria-label","Toggle accessibility menu",1,"accessibility-toggle",3,"click"],[1,"fas","fa-universal-access"],[1,"accessibility-menu"],["aria-label","Toggle screen reader",3,"click"],[1,"fas","fa-assistive-listening-systems"],["aria-label","Increase font size",3,"click"],[1,"fas","fa-plus"],["aria-label","Decrease font size",3,"click"],[1,"fas","fa-minus"],["aria-label","Toggle hide images",3,"click"],[1,"fas","fa-eye-slash"],[3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(){return i.toggleAccessibilityMenu()}),u._UZ(2,"i",2),u.qZA(),u.TgZ(3,"div",3)(4,"button",4),u.NdJ("click",function(){return i.toggleScreenReader()}),u._UZ(5,"i",5),u.qZA(),u.TgZ(6,"button",6),u.NdJ("click",function(){return i.increaseFontSize()}),u._UZ(7,"i",7),u.qZA(),u.TgZ(8,"button",8),u.NdJ("click",function(){return i.decreaseFontSize()}),u._UZ(9,"i",9),u.qZA(),u.TgZ(10,"button",10),u.NdJ("click",function(){return i.toggleHideImages()}),u._UZ(11,"i",11),u.qZA(),u.TgZ(12,"button",12),u.NdJ("click",function(){return i.toggleNavbarHighlight()}),u._uU(13),u.qZA()()(),u._UZ(14,"app-navbar")(15,"router-outlet")(16,"app-pie")),2&t&&(u.xp6(3),u.ekj("show",i.accessibilityMenuVisible),u.xp6(1),u.uIk("aria-pressed",i.screenReaderEnabled?"true":"false"),u.xp6(6),u.uIk("aria-pressed",i.hideImagesEnabled?"true":"false"),u.xp6(3),u.hij(" ",i.isNavbarHighlighted?"Desactivar Resaltado":"Activar Resaltado"," "),u.xp6(1),u.ekj("highlighted",i.isNavbarHighlighted))},dependencies:[o0,Kde,che],styles:[".accessibility-bar[_ngcontent-%COMP%]{position:fixed;z-index:9999;bottom:20px;right:20px}.accessibility-toggle[_ngcontent-%COMP%]{background-color:red;color:#fff;border:none;border-radius:50%;width:50px;height:50px;font-size:24px;display:flex;justify-content:center;align-items:center;cursor:pointer}.accessibility-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.accessibility-menu[_ngcontent-%COMP%]{display:none;position:absolute;bottom:calc(100% + 5px);right:0;padding:10px;background-color:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a}.accessibility-menu.show[_ngcontent-%COMP%]{display:block}.accessibility-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin-bottom:10px;padding:5px;background-color:transparent;border:none;cursor:pointer}.accessibility-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.accessibility-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}app-navbar.highlighted[_ngcontent-%COMP%]{background-color:#ff0;font-weight:700}"]}),n})();function b8(n){return new u.vHH(3e3,!1)}function Whe(){return typeof window<"u"&&typeof window.document<"u"}function eV(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xm(n){switch(n.length){case 0:return new wg;case 1:return n[0];default:return new SI(n)}}function w8(n,e,t,i,r=new Map,s=new Map){const o=[],c=[];let h=-1,p=null;if(i.forEach(g=>{const b=g.get("offset"),C=b==h,k=C&&p||new Map;g.forEach((R,L)=>{let V=L,X=R;if("offset"!==L)switch(V=e.normalizePropertyName(V,o),X){case ow:X=r.get(L);break;case kc:X=s.get(L);break;default:X=e.normalizeStyleValue(L,V,X,o)}k.set(V,X)}),C||c.push(k),p=k,h=b}),o.length)throw function Rhe(n){return new u.vHH(3502,!1)}();return c}function tV(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&nV(t,"start",n)));break;case"done":n.onDone(()=>i(t&&nV(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&nV(t,"destroy",n)))}}function nV(n,e,t){const s=iV(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function iV(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function $l(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function E8(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let rV=(n,e)=>!1,C8=(n,e,t)=>[],x8=null;function sV(n){const e=n.parentNode||n.host;return e===x8?null:e}(eV()||typeof Element<"u")&&(Whe()?(x8=(()=>document.documentElement)(),rV=(n,e)=>{for(;e;){if(e===n)return!0;e=sV(e)}return!1}):rV=(n,e)=>n.contains(e),C8=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let R_=null,S8=!1;const I8=rV,T8=C8;let D8=(()=>{class n{validateStyleProperty(t){return function qhe(n){R_||(R_=function Zhe(){return typeof document<"u"?document.body:null}()||{},S8=!!R_.style&&"WebkitAppearance"in R_.style);let e=!0;return R_.style&&!function Ghe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in R_.style,!e&&S8&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in R_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return I8(t,i)}getParentElement(t){return sV(t)}query(t,i,r){return T8(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,c=[],h){return new wg(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),oV=(()=>{class n{}return n.NOOP=new D8,n})();const Khe=1e3,aV="ng-enter",DM="ng-leave",AM="ng-trigger",MM=".ng-trigger",M8="ng-animating",lV=".ng-animating";function Af(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cV(parseFloat(e[1]),e[2])}function cV(n,e){return"s"===e?n*Khe:n}function kM(n,e,t){return n.hasOwnProperty("duration")?n:function Qhe(n,e,t){let r,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(b8()),{duration:0,delay:0,easing:""};r=cV(parseFloat(c[1]),c[2]);const h=c[3];null!=h&&(s=cV(parseFloat(h),c[4]));const p=c[5];p&&(o=p)}else r=n;if(!t){let c=!1,h=e.length;r<0&&(e.push(function dhe(){return new u.vHH(3100,!1)}()),c=!0),s<0&&(e.push(function hhe(){return new u.vHH(3101,!1)}()),c=!0),c&&e.splice(h,0,b8())}return{duration:r,delay:s,easing:o}}(n,e,t)}function JC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function k8(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Sm(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function R8(n,e,t){return t?e+":"+t+";":""}function O8(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=R8(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=R8(0,tfe(t),n.style[t]));n.setAttribute("style",e)}function Zd(n,e,t){n.style&&(e.forEach((i,r)=>{const s=dV(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),eV()&&O8(n))}function O_(n,e){n.style&&(e.forEach((t,i)=>{const r=dV(i);n.style[r]=""}),eV()&&O8(n))}function ex(n){return Array.isArray(n)?1==n.length?n[0]:rw(n):n}const uV=new RegExp("{{\\s*(.+?)\\s*}}","g");function N8(n){let e=[];if("string"==typeof n){let t;for(;t=uV.exec(n);)e.push(t[1]);uV.lastIndex=0}return e}function tx(n,e,t){const i=n.toString(),r=i.replace(uV,(s,o)=>{let c=e[o];return null==c&&(t.push(function phe(n){return new u.vHH(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function PM(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const efe=/-+([a-z0-9])/g;function dV(n){return n.replace(efe,(...e)=>e[1].toUpperCase())}function tfe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function mhe(n){return new u.vHH(3004,!1)}()}}function F8(n,e){return window.getComputedStyle(n)[e]}const NM="*";function afe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function lfe(n,e,t){if(":"==n[0]){const h=function cfe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ahe(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof h)return void e.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Dhe(n){return new u.vHH(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(L8(r,o));"<"==s[0]&&!(r==NM&&o==NM)&&e.push(L8(o,r))}(i,t,e)):t.push(n),t}const FM=new Set(["true","1"]),LM=new Set(["false","0"]);function L8(n,e){const t=FM.has(n)||LM.has(n),i=FM.has(e)||LM.has(e);return(r,s)=>{let o=n==NM||n==r,c=e==NM||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?FM.has(n):LM.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?FM.has(e):LM.has(e)),o&&c}}const ufe=new RegExp("s*:selfs*,?","g");function hV(n,e,t,i){return new dfe(n).build(e,t,i)}class dfe{constructor(e){this._driver=e}build(e,t,i){const r=new pfe(t);return this._resetContextStyleTimingState(r),Wl(this,ex(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function _he(){return new u.vHH(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const h=c,p=h.name;p.toString().split(/\s*,\s*/).forEach(g=>{h.name=g,s.push(this.visitState(h,t))}),h.name=p}else if(1==c.type){const h=this.visitTransition(c,t);i+=h.queryCount,r+=h.depCount,o.push(h)}else t.errors.push(function yhe(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(h=>{N8(h).forEach(p=>{o.hasOwnProperty(p)||s.add(p)})})}),s.size&&(PM(s.values()),t.errors.push(function vhe(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wl(this,ex(e.animation),t);return{type:1,matchers:afe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:N_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Wl(this,i,t)),options:N_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const c=Wl(this,o,t);return r=Math.max(r,t.currentTime),c});return t.currentTime=r,{type:3,steps:s,options:N_(e.options)}}visitAnimate(e,t){const i=function gfe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fV(kM(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=fV(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=kM(t,e);return fV(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Dd({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,c=!1;if(!o){c=!0;const p={};i.easing&&(p.easing=i.easing),o=Dd(p)}t.currentTime+=i.duration+i.delay;const h=this.visitStyle(o,t);h.isEmptyStep=c,r=h}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of r)"string"==typeof c?c===kc?i.push(c):t.errors.push(new u.vHH(3002,!1)):i.push(k8(c));let s=!1,o=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let h of c.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{const p=t.collectedStyles.get(t.currentQuerySelector),g=p.get(h);let b=!0;g&&(s!=r&&s>=g.startTime&&r<=g.endTime&&(t.errors.push(function whe(n,e,t,i,r){return new u.vHH(3010,!1)}()),b=!1),s=g.startTime),b&&p.set(h,{startTime:s,endTime:r}),t.options&&function Jhe(n,e,t){const i=e.params||{},r=N8(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function fhe(n){return new u.vHH(3001,!1)}())})}(c,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ehe(){return new u.vHH(3011,!1)}()),i;let s=0;const o=[];let c=!1,h=!1,p=0;const g=e.steps.map(X=>{const ie=this._makeStyleAst(X,t);let pe=null!=ie.offset?ie.offset:function mfe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ie.styles),ve=0;return null!=pe&&(s++,ve=ie.offset=pe),h=h||ve<0||ve>1,c=c||ve<p,p=ve,o.push(ve),ie});h&&t.errors.push(function Che(){return new u.vHH(3012,!1)}()),c&&t.errors.push(function xhe(){return new u.vHH(3200,!1)}());const b=e.steps.length;let C=0;s>0&&s<b?t.errors.push(function She(){return new u.vHH(3202,!1)}()):0==s&&(C=1/(b-1));const k=b-1,R=t.currentTime,L=t.currentAnimateTimings,V=L.duration;return g.forEach((X,ie)=>{const pe=C>0?ie==k?1:C*ie:o[ie],ve=pe*V;t.currentTime=R+L.delay+ve,L.duration=ve,this._validateStyleAst(X,t),X.offset=pe,i.styles.push(X)}),i}visitReference(e,t){return{type:8,animation:Wl(this,ex(e.animation),t),options:N_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:N_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:N_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function hfe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ufe,"")),n=n.replace(/@\*/g,MM).replace(/@\w+/g,t=>MM+"-"+t.slice(1)).replace(/:animating/g,lV),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,$l(t.collectedStyles,t.currentQuerySelector,new Map);const c=Wl(this,ex(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:c,originalSelector:e.selector,options:N_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ihe(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:kM(e.timings,t.errors,!0);return{type:12,animation:Wl(this,ex(e.animation),t),timings:i,options:null}}}class pfe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function N_(n){return n?(n=JC(n)).params&&(n.params=function ffe(n){return n?JC(n):null}(n.params)):n={},n}function fV(n,e,t){return{duration:n,delay:e,easing:t}}function pV(n,e,t,i,r,s,o=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:c}}class BM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vfe=new RegExp(":enter","g"),wfe=new RegExp(":leave","g");function mV(n,e,t,i,r,s=new Map,o=new Map,c,h,p=[]){return(new Efe).buildKeyframes(n,e,t,i,r,s,o,c,h,p)}class Efe{buildKeyframes(e,t,i,r,s,o,c,h,p,g=[]){p=p||new BM;const b=new gV(e,t,p,r,s,g,[]);b.options=h;const C=h.delay?Af(h.delay):0;b.currentTimeline.delayNextStep(C),b.currentTimeline.setStyles([o],null,b.errors,h),Wl(this,i,b);const k=b.timelines.filter(R=>R.containsAnimation());if(k.length&&c.size){let R;for(let L=k.length-1;L>=0;L--){const V=k[L];if(V.element===t){R=V;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([c],null,b.errors,h)}return k.length?k.map(R=>R.buildKeyframes()):[pV(t,[],[],[],0,C,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:Af(tx(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Af(i.duration):null,c=null!=i.delay?Af(i.delay):null;return 0!==o&&e.forEach(h=>{const p=t.appendInstructionToTimeline(h,o,c);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Wl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=VM);const o=Af(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Wl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Af(e.options.delay):0;e.steps.forEach(o=>{const c=t.createSubContext(e.options);s&&c.delayNextStep(s),Wl(this,o,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return kM(t.params?tx(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,c=t.createSubContext().currentTimeline;c.easing=i.easing,e.styles.forEach(h=>{c.forwardTime((h.offset||0)*s),c.setStyles(h.styles,h.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Af(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=VM);let o=i;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=c.length;let h=null;c.forEach((p,g)=>{t.currentQueryIndex=g;const b=t.createSubContext(e.options,p);s&&b.delayNextStep(s),p===t.element&&(h=b.currentTimeline),Wl(this,e.animation,b),b.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,b.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),c=o*(t.currentQueryTotal-1);let h=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=c-h;break;case"full":h=i.currentStaggerTime}const g=t.currentTimeline;h&&g.delayNextStep(h);const b=g.currentTime;Wl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-b+(r.startTime-i.currentTimeline.startTime)}}const VM={};class gV{constructor(e,t,i,r,s,o,c,h){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new UM(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Af(i.duration)),null!=i.delay&&(r.delay=Af(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!o.hasOwnProperty(c))&&(o[c]=tx(s[c],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new gV(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=VM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Cfe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let c=[];if(r&&c.push(this.element),e.length>0){e=(e=e.replace(vfe,"."+this._enterClassName)).replace(wfe,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),c.push(...p)}return!s&&0==c.length&&o.push(function The(n){return new u.vHH(3014,!1)}()),c}}class UM{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new UM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||kc),this._currentKeyframe.set(t,kc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function xfe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,kc)}else Sm(r,t)}),t}(e,this._globalTimelineStyles);for(let[c,h]of o){const p=tx(h,s,i);this._pendingStyles.set(c,p),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??kc),this._updateStyle(c,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,h)=>{const p=Sm(c,new Map,this._backFill);p.forEach((g,b)=>{g===ow?e.add(b):g===kc&&t.add(b)}),i||p.set("offset",h/this.duration),r.push(p)});const s=e.size?PM(e.values()):[],o=t.size?PM(t.values()):[];if(i){const c=r[0],h=new Map(c);c.set("offset",0),h.set("offset",1),r=[c,h]}return pV(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Cfe extends UM{constructor(e,t,i,r,s,o,c=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,c=t/o,h=Sm(e[0]);h.set("offset",0),s.push(h);const p=Sm(e[0]);p.set("offset",U8(c)),s.push(p);const g=e.length-1;for(let b=1;b<=g;b++){let C=Sm(e[b]);const k=C.get("offset");C.set("offset",U8((t+k*i)/o)),s.push(C)}i=o,t=0,r="",e=s}return pV(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function U8(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class _V{}const Sfe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ife extends _V{normalizePropertyName(e,t){return dV(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Sfe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function ghe(n,e){return new u.vHH(3005,!1)}())}return o+s}}function j8(n,e,t,i,r,s,o,c,h,p,g,b,C){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:c,queriedElements:h,preStyleProps:p,postStyleProps:g,totalTime:b,errors:C}}const yV={};class z8{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Tfe(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,c,h,p,g){const b=[],C=this.ast.options&&this.ast.options.params||yV,R=this.buildStyles(i,c&&c.params||yV,b),L=h&&h.params||yV,V=this.buildStyles(r,L,b),X=new Set,ie=new Map,pe=new Map,ve="void"===r,Ee={params:Dfe(L,C),delay:this.ast.options?.delay},De=g?[]:mV(e,t,this.ast.animation,s,o,R,V,Ee,p,b);let nt=0;if(De.forEach(kt=>{nt=Math.max(kt.duration+kt.delay,nt)}),b.length)return j8(t,this._triggerName,i,r,ve,R,V,[],[],ie,pe,nt,b);De.forEach(kt=>{const hn=kt.element,In=$l(ie,hn,new Set);kt.preStyleProps.forEach(hr=>In.add(hr));const Rn=$l(pe,hn,new Set);kt.postStyleProps.forEach(hr=>Rn.add(hr)),hn!==t&&X.add(hn)});const Je=PM(X.values());return j8(t,this._triggerName,i,r,ve,R,V,De,Je,ie,pe,nt)}}function Dfe(n,e){const t=JC(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Afe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=JC(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=tx(o,r,t));const h=this.normalizer.normalizePropertyName(c,t);o=this.normalizer.normalizeStyleValue(c,h,o,t),i.set(c,o)})}),i}}class kfe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Afe(r.style,r.options&&r.options.params||{},i))}),H8(this.states,"true","1"),H8(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new z8(e,r,this.states))}),this.fallbackTransition=function Pfe(n,e,t){return new z8(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function H8(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Rfe=new BM;class Ofe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=hV(this._driver,t,i,r);if(i.length)throw function Ohe(n){return new u.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=w8(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const c=new Map;if(s?(o=mV(this._driver,t,s,aV,DM,new Map,new Map,i,Rfe,r),o.forEach(g=>{const b=$l(c,g.element,new Map);g.postStyleProps.forEach(C=>b.set(C,null))})):(r.push(function Nhe(){return new u.vHH(3300,!1)}()),o=[]),r.length)throw function Fhe(n){return new u.vHH(3504,!1)}();c.forEach((g,b)=>{g.forEach((C,k)=>{g.set(k,this._driver.computeStyle(b,k,kc))})});const p=xm(o.map(g=>{const b=c.get(g.element);return this._buildPlayer(g,new Map,b)}));return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Lhe(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=iV(t,"","","");return tV(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const $8="ng-animate-queued",vV="ng-animate-disabled",Vfe=[],W8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ufe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zc="__ng_removed";class bV{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function $fe(n){return n??null}(i?e.value:e),i){const s=JC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const nx="void",wV=new bV(nx);class jfe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Hc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Bhe(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function Vhe(n){return new u.vHH(3303,!1)}();if(!function Wfe(n){return"start"==n||"done"==n}(i))throw function Uhe(n,e){return new u.vHH(3400,!1)}();const s=$l(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const c=$l(this._engine.statesByElement,e,new Map);return c.has(t)||(Hc(e,AM),Hc(e,AM+"-"+t),c.set(t,wV)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(o);h>=0&&s.splice(h,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function jhe(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new EV(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(Hc(e,AM),Hc(e,AM+"-"+t),this._engine.statesByElement.set(e,c=new Map));let h=c.get(t);const p=new bV(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),c.set(t,p),h||(h=wV),p.value!==nx&&h.value===p.value){if(!function Zfe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(h.params,p.params)){const L=[],V=s.matchStyles(h.value,h.params,L),X=s.matchStyles(p.value,p.params,L);L.length?this._engine.reportError(L):this._engine.afterFlush(()=>{O_(e,V),Zd(e,X)})}return}const C=$l(this._engine.playersByElement,e,[]);C.forEach(L=>{L.namespaceId==this.id&&L.triggerName==t&&L.queued&&L.destroy()});let k=s.matchTransition(h.value,p.value,e,p.params),R=!1;if(!k){if(!r)return;k=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:h,toState:p,player:o,isFallbackTransition:R}),R||(Hc(e,$8),o.onStart(()=>{mb(e,$8)})),o.onDone(()=>{let L=this.players.indexOf(o);L>=0&&this.players.splice(L,1);const V=this._engine.playersByElement.get(e);if(V){let X=V.indexOf(o);X>=0&&V.splice(X,1)}}),this.players.push(o),C.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,MM,!0);i.forEach(r=>{if(r[zc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const c=[];if(s.forEach((h,p)=>{if(o.set(p,h.value),this._triggers.has(p)){const g=this.trigger(e,p,nx,r);g&&c.push(g)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&xm(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const h=this._triggers.get(o).fallbackTransition,p=i.get(o)||wV,g=new bV(nx),b=new EV(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:h,fromState:p,toState:g,player:b,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[zc];(!s||s===W8)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Hc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==i.triggerName){const h=iV(s,i.triggerName,i.fromState.value,i.toState.value);h._data=e,tV(i.player,c.phase,h,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class zfe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new jfe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,c=this.driver.getParentElement(t);for(;c;){const h=r.get(c);if(h){const p=i.indexOf(h);i.splice(p+1,0,e),o=!0;break}c=this.driver.getParentElement(c)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(jM(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!jM(t))return;const s=t[zc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Hc(e,vV)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),mb(e,vV))}removeNode(e,t,i,r){if(jM(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[zc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return jM(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,MM,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lV,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[zc];if(t&&t.setForRemoval){if(e[zc]=W8,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vV)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Hc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?xm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function zhe(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new BM,r=[],s=new Map,o=[],c=new Map,h=new Map,p=new Map,g=new Set;this.disabledNodes.forEach(ft=>{g.add(ft);const At=this.driver.query(ft,".ng-animate-queued",!0);for(let qt=0;qt<At.length;qt++)g.add(At[qt])});const b=this.bodyNode,C=Array.from(this.statesByElement.keys()),k=Z8(C,this.collectedEnterElements),R=new Map;let L=0;k.forEach((ft,At)=>{const qt=aV+L++;R.set(At,qt),ft.forEach(fn=>Hc(fn,qt))});const V=[],X=new Set,ie=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const At=this.collectedLeaveElements[ft],qt=At[zc];qt&&qt.setForRemoval&&(V.push(At),X.add(At),qt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(fn=>X.add(fn)):ie.add(At))}const pe=new Map,ve=Z8(C,Array.from(X));ve.forEach((ft,At)=>{const qt=DM+L++;pe.set(At,qt),ft.forEach(fn=>Hc(fn,qt))}),e.push(()=>{k.forEach((ft,At)=>{const qt=R.get(At);ft.forEach(fn=>mb(fn,qt))}),ve.forEach((ft,At)=>{const qt=pe.get(At);ft.forEach(fn=>mb(fn,qt))}),V.forEach(ft=>{this.processLeaveNode(ft)})});const Ee=[],De=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(t).forEach(qt=>{const fn=qt.player,fr=qt.element;if(Ee.push(fn),this.collectedEnterElements.length){const Xo=fr[zc];if(Xo&&Xo.setForMove){if(Xo.previousTriggersValues&&Xo.previousTriggersValues.has(qt.triggerName)){const B_=Xo.previousTriggersValues.get(qt.triggerName),$c=this.statesByElement.get(qt.element);if($c&&$c.has(qt.triggerName)){const WM=$c.get(qt.triggerName);WM.value=B_,$c.set(qt.triggerName,WM)}}return void fn.destroy()}}const _a=!b||!this.driver.containsElement(b,fr),Es=pe.get(fr),Qa=R.get(fr),Mi=this._buildInstruction(qt,i,Qa,Es,_a);if(Mi.errors&&Mi.errors.length)return void De.push(Mi);if(_a)return fn.onStart(()=>O_(fr,Mi.fromStyles)),fn.onDestroy(()=>Zd(fr,Mi.toStyles)),void r.push(fn);if(qt.isFallbackTransition)return fn.onStart(()=>O_(fr,Mi.fromStyles)),fn.onDestroy(()=>Zd(fr,Mi.toStyles)),void r.push(fn);const Tm=[];Mi.timelines.forEach(Xo=>{Xo.stretchStartingKeyframe=!0,this.disabledNodes.has(Xo.element)||Tm.push(Xo)}),Mi.timelines=Tm,i.append(fr,Mi.timelines),o.push({instruction:Mi,player:fn,element:fr}),Mi.queriedElements.forEach(Xo=>$l(c,Xo,[]).push(fn)),Mi.preStyleProps.forEach((Xo,B_)=>{if(Xo.size){let $c=h.get(B_);$c||h.set(B_,$c=new Set),Xo.forEach((WM,IV)=>$c.add(IV))}}),Mi.postStyleProps.forEach((Xo,B_)=>{let $c=p.get(B_);$c||p.set(B_,$c=new Set),Xo.forEach((WM,IV)=>$c.add(IV))})});if(De.length){const ft=[];De.forEach(At=>{ft.push(function Hhe(n,e){return new u.vHH(3505,!1)}())}),Ee.forEach(At=>At.destroy()),this.reportError(ft)}const nt=new Map,Je=new Map;o.forEach(ft=>{const At=ft.element;i.has(At)&&(Je.set(At,At),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,nt))}),r.forEach(ft=>{const At=ft.element;this._getPreviousPlayers(At,!1,ft.namespaceId,ft.triggerName,null).forEach(fn=>{$l(nt,At,[]).push(fn),fn.destroy()})});const kt=V.filter(ft=>Y8(ft,h,p)),hn=new Map;q8(hn,this.driver,ie,p,kc).forEach(ft=>{Y8(ft,h,p)&&kt.push(ft)});const Rn=new Map;k.forEach((ft,At)=>{q8(Rn,this.driver,new Set(ft),h,ow)}),kt.forEach(ft=>{const At=hn.get(ft),qt=Rn.get(ft);hn.set(ft,new Map([...Array.from(At?.entries()??[]),...Array.from(qt?.entries()??[])]))});const hr=[],Qo=[],fi={};o.forEach(ft=>{const{element:At,player:qt,instruction:fn}=ft;if(i.has(At)){if(g.has(At))return qt.onDestroy(()=>Zd(At,fn.toStyles)),qt.disabled=!0,qt.overrideTotalTime(fn.totalTime),void r.push(qt);let fr=fi;if(Je.size>1){let Es=At;const Qa=[];for(;Es=Es.parentNode;){const Mi=Je.get(Es);if(Mi){fr=Mi;break}Qa.push(Es)}Qa.forEach(Mi=>Je.set(Mi,fr))}const _a=this._buildAnimation(qt.namespaceId,fn,nt,s,Rn,hn);if(qt.setRealPlayer(_a),fr===fi)hr.push(qt);else{const Es=this.playersByElement.get(fr);Es&&Es.length&&(qt.parentPlayer=xm(Es)),r.push(qt)}}else O_(At,fn.fromStyles),qt.onDestroy(()=>Zd(At,fn.toStyles)),Qo.push(qt),g.has(At)&&r.push(qt)}),Qo.forEach(ft=>{const At=s.get(ft.element);if(At&&At.length){const qt=xm(At);ft.setRealPlayer(qt)}}),r.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<V.length;ft++){const At=V[ft],qt=At[zc];if(mb(At,DM),qt&&qt.hasAnimation)continue;let fn=[];if(c.size){let _a=c.get(At);_a&&_a.length&&fn.push(..._a);let Es=this.driver.query(At,lV,!0);for(let Qa=0;Qa<Es.length;Qa++){let Mi=c.get(Es[Qa]);Mi&&Mi.length&&fn.push(...Mi)}}const fr=fn.filter(_a=>!_a.destroyed);fr.length?Gfe(this,At,fr):this.processLeaveNode(At)}return V.length=0,hr.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const At=this.players.indexOf(ft);this.players.splice(At,1)}),ft.play()}),hr}elementContainsData(e,t){let i=!1;const r=t[zc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(o=c)}else{const c=this.playersByElement.get(e);if(c){const h=!s||s==nx;c.forEach(p=>{p.queued||!h&&p.triggerName!=r||o.push(p)})}}return(i||r)&&(o=o.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const p=h.element,g=p!==s,b=$l(i,p,[]);this._getPreviousPlayers(p,g,o,c,t.toState).forEach(k=>{const R=k.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),k.destroy(),b.push(k)})}O_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const c=t.triggerName,h=t.element,p=[],g=new Set,b=new Set,C=t.timelines.map(R=>{const L=R.element;g.add(L);const V=L[zc];if(V&&V.removedBeforeQueried)return new wg(R.duration,R.delay);const X=L!==h,ie=function qfe(n){const e=[];return K8(n,e),e}((i.get(L)||Vfe).map(nt=>nt.getRealPlayer())).filter(nt=>!!nt.element&&nt.element===L),pe=s.get(L),ve=o.get(L),Ee=w8(0,this._normalizer,0,R.keyframes,pe,ve),De=this._buildPlayer(R,Ee,ie);if(R.subTimeline&&r&&b.add(L),X){const nt=new EV(e,c,L);nt.setRealPlayer(De),p.push(nt)}return De});p.forEach(R=>{$l(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function Hfe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,R.element,R))}),g.forEach(R=>Hc(R,M8));const k=xm(C);return k.onDestroy(()=>{g.forEach(R=>mb(R,M8)),Zd(h,t.toStyles)}),b.forEach(R=>{$l(r,R,[]).push(k)}),k}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new wg(e.duration,e.delay)}}class EV{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new wg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>tV(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$l(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jM(n){return n&&1===n.nodeType}function G8(n,e){const t=n.style.display;return n.style.display=e??"none",t}function q8(n,e,t,i,r){const s=[];t.forEach(h=>s.push(G8(h)));const o=[];i.forEach((h,p)=>{const g=new Map;h.forEach(b=>{const C=e.computeStyle(p,b,r);g.set(b,C),(!C||0==C.length)&&(p[zc]=Ufe,o.push(p))}),n.set(p,g)});let c=0;return t.forEach(h=>G8(h,s[c++])),o}function Z8(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(c){if(!c)return i;let h=s.get(c);if(h)return h;const p=c.parentNode;return h=t.has(p)?p:r.has(p)?i:o(p),s.set(c,h),h}return e.forEach(c=>{const h=o(c);h!==i&&t.get(h).push(c)}),t}function Hc(n,e){n.classList?.add(e)}function mb(n,e){n.classList?.remove(e)}function Gfe(n,e,t){xm(t).onDone(()=>n.processLeaveNode(e))}function K8(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof SI?K8(i.players,e):e.push(i)}}function Y8(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class zM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new zfe(e,t,i),this._timelineEngine=new Ofe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let c=this._triggerCache[o];if(!c){const h=[],p=[],g=hV(this._driver,s,h,p);if(h.length)throw function Phe(n,e){return new u.vHH(3404,!1)}();c=function Mfe(n,e,t){return new kfe(n,e,t)}(r,g,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(t,r,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=E8(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,c]=E8(i);return this._timelineEngine.listen(o,t,c,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Yfe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zd(this._element,this._initialStyles),this._endStyles&&(Zd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(O_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(O_(this._element,this._endStyles),this._endStyles=null),Zd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function CV(n){let e=null;return n.forEach((t,i)=>{(function Qfe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Q8{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:F8(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Xfe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return I8(e,t)}getParentElement(e){return sV(e)}query(e,t,i){return T8(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const p=new Map,g=o.filter(k=>k instanceof Q8);(function nfe(n,e){return 0===n||0===e})(i,r)&&g.forEach(k=>{k.currentSnapshot.forEach((R,L)=>p.set(L,R))});let b=function Xhe(n){return n.length?n[0]instanceof Map?n:n.map(e=>k8(e)):[]}(t).map(k=>Sm(k));b=function ife(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(c=>o.set(c,F8(n,c)))}}return e}(e,b,p);const C=function Kfe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=CV(e[0]),e.length>1&&(i=CV(e[e.length-1]))):e instanceof Map&&(t=CV(e)),t||i?new Yfe(n,t,i):null}(e,b);return new Q8(e,b,h,C)}}let Jfe=(()=>{class n extends tw{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?rw(t):t;return X8(this._renderer,null,i,"register",[r]),new epe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(he))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class epe extends Zy{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tpe(this._id,e,t||{},this._renderer)}}class tpe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return X8(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function X8(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const J8="@.disabled";let npe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let g=this._rendererCache.get(s);return g||(g=new eZ("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,g)),g}const o=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const h=g=>{Array.isArray(g)?g.forEach(h):this.engine.registerTrigger(o,c,t,g.name,g)};return i.data.animation.forEach(h),new ipe(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(zM),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class eZ{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==J8?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ipe extends eZ{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==J8?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function rpe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function spe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(e,t,i)}}let ope=(()=>{class n extends zM{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(oV),u.LFG(_V),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const tZ=[{provide:tw,useClass:Jfe},{provide:_V,useFactory:function ape(){return new Ife}},{provide:zM,useClass:ope},{provide:u.FYo,useFactory:function lpe(n,e,t){return new npe(n,e,t)},deps:[Jr,zM,u.R0b]}],xV=[{provide:oV,useFactory:()=>new Xfe},{provide:u.QbO,useValue:"BrowserAnimations"},...tZ],nZ=[{provide:oV,useClass:D8},{provide:u.QbO,useValue:"NoopAnimations"},...tZ];let cpe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nZ:xV}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:xV,imports:[yl]}),n})(),Mpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mo,oo,mo]}),n})(),Rpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ef,mo,ef,mo]}),n})();const Im=new Ni.y(By.Z),Npe={connector:()=>new Yn.x};function rZ(n,e=Npe){const{connector:t}=e;return(0,Ui.e)((i,r)=>{const s=t();(0,uo.Xf)(n(function Ope(n){return new Ni.y(e=>n.subscribe(e))}(s))).subscribe(r),r.add(i.subscribe(s))})}function sZ(n,e){return e?t=>Ba(e.pipe(_s(1),function Bpe(){return(0,Ui.e)((n,e)=>{n.subscribe((0,zn.x)(e,By.Z))})}()),t.pipe(sZ(n))):(0,As.z)((t,i)=>(0,uo.Xf)(n(t,i)).pipe(_s(1),lp(t)))}const ix="Service workers are disabled or not supported by this browser";class $M{constructor(e){if(this.serviceWorker=e,e){const i=Ad(e,"controllerchange").pipe((0,Rt.U)(()=>e.controller)),s=Ba(Q_(()=>Ot(e.controller)),i);this.worker=s.pipe(ji(g=>!!g)),this.registration=this.worker.pipe(vr(()=>e.getRegistration()));const p=Ad(e,"message").pipe((0,Rt.U)(g=>g.data)).pipe(ji(g=>g&&g.type)).pipe(function Lpe(n){return n?e=>rZ(n)(e):e=>function Fpe(n,e){const t=(0,fo.m)(n)?n:()=>n;return(0,fo.m)(e)?rZ(e,{connector:t}):i=>new Gm(i,t)}(new Yn.x)(e)}());p.connect(),this.events=p}else this.worker=this.events=this.registration=function Upe(n){return Q_(()=>Ph(new Error(n)))}(ix)}postMessage(e,t){return this.worker.pipe(_s(1),(0,zr.b)(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(e,t);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(ji(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(_s(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ji(t=>t.nonce===e),_s(1),(0,Rt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let jpe=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Yn.x,!t.isEnabled)return this.messages=Im,this.notificationClicks=Im,void(this.subscription=Im);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Rt.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Rt.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,Rt.U)(r=>r.pushManager));const i=this.pushManager.pipe(vr(r=>r.getSubscription()));this.subscription=(0,Op.T)(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ix));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(vr(o=>o.subscribe(i)),_s(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(_s(1),vr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ix))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($M))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),zpe=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Im,this.available=Im,this.activated=Im,void(this.unrecoverable=Im);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(ji(i=>"VERSION_READY"===i.type),(0,Rt.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ix));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ix));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($M))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class SV{}const oZ=new u.OlP("NGSW_REGISTER_SCRIPT");function Hpe(n,e,t,i){return()=>{if(!Bs(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[o,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":r=Ot(null);break;case"registerWithDelay":r=aZ(+c[0]||0);break;case"registerWhenStable":r=c[0]?(0,Op.T)(lZ(n),aZ(+c[0])):lZ(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(u.R0b).runOutsideAngular(()=>r.pipe(_s(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function aZ(n){return Ot(null).pipe(function Vpe(n,e=Uy.z){const t=zI(n,e);return sZ(()=>t)}(n))}function lZ(n){return n.get(u.z2F).isStable.pipe(ji(t=>t))}function $pe(n,e){return new $M(Bs(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Wpe=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:oZ,useValue:t},{provide:SV,useValue:i},{provide:$M,useFactory:$pe,deps:[SV,u.Lbi]},{provide:u.ip1,useFactory:Hpe,deps:[u.zs3,oZ,SV,u.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jpe,zpe]}),n})(),Gpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[uhe]}),n.\u0275inj=u.cJS({providers:[{provide:Gp.Dh,useValue:Yw.firebase}],imports:[yl,$de,xx,Sx,cpe,Ode,Mpe,lR,Rpe,lhe,Cde,tn,Gp.hO,NX,Wpe.register("ngsw-worker.js",{enabled:!(0,u.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),i9(()=>r9(Yw.firebase)),J9(()=>eK()),CX(()=>xX())]}),n})();Mm().bootstrapModule(Gpe).catch(n=>console.error(n))},9751:(jt,Le,G)=>{"use strict";G.d(Le,{y:()=>Ae});var u=G(930),Y=G(727),z=G(8822),me=G(9635),we=G(2416),he=G(576),Ne=G(2806);let Ae=(()=>{class de{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const ut=new de;return ut.source=this,ut.operator=ze,ut}subscribe(ze,ut,Ct){const Me=function ne(de){return de&&de instanceof u.Lv||function re(de){return de&&(0,he.m)(de.next)&&(0,he.m)(de.error)&&(0,he.m)(de.complete)}(de)&&(0,Y.Nn)(de)}(ze)?ze:new u.Hp(ze,ut,Ct);return(0,Ne.x)(()=>{const{operator:$e,source:Ke}=this;Me.add($e?$e.call(Me,Ke):Ke?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(ze){try{return this._subscribe(ze)}catch(ut){ze.error(ut)}}forEach(ze,ut){return new(ut=Pe(ut))((Ct,Me)=>{const $e=new u.Hp({next:Ke=>{try{ze(Ke)}catch(Xe){Me(Xe),$e.unsubscribe()}},error:Me,complete:Ct});this.subscribe($e)})}_subscribe(ze){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(ze)}[z.L](){return this}pipe(...ze){return(0,me.U)(ze)(this)}toPromise(ze){return new(ze=Pe(ze))((ut,Ct)=>{let Me;this.subscribe($e=>Me=$e,$e=>Ct($e),()=>ut(Me))})}}return de.create=rt=>new de(rt),de})();function Pe(de){var rt;return null!==(rt=de??we.v.Promise)&&void 0!==rt?rt:Promise}},7579:(jt,Le,G)=>{"use strict";G.d(Le,{x:()=>Ne});var u=G(9751),Y=G(727);const me=(0,G(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=G(8737),he=G(2806);let Ne=(()=>{class Pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const de=new Ae(this,this);return de.operator=ne,de}_throwIfClosed(){if(this.closed)throw new me}next(ne){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(ne)}})}error(ne){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:de}=this;for(;de.length;)de.shift().error(ne)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:de,isStopped:rt,observers:ze}=this;return de||rt?Y.Lc:(this.currentObservers=null,ze.push(ne),new Y.w0(()=>{this.currentObservers=null,(0,we.P)(ze,ne)}))}_checkFinalizedStatuses(ne){const{hasError:de,thrownError:rt,isStopped:ze}=this;de?ne.error(rt):ze&&ne.complete()}asObservable(){const ne=new u.y;return ne.source=this,ne}}return Pe.create=(re,ne)=>new Ae(re,ne),Pe})();class Ae extends Ne{constructor(re,ne){super(),this.destination=re,this.source=ne}next(re){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===de||de.call(ne,re)}error(re){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===de||de.call(ne,re)}complete(){var re,ne;null===(ne=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ne||ne.call(re)}_subscribe(re){var ne,de;return null!==(de=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(re))&&void 0!==de?de:Y.Lc}}},930:(jt,Le,G)=>{"use strict";G.d(Le,{Hp:()=>Ct,Lv:()=>de});var u=G(576),Y=G(727),z=G(2416),me=G(7849),we=G(5032);const he=Pe("C",void 0,void 0);function Pe(je,Be,We){return{kind:je,value:Be,error:We}}var re=G(3410),ne=G(2806);class de extends Y.w0{constructor(Be){super(),this.isStopped=!1,Be?(this.destination=Be,(0,Y.Nn)(Be)&&Be.add(this)):this.destination=Xe}static create(Be,We,it){return new Ct(Be,We,it)}next(Be){this.isStopped?Ke(function Ae(je){return Pe("N",je,void 0)}(Be),this):this._next(Be)}error(Be){this.isStopped?Ke(function Ne(je){return Pe("E",void 0,je)}(Be),this):(this.isStopped=!0,this._error(Be))}complete(){this.isStopped?Ke(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Be){this.destination.next(Be)}_error(Be){try{this.destination.error(Be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function ze(je,Be){return rt.call(je,Be)}class ut{constructor(Be){this.partialObserver=Be}next(Be){const{partialObserver:We}=this;if(We.next)try{We.next(Be)}catch(it){Me(it)}}error(Be){const{partialObserver:We}=this;if(We.error)try{We.error(Be)}catch(it){Me(it)}else Me(Be)}complete(){const{partialObserver:Be}=this;if(Be.complete)try{Be.complete()}catch(We){Me(We)}}}class Ct extends de{constructor(Be,We,it){let ee;if(super(),(0,u.m)(Be)||!Be)ee={next:Be??void 0,error:We??void 0,complete:it??void 0};else{let ye;this&&z.v.useDeprecatedNextContext?(ye=Object.create(Be),ye.unsubscribe=()=>this.unsubscribe(),ee={next:Be.next&&ze(Be.next,ye),error:Be.error&&ze(Be.error,ye),complete:Be.complete&&ze(Be.complete,ye)}):ee=Be}this.destination=new ut(ee)}}function Me(je){z.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(je):(0,me.h)(je)}function Ke(je,Be){const{onStoppedNotification:We}=z.v;We&&re.z.setTimeout(()=>We(je,Be))}const Xe={closed:!0,next:we.Z,error:function $e(je){throw je},complete:we.Z}},727:(jt,Le,G)=>{"use strict";G.d(Le,{Lc:()=>he,w0:()=>we,Nn:()=>Ne});var u=G(576);const z=(0,G(3888).d)(Pe=>function(ne){Pe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((de,rt)=>`${rt+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var me=G(8737);class we{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const ze of ne)ze.remove(this);else ne.remove(this);const{initialTeardown:de}=this;if((0,u.m)(de))try{de()}catch(ze){re=ze instanceof z?ze.errors:[ze]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const ze of rt)try{Ae(ze)}catch(ut){re=re??[],ut instanceof z?re=[...re,...ut.errors]:re.push(ut)}}if(re)throw new z(re)}}add(re){var ne;if(re&&re!==this)if(this.closed)Ae(re);else{if(re instanceof we){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(re)}}_hasParent(re){const{_parentage:ne}=this;return ne===re||Array.isArray(ne)&&ne.includes(re)}_addParent(re){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(re),ne):ne?[ne,re]:re}_removeParent(re){const{_parentage:ne}=this;ne===re?this._parentage=null:Array.isArray(ne)&&(0,me.P)(ne,re)}remove(re){const{_finalizers:ne}=this;ne&&(0,me.P)(ne,re),re instanceof we&&re._removeParent(this)}}we.EMPTY=(()=>{const Pe=new we;return Pe.closed=!0,Pe})();const he=we.EMPTY;function Ne(Pe){return Pe instanceof we||Pe&&"closed"in Pe&&(0,u.m)(Pe.remove)&&(0,u.m)(Pe.add)&&(0,u.m)(Pe.unsubscribe)}function Ae(Pe){(0,u.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(jt,Le,G)=>{"use strict";G.d(Le,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(jt,Le,G)=>{"use strict";G.d(Le,{E:()=>Y});const Y=new(G(9751).y)(we=>we.complete())},8996:(jt,Le,G)=>{"use strict";G.d(Le,{D:()=>Be});var u=G(8421),Y=G(5363),z=G(9468),he=G(9751),Ae=G(2202),Pe=G(576),re=G(9672);function de(We,it){if(!We)throw new Error("Iterable cannot be null");return new he.y(ee=>{(0,re.f)(ee,it,()=>{const ye=We[Symbol.asyncIterator]();(0,re.f)(ee,it,()=>{ye.next().then(ot=>{ot.done?ee.complete():ee.next(ot.value)})},0,!0)})})}var rt=G(3670),ze=G(8239),ut=G(1144),Ct=G(6495),Me=G(2206),$e=G(4532),Ke=G(3260);function Be(We,it){return it?function je(We,it){if(null!=We){if((0,rt.c)(We))return function me(We,it){return(0,u.Xf)(We).pipe((0,z.R)(it),(0,Y.Q)(it))}(We,it);if((0,ut.z)(We))return function Ne(We,it){return new he.y(ee=>{let ye=0;return it.schedule(function(){ye===We.length?ee.complete():(ee.next(We[ye++]),ee.closed||this.schedule())})})}(We,it);if((0,ze.t)(We))return function we(We,it){return(0,u.Xf)(We).pipe((0,z.R)(it),(0,Y.Q)(it))}(We,it);if((0,Me.D)(We))return de(We,it);if((0,Ct.T)(We))return function ne(We,it){return new he.y(ee=>{let ye;return(0,re.f)(ee,it,()=>{ye=We[Ae.h](),(0,re.f)(ee,it,()=>{let ot,Ht;try{({value:ot,done:Ht}=ye.next())}catch(dt){return void ee.error(dt)}Ht?ee.complete():ee.next(ot)},0,!0)}),()=>(0,Pe.m)(ye?.return)&&ye.return()})}(We,it);if((0,Ke.L)(We))return function Xe(We,it){return de((0,Ke.Q)(We),it)}(We,it)}throw(0,$e.z)(We)}(We,it):(0,u.Xf)(We)}},8421:(jt,Le,G)=>{"use strict";G.d(Le,{Xf:()=>rt});var u=G(7582),Y=G(1144),z=G(8239),me=G(9751),we=G(3670),he=G(2206),Ne=G(4532),Ae=G(6495),Pe=G(3260),re=G(576),ne=G(7849),de=G(8822);function rt(je){if(je instanceof me.y)return je;if(null!=je){if((0,we.c)(je))return function ze(je){return new me.y(Be=>{const We=je[de.L]();if((0,re.m)(We.subscribe))return We.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,Y.z)(je))return function ut(je){return new me.y(Be=>{for(let We=0;We<je.length&&!Be.closed;We++)Be.next(je[We]);Be.complete()})}(je);if((0,z.t)(je))return function Ct(je){return new me.y(Be=>{je.then(We=>{Be.closed||(Be.next(We),Be.complete())},We=>Be.error(We)).then(null,ne.h)})}(je);if((0,he.D)(je))return $e(je);if((0,Ae.T)(je))return function Me(je){return new me.y(Be=>{for(const We of je)if(Be.next(We),Be.closed)return;Be.complete()})}(je);if((0,Pe.L)(je))return function Ke(je){return $e((0,Pe.Q)(je))}(je)}throw(0,Ne.z)(je)}function $e(je){return new me.y(Be=>{(function Xe(je,Be){var We,it,ee,ye;return(0,u.mG)(this,void 0,void 0,function*(){try{for(We=(0,u.KL)(je);!(it=yield We.next()).done;)if(Be.next(it.value),Be.closed)return}catch(ot){ee={error:ot}}finally{try{it&&!it.done&&(ye=We.return)&&(yield ye.call(We))}finally{if(ee)throw ee.error}}Be.complete()})})(je,Be).catch(We=>Be.error(We))})}},6451:(jt,Le,G)=>{"use strict";G.d(Le,{T:()=>he});var u=G(8189),Y=G(8421),z=G(515),me=G(3269),we=G(8996);function he(...Ne){const Ae=(0,me.yG)(Ne),Pe=(0,me._6)(Ne,1/0),re=Ne;return re.length?1===re.length?(0,Y.Xf)(re[0]):(0,u.J)(Pe)((0,we.D)(re,Ae)):z.E}},5403:(jt,Le,G)=>{"use strict";G.d(Le,{x:()=>Y});var u=G(930);function Y(me,we,he,Ne,Ae){return new z(me,we,he,Ne,Ae)}class z extends u.Lv{constructor(we,he,Ne,Ae,Pe,re){super(we),this.onFinalize=Pe,this.shouldUnsubscribe=re,this._next=he?function(ne){try{he(ne)}catch(de){we.error(de)}}:super._next,this._error=Ae?function(ne){try{Ae(ne)}catch(de){we.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(ne){we.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},4004:(jt,Le,G)=>{"use strict";G.d(Le,{U:()=>z});var u=G(4482),Y=G(5403);function z(me,we){return(0,u.e)((he,Ne)=>{let Ae=0;he.subscribe((0,Y.x)(Ne,Pe=>{Ne.next(me.call(we,Pe,Ae++))}))})}},8189:(jt,Le,G)=>{"use strict";G.d(Le,{J:()=>z});var u=G(5577),Y=G(4671);function z(me=1/0){return(0,u.z)(Y.y,me)}},5577:(jt,Le,G)=>{"use strict";G.d(Le,{z:()=>Ae});var u=G(4004),Y=G(8421),z=G(4482),me=G(9672),we=G(5403),Ne=G(576);function Ae(Pe,re,ne=1/0){return(0,Ne.m)(re)?Ae((de,rt)=>(0,u.U)((ze,ut)=>re(de,ze,rt,ut))((0,Y.Xf)(Pe(de,rt))),ne):("number"==typeof re&&(ne=re),(0,z.e)((de,rt)=>function he(Pe,re,ne,de,rt,ze,ut,Ct){const Me=[];let $e=0,Ke=0,Xe=!1;const je=()=>{Xe&&!Me.length&&!$e&&re.complete()},Be=it=>$e<de?We(it):Me.push(it),We=it=>{ze&&re.next(it),$e++;let ee=!1;(0,Y.Xf)(ne(it,Ke++)).subscribe((0,we.x)(re,ye=>{rt?.(ye),ze?Be(ye):re.next(ye)},()=>{ee=!0},void 0,()=>{if(ee)try{for($e--;Me.length&&$e<de;){const ye=Me.shift();ut?(0,me.f)(re,ut,()=>We(ye)):We(ye)}je()}catch(ye){re.error(ye)}}))};return Pe.subscribe((0,we.x)(re,Be,()=>{Xe=!0,je()})),()=>{Ct?.()}}(de,rt,Pe,ne)))}},5363:(jt,Le,G)=>{"use strict";G.d(Le,{Q:()=>me});var u=G(9672),Y=G(4482),z=G(5403);function me(we,he=0){return(0,Y.e)((Ne,Ae)=>{Ne.subscribe((0,z.x)(Ae,Pe=>(0,u.f)(Ae,we,()=>Ae.next(Pe),he),()=>(0,u.f)(Ae,we,()=>Ae.complete(),he),Pe=>(0,u.f)(Ae,we,()=>Ae.error(Pe),he)))})}},3099:(jt,Le,G)=>{"use strict";G.d(Le,{B:()=>we});var u=G(8421),Y=G(7579),z=G(930),me=G(4482);function we(Ne={}){const{connector:Ae=(()=>new Y.x),resetOnError:Pe=!0,resetOnComplete:re=!0,resetOnRefCountZero:ne=!0}=Ne;return de=>{let rt,ze,ut,Ct=0,Me=!1,$e=!1;const Ke=()=>{ze?.unsubscribe(),ze=void 0},Xe=()=>{Ke(),rt=ut=void 0,Me=$e=!1},je=()=>{const Be=rt;Xe(),Be?.unsubscribe()};return(0,me.e)((Be,We)=>{Ct++,!$e&&!Me&&Ke();const it=ut=ut??Ae();We.add(()=>{Ct--,0===Ct&&!$e&&!Me&&(ze=he(je,ne))}),it.subscribe(We),!rt&&Ct>0&&(rt=new z.Hp({next:ee=>it.next(ee),error:ee=>{$e=!0,Ke(),ze=he(Xe,Pe,ee),it.error(ee)},complete:()=>{Me=!0,Ke(),ze=he(Xe,re),it.complete()}}),(0,u.Xf)(Be).subscribe(rt))})(de)}}function he(Ne,Ae,...Pe){if(!0===Ae)return void Ne();if(!1===Ae)return;const re=new z.Hp({next:()=>{re.unsubscribe(),Ne()}});return(0,u.Xf)(Ae(...Pe)).subscribe(re)}},9468:(jt,Le,G)=>{"use strict";G.d(Le,{R:()=>Y});var u=G(4482);function Y(z,me=0){return(0,u.e)((we,he)=>{he.add(z.schedule(()=>we.subscribe(he),me))})}},8505:(jt,Le,G)=>{"use strict";G.d(Le,{b:()=>we});var u=G(576),Y=G(4482),z=G(5403),me=G(4671);function we(he,Ne,Ae){const Pe=(0,u.m)(he)||Ne||Ae?{next:he,error:Ne,complete:Ae}:he;return Pe?(0,Y.e)((re,ne)=>{var de;null===(de=Pe.subscribe)||void 0===de||de.call(Pe);let rt=!0;re.subscribe((0,z.x)(ne,ze=>{var ut;null===(ut=Pe.next)||void 0===ut||ut.call(Pe,ze),ne.next(ze)},()=>{var ze;rt=!1,null===(ze=Pe.complete)||void 0===ze||ze.call(Pe),ne.complete()},ze=>{var ut;rt=!1,null===(ut=Pe.error)||void 0===ut||ut.call(Pe,ze),ne.error(ze)},()=>{var ze,ut;rt&&(null===(ze=Pe.unsubscribe)||void 0===ze||ze.call(Pe)),null===(ut=Pe.finalize)||void 0===ut||ut.call(Pe)}))}):me.y}},4408:(jt,Le,G)=>{"use strict";G.d(Le,{o:()=>we});var u=G(727);class Y extends u.w0{constructor(Ne,Ae){super()}schedule(Ne,Ae=0){return this}}const z={setInterval(he,Ne,...Ae){const{delegate:Pe}=z;return Pe?.setInterval?Pe.setInterval(he,Ne,...Ae):setInterval(he,Ne,...Ae)},clearInterval(he){const{delegate:Ne}=z;return(Ne?.clearInterval||clearInterval)(he)},delegate:void 0};var me=G(8737);class we extends Y{constructor(Ne,Ae){super(Ne,Ae),this.scheduler=Ne,this.work=Ae,this.pending=!1}schedule(Ne,Ae=0){var Pe;if(this.closed)return this;this.state=Ne;const re=this.id,ne=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ne,re,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(Pe=this.id)&&void 0!==Pe?Pe:this.requestAsyncId(ne,this.id,Ae),this}requestAsyncId(Ne,Ae,Pe=0){return z.setInterval(Ne.flush.bind(Ne,this),Pe)}recycleAsyncId(Ne,Ae,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return Ae;null!=Ae&&z.clearInterval(Ae)}execute(Ne,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(Ne,Ae);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Ae){let re,Pe=!1;try{this.work(Ne)}catch(ne){Pe=!0,re=ne||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:Ae}=this,{actions:Pe}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Pe,this),null!=Ne&&(this.id=this.recycleAsyncId(Ae,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(jt,Le,G)=>{"use strict";G.d(Le,{v:()=>z});var u=G(6063);class Y{constructor(we,he=Y.now){this.schedulerActionCtor=we,this.now=he}schedule(we,he=0,Ne){return new this.schedulerActionCtor(this,we).schedule(Ne,he)}}Y.now=u.l.now;class z extends Y{constructor(we,he=Y.now){super(we,he),this.actions=[],this._active=!1}flush(we){const{actions:he}=this;if(this._active)return void he.push(we);let Ne;this._active=!0;do{if(Ne=we.execute(we.state,we.delay))break}while(we=he.shift());if(this._active=!1,Ne){for(;we=he.shift();)we.unsubscribe();throw Ne}}}},4986:(jt,Le,G)=>{"use strict";G.d(Le,{P:()=>me,z:()=>z});var u=G(4408);const z=new(G(7565).v)(u.o),me=z},6063:(jt,Le,G)=>{"use strict";G.d(Le,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(jt,Le,G)=>{"use strict";G.d(Le,{z:()=>u});const u={setTimeout(Y,z,...me){const{delegate:we}=u;return we?.setTimeout?we.setTimeout(Y,z,...me):setTimeout(Y,z,...me)},clearTimeout(Y){const{delegate:z}=u;return(z?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(jt,Le,G)=>{"use strict";G.d(Le,{h:()=>Y});const Y=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(jt,Le,G)=>{"use strict";G.d(Le,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(jt,Le,G)=>{"use strict";G.d(Le,{_6:()=>he,jO:()=>me,yG:()=>we});var u=G(576),Y=G(3532);function z(Ne){return Ne[Ne.length-1]}function me(Ne){return(0,u.m)(z(Ne))?Ne.pop():void 0}function we(Ne){return(0,Y.K)(z(Ne))?Ne.pop():void 0}function he(Ne,Ae){return"number"==typeof z(Ne)?Ne.pop():Ae}},8737:(jt,Le,G)=>{"use strict";function u(Y,z){if(Y){const me=Y.indexOf(z);0<=me&&Y.splice(me,1)}}G.d(Le,{P:()=>u})},3888:(jt,Le,G)=>{"use strict";function u(Y){const me=Y(we=>{Error.call(we),we.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}G.d(Le,{d:()=>u})},2806:(jt,Le,G)=>{"use strict";G.d(Le,{O:()=>me,x:()=>z});var u=G(2416);let Y=null;function z(we){if(u.v.useDeprecatedSynchronousErrorHandling){const he=!Y;if(he&&(Y={errorThrown:!1,error:null}),we(),he){const{errorThrown:Ne,error:Ae}=Y;if(Y=null,Ne)throw Ae}}else we()}function me(we){u.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=we)}},9672:(jt,Le,G)=>{"use strict";function u(Y,z,me,we=0,he=!1){const Ne=z.schedule(function(){me(),he?Y.add(this.schedule(null,we)):this.unsubscribe()},we);if(Y.add(Ne),!he)return Ne}G.d(Le,{f:()=>u})},4671:(jt,Le,G)=>{"use strict";function u(Y){return Y}G.d(Le,{y:()=>u})},1144:(jt,Le,G)=>{"use strict";G.d(Le,{z:()=>u});const u=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(jt,Le,G)=>{"use strict";G.d(Le,{D:()=>Y});var u=G(576);function Y(z){return Symbol.asyncIterator&&(0,u.m)(z?.[Symbol.asyncIterator])}},576:(jt,Le,G)=>{"use strict";function u(Y){return"function"==typeof Y}G.d(Le,{m:()=>u})},3670:(jt,Le,G)=>{"use strict";G.d(Le,{c:()=>z});var u=G(8822),Y=G(576);function z(me){return(0,Y.m)(me[u.L])}},6495:(jt,Le,G)=>{"use strict";G.d(Le,{T:()=>z});var u=G(2202),Y=G(576);function z(me){return(0,Y.m)(me?.[u.h])}},8239:(jt,Le,G)=>{"use strict";G.d(Le,{t:()=>Y});var u=G(576);function Y(z){return(0,u.m)(z?.then)}},3260:(jt,Le,G)=>{"use strict";G.d(Le,{L:()=>me,Q:()=>z});var u=G(7582),Y=G(576);function z(we){return(0,u.FC)(this,arguments,function*(){const Ne=we.getReader();try{for(;;){const{value:Ae,done:Pe}=yield(0,u.qq)(Ne.read());if(Pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ae)}}finally{Ne.releaseLock()}})}function me(we){return(0,Y.m)(we?.getReader)}},3532:(jt,Le,G)=>{"use strict";G.d(Le,{K:()=>Y});var u=G(576);function Y(z){return z&&(0,u.m)(z.schedule)}},4482:(jt,Le,G)=>{"use strict";G.d(Le,{A:()=>Y,e:()=>z});var u=G(576);function Y(me){return(0,u.m)(me?.lift)}function z(me){return we=>{if(Y(we))return we.lift(function(he){try{return me(he,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(jt,Le,G)=>{"use strict";function u(){}G.d(Le,{Z:()=>u})},9635:(jt,Le,G)=>{"use strict";G.d(Le,{U:()=>z,z:()=>Y});var u=G(4671);function Y(...me){return z(me)}function z(me){return 0===me.length?u.y:1===me.length?me[0]:function(he){return me.reduce((Ne,Ae)=>Ae(Ne),he)}}},7849:(jt,Le,G)=>{"use strict";G.d(Le,{h:()=>z});var u=G(2416),Y=G(3410);function z(me){Y.z.setTimeout(()=>{const{onUnhandledError:we}=u.v;if(!we)throw me;we(me)})}},4532:(jt,Le,G)=>{"use strict";function u(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Le,{z:()=>u})},5226:function(jt){jt.exports=function(){"use strict";const Le="SweetAlert2:",u=T=>T.charAt(0).toUpperCase()+T.slice(1),Y=T=>Array.prototype.slice.call(T),z=T=>{console.warn("".concat(Le," ").concat("object"==typeof T?T.join(" "):T))},me=T=>{console.error("".concat(Le," ").concat(T))},we=[],Ne=(T,M)=>{(T=>{we.includes(T)||(we.push(T),z(T))})('"'.concat(T,'" is deprecated and will be removed in the next major release. Please use "').concat(M,'" instead.'))},Ae=T=>"function"==typeof T?T():T,Pe=T=>T&&"function"==typeof T.toPromise,re=T=>Pe(T)?T.toPromise():Promise.resolve(T),ne=T=>T&&Promise.resolve(T)===T,de={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},rt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ze={},ut=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ct=T=>Object.prototype.hasOwnProperty.call(de,T),Me=T=>-1!==rt.indexOf(T),$e=T=>ze[T],Ke=T=>{Ct(T)||z('Unknown parameter "'.concat(T,'"'))},Xe=T=>{ut.includes(T)&&z('The parameter "'.concat(T,'" is incompatible with toasts'))},je=T=>{$e(T)&&Ne(T,$e(T))},it=T=>{const M={};for(const B in T)M[T[B]]="swal2-"+T[B];return M},ee=it(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ye=it(["success","warning","info","question","error"]),ot=()=>document.body.querySelector(".".concat(ee.container)),Ht=T=>{const M=ot();return M?M.querySelector(T):null},dt=T=>Ht(".".concat(T)),Et=()=>dt(ee.popup),It=()=>dt(ee.icon),no=()=>dt(ee.title),Ce=()=>dt(ee["html-container"]),ke=()=>dt(ee.image),Ue=()=>dt(ee["progress-steps"]),He=()=>dt(ee["validation-message"]),et=()=>Ht(".".concat(ee.actions," .").concat(ee.confirm)),Ge=()=>Ht(".".concat(ee.actions," .").concat(ee.deny)),Tt=()=>Ht(".".concat(ee.loader)),Fn=()=>Ht(".".concat(ee.actions," .").concat(ee.cancel)),xt=()=>dt(ee.actions),Bt=()=>dt(ee.footer),pn=()=>dt(ee["timer-progress-bar"]),Dn=()=>dt(ee.close),Hi=()=>{const T=Y(Et().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((B,J)=>{const Ve=parseInt(B.getAttribute("tabindex")),Lt=parseInt(J.getAttribute("tabindex"));return Ve>Lt?1:Ve<Lt?-1:0}),M=Y(Et().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(B=>"-1"!==B.getAttribute("tabindex"));return(T=>{const M=[];for(let B=0;B<T.length;B++)-1===M.indexOf(T[B])&&M.push(T[B]);return M})(T.concat(M)).filter(B=>An(B))},ui=()=>xr(document.body,ee.shown)&&!xr(document.body,ee["toast-shown"])&&!xr(document.body,ee["no-backdrop"]),ki=()=>Et()&&xr(Et(),ee.toast),Fi={previousBodyPadding:null},Gn=(T,M)=>{if(T.textContent="",M){const J=(new DOMParser).parseFromString(M,"text/html");Y(J.querySelector("head").childNodes).forEach(Ve=>{T.appendChild(Ve)}),Y(J.querySelector("body").childNodes).forEach(Ve=>{T.appendChild(Ve)})}},xr=(T,M)=>{if(!M)return!1;const B=M.split(/\s+/);for(let J=0;J<B.length;J++)if(!T.classList.contains(B[J]))return!1;return!0},gt=(T,M,B)=>{if(((T,M)=>{Y(T.classList).forEach(B=>{!Object.values(ee).includes(B)&&!Object.values(ye).includes(B)&&!Object.values(M.showClass).includes(B)&&T.classList.remove(B)})})(T,M),M.customClass&&M.customClass[B]){if("string"!=typeof M.customClass[B]&&!M.customClass[B].forEach)return z("Invalid type of customClass.".concat(B,'! Expected string or iterable object, got "').concat(typeof M.customClass[B],'"'));Jt(T,M.customClass[B])}},ri=(T,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return T.querySelector(".".concat(ee.popup," > .").concat(ee[M]));case"checkbox":return T.querySelector(".".concat(ee.popup," > .").concat(ee.checkbox," input"));case"radio":return T.querySelector(".".concat(ee.popup," > .").concat(ee.radio," input:checked"))||T.querySelector(".".concat(ee.popup," > .").concat(ee.radio," input:first-child"));case"range":return T.querySelector(".".concat(ee.popup," > .").concat(ee.range," input"));default:return T.querySelector(".".concat(ee.popup," > .").concat(ee.input))}},Cs=T=>{if(T.focus(),"file"!==T.type){const M=T.value;T.value="",T.value=M}},mi=(T,M,B)=>{!T||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(J=>{Array.isArray(T)?T.forEach(Ve=>{B?Ve.classList.add(J):Ve.classList.remove(J)}):B?T.classList.add(J):T.classList.remove(J)}))},Jt=(T,M)=>{mi(T,M,!0)},si=(T,M)=>{mi(T,M,!1)},mn=(T,M)=>{const B=Y(T.childNodes);for(let J=0;J<B.length;J++)if(xr(B[J],M))return B[J]},nn=(T,M,B)=>{B==="".concat(parseInt(B))&&(B=parseInt(B)),B||0===parseInt(B)?T.style[M]="number"==typeof B?"".concat(B,"px"):B:T.style.removeProperty(M)},ht=function(T){T.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Pt=T=>{T.style.display="none"},gi=(T,M,B,J)=>{const Ve=T.querySelector(M);Ve&&(Ve.style[B]=J)},Pi=(T,M,B)=>{M?ht(T,B):Pt(T)},An=T=>!(!T||!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)),di=T=>T.scrollHeight>T.clientHeight,Li=T=>{const M=window.getComputedStyle(T),B=parseFloat(M.getPropertyValue("animation-duration")||"0"),J=parseFloat(M.getPropertyValue("transition-duration")||"0");return B>0||J>0},cn=function(T){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const B=pn();An(B)&&(M&&(B.style.transition="none",B.style.width="100%"),setTimeout(()=>{B.style.transition="width ".concat(T/1e3,"s linear"),B.style.width="0%"},10))},gn=()=>typeof window>"u"||typeof document>"u",lt={},hi=T=>new Promise(M=>{if(!T)return M();const B=window.scrollX,J=window.scrollY;lt.restoreFocusTimeout=setTimeout(()=>{lt.previousActiveElement&&lt.previousActiveElement.focus?(lt.previousActiveElement.focus(),lt.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(B,J)}),Ji='\n <div aria-labelledby="'.concat(ee.title,'" aria-describedby="').concat(ee["html-container"],'" class="').concat(ee.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ee.close,'"></button>\n   <ul class="').concat(ee["progress-steps"],'"></ul>\n   <div class="').concat(ee.icon,'"></div>\n   <img class="').concat(ee.image,'" />\n   <h2 class="').concat(ee.title,'" id="').concat(ee.title,'"></h2>\n   <div class="').concat(ee["html-container"],'" id="').concat(ee["html-container"],'"></div>\n   <input class="').concat(ee.input,'" />\n   <input type="file" class="').concat(ee.file,'" />\n   <div class="').concat(ee.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ee.select,'"></select>\n   <div class="').concat(ee.radio,'"></div>\n   <label for="').concat(ee.checkbox,'" class="').concat(ee.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ee.label,'"></span>\n   </label>\n   <textarea class="').concat(ee.textarea,'"></textarea>\n   <div class="').concat(ee["validation-message"],'" id="').concat(ee["validation-message"],'"></div>\n   <div class="').concat(ee.actions,'">\n     <div class="').concat(ee.loader,'"></div>\n     <button type="button" class="').concat(ee.confirm,'"></button>\n     <button type="button" class="').concat(ee.deny,'"></button>\n     <button type="button" class="').concat(ee.cancel,'"></button>\n   </div>\n   <div class="').concat(ee.footer,'"></div>\n   <div class="').concat(ee["timer-progress-bar-container"],'">\n     <div class="').concat(ee["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ei=()=>{lt.currentInstance.resetValidationMessage()},$=T=>{const M=(()=>{const T=ot();return!!T&&(T.remove(),si([document.documentElement,document.body],[ee["no-backdrop"],ee["toast-shown"],ee["has-column"]]),!0)})();if(gn())return void me("SweetAlert2 requires document to initialize");const B=document.createElement("div");B.className=ee.container,M&&Jt(B,ee["no-transition"]),Gn(B,Ji);const J=(T=>"string"==typeof T?document.querySelector(T):T)(T.target);J.appendChild(B),(T=>{const M=Et();M.setAttribute("role",T.toast?"alert":"dialog"),M.setAttribute("aria-live",T.toast?"polite":"assertive"),T.toast||M.setAttribute("aria-modal","true")})(T),(T=>{"rtl"===window.getComputedStyle(T).direction&&Jt(ot(),ee.rtl)})(J),(()=>{const T=Et(),M=mn(T,ee.input),B=mn(T,ee.file),J=T.querySelector(".".concat(ee.range," input")),Ve=T.querySelector(".".concat(ee.range," output")),Lt=mn(T,ee.select),ti=T.querySelector(".".concat(ee.checkbox," input")),yr=mn(T,ee.textarea);M.oninput=Ei,B.onchange=Ei,Lt.onchange=Ei,ti.onchange=Ei,yr.oninput=Ei,J.oninput=()=>{Ei(),Ve.value=J.value},J.onchange=()=>{Ei(),J.nextSibling.value=J.value}})()},W=(T,M)=>{T instanceof HTMLElement?M.appendChild(T):"object"==typeof T?U(T,M):T&&Gn(M,T)},U=(T,M)=>{T.jquery?oe(M,T):Gn(M,T.toString())},oe=(T,M)=>{if(T.textContent="",0 in M)for(let B=0;B in M;B++)T.appendChild(M[B].cloneNode(!0));else T.appendChild(M.cloneNode(!0))},Re=(()=>{if(gn())return!1;const T=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const B in M)if(Object.prototype.hasOwnProperty.call(M,B)&&typeof T.style[B]<"u")return M[B];return!1})(),Kt=(T,M)=>{const B=xt(),J=Tt();M.showConfirmButton||M.showDenyButton||M.showCancelButton?ht(B):Pt(B),gt(B,M,"actions"),function Wt(T,M,B){const J=et(),Ve=Ge(),Lt=Fn();Yt(J,"confirm",B),Yt(Ve,"deny",B),Yt(Lt,"cancel",B),function _n(T,M,B,J){if(!J.buttonsStyling)return si([T,M,B],ee.styled);Jt([T,M,B],ee.styled),J.confirmButtonColor&&(T.style.backgroundColor=J.confirmButtonColor,Jt(T,ee["default-outline"])),J.denyButtonColor&&(M.style.backgroundColor=J.denyButtonColor,Jt(M,ee["default-outline"])),J.cancelButtonColor&&(B.style.backgroundColor=J.cancelButtonColor,Jt(B,ee["default-outline"]))}(J,Ve,Lt,B),B.reverseButtons&&(B.toast?(T.insertBefore(Lt,J),T.insertBefore(Ve,J)):(T.insertBefore(Lt,M),T.insertBefore(Ve,M),T.insertBefore(J,M)))}(B,J,M),Gn(J,M.loaderHtml),gt(J,M,"loader")};function Yt(T,M,B){Pi(T,B["show".concat(u(M),"Button")],"inline-block"),Gn(T,B["".concat(M,"ButtonText")]),T.setAttribute("aria-label",B["".concat(M,"ButtonAriaLabel")]),T.className=ee[M],gt(T,B,"".concat(M,"Button")),Jt(T,B["".concat(M,"ButtonClass")])}const io=(T,M)=>{const B=ot();B&&(function Kn(T,M){"string"==typeof M?T.style.background=M:M||Jt([document.documentElement,document.body],ee["no-backdrop"])}(B,M.backdrop),function ln(T,M){M in ee?Jt(T,ee[M]):(z('The "position" parameter is not valid, defaulting to "center"'),Jt(T,ee.center))}(B,M.position),function $i(T,M){if(M&&"string"==typeof M){const B="grow-".concat(M);B in ee&&Jt(T,ee[B])}}(B,M.grow),gt(B,M,"container"))};var fe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ge=["input","file","range","select","radio","checkbox","textarea"],Ft=T=>{if(!Ln[T.input])return me('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(T.input,'"'));const M=er(T.input),B=Ln[T.input](M,T);ht(B),setTimeout(()=>{Cs(B)})},yn=(T,M)=>{const B=ri(Et(),T);if(B){(T=>{for(let M=0;M<T.attributes.length;M++){const B=T.attributes[M].name;["type","value","style"].includes(B)||T.removeAttribute(B)}})(B);for(const J in M)B.setAttribute(J,M[J])}},zt=T=>{const M=er(T.input);T.customClass&&Jt(M,T.customClass.input)},On=(T,M)=>{(!T.placeholder||M.inputPlaceholder)&&(T.placeholder=M.inputPlaceholder)},vn=(T,M,B)=>{if(B.inputLabel){T.id=ee.input;const J=document.createElement("label"),Ve=ee["input-label"];J.setAttribute("for",T.id),J.className=Ve,Jt(J,B.customClass.inputLabel),J.innerText=B.inputLabel,M.insertAdjacentElement("beforebegin",J)}},er=T=>{const M=ee[T]?ee[T]:ee.input;return mn(Et(),M)},Ln={};Ln.text=Ln.email=Ln.password=Ln.number=Ln.tel=Ln.url=(T,M)=>("string"==typeof M.inputValue||"number"==typeof M.inputValue?T.value=M.inputValue:ne(M.inputValue)||z('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof M.inputValue,'"')),vn(T,T,M),On(T,M),T.type=M.input,T),Ln.file=(T,M)=>(vn(T,T,M),On(T,M),T),Ln.range=(T,M)=>{const B=T.querySelector("input"),J=T.querySelector("output");return B.value=M.inputValue,B.type=M.input,J.value=M.inputValue,vn(B,T,M),T},Ln.select=(T,M)=>{if(T.textContent="",M.inputPlaceholder){const B=document.createElement("option");Gn(B,M.inputPlaceholder),B.value="",B.disabled=!0,B.selected=!0,T.appendChild(B)}return vn(T,T,M),T},Ln.radio=T=>(T.textContent="",T),Ln.checkbox=(T,M)=>{const B=ri(Et(),"checkbox");B.value="1",B.id=ee.checkbox,B.checked=Boolean(M.inputValue);const J=T.querySelector("span");return Gn(J,M.inputPlaceholder),T},Ln.textarea=(T,M)=>{T.value=M.inputValue,On(T,M),vn(T,T,M);return setTimeout(()=>{if("MutationObserver"in window){const J=parseInt(window.getComputedStyle(Et()).width);new MutationObserver(()=>{const Lt=T.offsetWidth+(J=>parseInt(window.getComputedStyle(J).marginLeft)+parseInt(window.getComputedStyle(J).marginRight))(T);Et().style.width=Lt>J?"".concat(Lt,"px"):null}).observe(T,{attributes:!0,attributeFilter:["style"]})}}),T};const Gl=(T,M)=>{const B=Ce();gt(B,M,"htmlContainer"),M.html?(W(M.html,B),ht(B,"block")):M.text?(B.textContent=M.text,ht(B,"block")):Pt(B),((T,M)=>{const B=Et(),J=fe.innerParams.get(T),Ve=!J||M.input!==J.input;ge.forEach(Lt=>{const ti=ee[Lt],yr=mn(B,ti);yn(Lt,M.inputAttributes),yr.className=ti,Ve&&Pt(yr)}),M.input&&(Ve&&Ft(M),zt(M))})(T,M)},mt=(T,M)=>{for(const B in ye)M.icon!==B&&si(T,ye[B]);Jt(T,ye[M.icon]),Gi(T,M),un(),gt(T,M,"icon")},un=()=>{const T=Et(),M=window.getComputedStyle(T).getPropertyValue("background-color"),B=T.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let J=0;J<B.length;J++)B[J].style.backgroundColor=M},ro=(T,M)=>{T.textContent="",Gn(T,M.iconHtml?Fs(M.iconHtml):"success"===M.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Fs({question:"?",warning:"!",info:"i"}[M.icon]))},Gi=(T,M)=>{if(M.iconColor){T.style.color=M.iconColor,T.style.borderColor=M.iconColor;for(const B of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])gi(T,B,"backgroundColor",M.iconColor);gi(T,".swal2-success-ring","borderColor",M.iconColor)}},Fs=T=>'<div class="'.concat(ee["icon-content"],'">').concat(T,"</div>"),dn=(T,M)=>{const B=Ue();if(!M.progressSteps||0===M.progressSteps.length)return Pt(B);ht(B),B.textContent="",M.currentProgressStep>=M.progressSteps.length&&z("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((J,Ve)=>{const Lt=(T=>{const M=document.createElement("li");return Jt(M,ee["progress-step"]),Gn(M,T),M})(J);if(B.appendChild(Lt),Ve===M.currentProgressStep&&Jt(Lt,ee["active-progress-step"]),Ve!==M.progressSteps.length-1){const ti=(T=>{const M=document.createElement("li");return Jt(M,ee["progress-step-line"]),T.progressStepsDistance&&(M.style.width=T.progressStepsDistance),M})(M);B.appendChild(ti)}})},Ja=(T,M)=>{T.className="".concat(ee.popup," ").concat(An(T)?M.showClass.popup:""),M.toast?(Jt([document.documentElement,document.body],ee["toast-shown"]),Jt(T,ee.toast)):Jt(T,ee.modal),gt(T,M,"popup"),"string"==typeof M.customClass&&Jt(T,M.customClass),M.icon&&Jt(T,ee["icon-".concat(M.icon)])},so=(T,M)=>{((T,M)=>{const B=ot(),J=Et();M.toast?(nn(B,"width",M.width),J.style.width="100%",J.insertBefore(Tt(),It())):nn(J,"width",M.width),nn(J,"padding",M.padding),M.color&&(J.style.color=M.color),M.background&&(J.style.background=M.background),Pt(He()),Ja(J,M)})(0,M),io(0,M),dn(0,M),((T,M)=>{const B=fe.innerParams.get(T),J=It();B&&M.icon===B.icon?(ro(J,M),mt(J,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(ye).indexOf(M.icon)?(me('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(M.icon,'"')),Pt(J)):(ht(J),ro(J,M),mt(J,M),Jt(J,M.showClass.icon)):Pt(J)})(T,M),((T,M)=>{const B=ke();if(!M.imageUrl)return Pt(B);ht(B,""),B.setAttribute("src",M.imageUrl),B.setAttribute("alt",M.imageAlt),nn(B,"width",M.imageWidth),nn(B,"height",M.imageHeight),B.className=ee.image,gt(B,M,"image")})(0,M),((T,M)=>{const B=no();Pi(B,M.title||M.titleText,"block"),M.title&&W(M.title,B),M.titleText&&(B.innerText=M.titleText),gt(B,M,"title")})(0,M),((T,M)=>{const B=Dn();Gn(B,M.closeButtonHtml),gt(B,M,"closeButton"),Pi(B,M.showCloseButton),B.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),Gl(T,M),Kt(0,M),((T,M)=>{const B=Bt();Pi(B,M.footer),M.footer&&W(M.footer,B),gt(B,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(Et())},ai=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),xo=()=>{Y(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},Br=["swal-title","swal-html","swal-footer"],gr=T=>{const M={};return Y(T.querySelectorAll("swal-param")).forEach(B=>{Xr(B,["name","value"]);const J=B.getAttribute("name"),Ve=B.getAttribute("value");"boolean"==typeof de[J]&&"false"===Ve&&(M[J]=!1),"object"==typeof de[J]&&(M[J]=JSON.parse(Ve))}),M},qn=T=>{const M={};return Y(T.querySelectorAll("swal-button")).forEach(B=>{Xr(B,["type","color","aria-label"]);const J=B.getAttribute("type");M["".concat(J,"ButtonText")]=B.innerHTML,M["show".concat(u(J),"Button")]=!0,B.hasAttribute("color")&&(M["".concat(J,"ButtonColor")]=B.getAttribute("color")),B.hasAttribute("aria-label")&&(M["".concat(J,"ButtonAriaLabel")]=B.getAttribute("aria-label"))}),M},fs=T=>{const M={},B=T.querySelector("swal-image");return B&&(Xr(B,["src","width","height","alt"]),B.hasAttribute("src")&&(M.imageUrl=B.getAttribute("src")),B.hasAttribute("width")&&(M.imageWidth=B.getAttribute("width")),B.hasAttribute("height")&&(M.imageHeight=B.getAttribute("height")),B.hasAttribute("alt")&&(M.imageAlt=B.getAttribute("alt"))),M},Wc=T=>{const M={},B=T.querySelector("swal-icon");return B&&(Xr(B,["type","color"]),B.hasAttribute("type")&&(M.icon=B.getAttribute("type")),B.hasAttribute("color")&&(M.iconColor=B.getAttribute("color")),M.iconHtml=B.innerHTML),M},el=T=>{const M={},B=T.querySelector("swal-input");B&&(Xr(B,["type","label","placeholder","value"]),M.input=B.getAttribute("type")||"text",B.hasAttribute("label")&&(M.inputLabel=B.getAttribute("label")),B.hasAttribute("placeholder")&&(M.inputPlaceholder=B.getAttribute("placeholder")),B.hasAttribute("value")&&(M.inputValue=B.getAttribute("value")));const J=T.querySelectorAll("swal-input-option");return J.length&&(M.inputOptions={},Y(J).forEach(Ve=>{Xr(Ve,["value"]);const Lt=Ve.getAttribute("value");M.inputOptions[Lt]=Ve.innerHTML})),M},ya=(T,M)=>{const B={};for(const J in M){const Ve=M[J],Lt=T.querySelector(Ve);Lt&&(Xr(Lt,[]),B[Ve.replace(/^swal-/,"")]=Lt.innerHTML.trim())}return B},Io=T=>{const M=Br.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Y(T.children).forEach(B=>{const J=B.tagName.toLowerCase();-1===M.indexOf(J)&&z("Unrecognized element <".concat(J,">"))})},Xr=(T,M)=>{Y(T.attributes).forEach(B=>{-1===M.indexOf(B.name)&&z(['Unrecognized attribute "'.concat(B.name,'" on <').concat(T.tagName.toLowerCase(),">."),"".concat(M.length?"Allowed attributes are: ".concat(M.join(", ")):"To set the value, use HTML within the element.")])})};var qi={email:(T,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(T)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(T,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(T)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function ps(T){(function Nu(T){T.inputValidator||Object.keys(qi).forEach(M=>{T.input===M&&(T.inputValidator=qi[M])})})(T),T.showLoaderOnConfirm&&!T.preConfirm&&z("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Tr(T){(!T.target||"string"==typeof T.target&&!document.querySelector(T.target)||"string"!=typeof T.target&&!T.target.appendChild)&&(z('Target parameter is not valid, defaulting to "body"'),T.target="body")}(T),"string"==typeof T.title&&(T.title=T.title.split("\n").join("<br />")),$(T)}class ea{constructor(M,B){this.callback=M,this.remaining=B,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const B=this.running;return B&&this.stop(),this.remaining+=M,B&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Zl=()=>{null===Fi.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Fi.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Fi.previousBodyPadding+(()=>{const T=document.createElement("div");T.className=ee["scrollbar-measure"],document.body.appendChild(T);const M=T.getBoundingClientRect().width-T.clientWidth;return document.body.removeChild(T),M})(),"px"))},tl=()=>{null!==Fi.previousBodyPadding&&(document.body.style.paddingRight="".concat(Fi.previousBodyPadding,"px"),Fi.previousBodyPadding=null)},To=()=>{const T=navigator.userAgent,M=!!T.match(/iPad/i)||!!T.match(/iPhone/i),B=!!T.match(/WebKit/i);M&&B&&!T.match(/CriOS/i)&&Et().scrollHeight>window.innerHeight-44&&(ot().style.paddingBottom="".concat(44,"px"))},nl=()=>{const T=ot();let M;T.ontouchstart=B=>{M=Mf(B)},T.ontouchmove=B=>{M&&(B.preventDefault(),B.stopPropagation())}},Mf=T=>{const M=T.target,B=ot();return!(Ls(T)||kf(T)||M!==B&&(di(B)||"INPUT"===M.tagName||"TEXTAREA"===M.tagName||di(Ce())&&Ce().contains(M)))},Ls=T=>T.touches&&T.touches.length&&"stylus"===T.touches[0].touchType,kf=T=>T.touches&&T.touches.length>1,Fu=()=>{if(xr(document.body,ee.iosfix)){const T=parseInt(document.body.style.top,10);si(document.body,ee.iosfix),document.body.style.top="",document.body.scrollTop=-1*T}},Bu=T=>{const M=ot(),B=Et();"function"==typeof T.willOpen&&T.willOpen(B);const Ve=window.getComputedStyle(document.body).overflowY;ju(M,B,T),setTimeout(()=>{Vu(M,B)},10),ui()&&(Uu(M,T.scrollbarPadding,Ve),Y(document.body.children).forEach(M=>{M===ot()||M.contains(ot())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!ki()&&!lt.previousActiveElement&&(lt.previousActiveElement=document.activeElement),"function"==typeof T.didOpen&&setTimeout(()=>T.didOpen(B)),si(M,ee["no-transition"])},Yd=T=>{const M=Et();if(T.target!==M)return;const B=ot();M.removeEventListener(Re,Yd),B.style.overflowY="auto"},Vu=(T,M)=>{Re&&Li(M)?(T.style.overflowY="hidden",M.addEventListener(Re,Yd)):T.style.overflowY="auto"},Uu=(T,M,B)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!xr(document.body,ee.iosfix)){const M=document.body.scrollTop;document.body.style.top="".concat(-1*M,"px"),Jt(document.body,ee.iosfix),nl(),To()}})(),M&&"hidden"!==B&&Zl(),setTimeout(()=>{T.scrollTop=0})},ju=(T,M,B)=>{Jt(T,B.showClass.backdrop),M.style.setProperty("opacity","0","important"),ht(M,"grid"),setTimeout(()=>{Jt(M,B.showClass.popup),M.style.removeProperty("opacity")},10),Jt([document.documentElement,document.body],ee.shown),B.heightAuto&&B.backdrop&&!B.toast&&Jt([document.documentElement,document.body],ee["height-auto"])},va=T=>{let M=Et();M||new gs,M=Et();const B=Tt();ki()?Pt(It()):Do(M,T),ht(B),M.setAttribute("data-loading",!0),M.setAttribute("aria-busy",!0),M.focus()},Do=(T,M)=>{const B=xt(),J=Tt();!M&&An(et())&&(M=et()),ht(B),M&&(Pt(M),J.setAttribute("data-button-to-replace",M.className)),J.parentNode.insertBefore(J,M),Jt([T,B],ee.loading)},ba=T=>T.checked?1:0,Xd=T=>T.checked?T.value:null,zu=T=>T.files.length?null!==T.getAttribute("multiple")?T.files:T.files[0]:null,Bs=(T,M)=>{const B=Et(),J=Ve=>ao[M.input](B,Kl(Ve),M);Pe(M.inputOptions)||ne(M.inputOptions)?(va(et()),re(M.inputOptions).then(Ve=>{T.hideLoading(),J(Ve)})):"object"==typeof M.inputOptions?J(M.inputOptions):me("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof M.inputOptions))},il=(T,M)=>{const B=T.getInput();Pt(B),re(M.inputValue).then(J=>{B.value="number"===M.input?parseFloat(J)||0:"".concat(J),ht(B),B.focus(),T.hideLoading()}).catch(J=>{me("Error in inputValue promise: ".concat(J)),B.value="",ht(B),B.focus(),T.hideLoading()})},ao={select:(T,M,B)=>{const J=mn(T,ee.select),Ve=(Lt,ti,yr)=>{const Oi=document.createElement("option");Oi.value=yr,Gn(Oi,ti),Oi.selected=Gc(yr,B.inputValue),Lt.appendChild(Oi)};M.forEach(Lt=>{const ti=Lt[0],yr=Lt[1];if(Array.isArray(yr)){const Oi=document.createElement("optgroup");Oi.label=ti,Oi.disabled=!1,J.appendChild(Oi),yr.forEach(aa=>Ve(Oi,aa[1],aa[0]))}else Ve(J,yr,ti)}),J.focus()},radio:(T,M,B)=>{const J=mn(T,ee.radio);M.forEach(Lt=>{const ti=Lt[0],yr=Lt[1],Oi=document.createElement("input"),aa=document.createElement("label");Oi.type="radio",Oi.name=ee.radio,Oi.value=ti,Gc(ti,B.inputValue)&&(Oi.checked=!0);const js=document.createElement("span");Gn(js,yr),js.className=ee.label,aa.appendChild(Oi),aa.appendChild(js),J.appendChild(aa)});const Ve=J.querySelectorAll("input");Ve.length&&Ve[0].focus()}},Kl=T=>{const M=[];return typeof Map<"u"&&T instanceof Map?T.forEach((B,J)=>{let Ve=B;"object"==typeof Ve&&(Ve=Kl(Ve)),M.push([J,Ve])}):Object.keys(T).forEach(B=>{let J=T[B];"object"==typeof J&&(J=Kl(J)),M.push([B,J])}),M},Gc=(T,M)=>M&&M.toString()===T.toString();function rl(){const T=fe.innerParams.get(this);if(!T)return;const M=fe.domCache.get(this);Pt(M.loader),ki()?T.icon&&ht(It()):Jd(M),si([M.popup,M.actions],ee.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const Jd=T=>{const M=T.popup.getElementsByClassName(T.loader.getAttribute("data-button-to-replace"));M.length?ht(M[0],"inline-block"):!An(et())&&!An(Ge())&&!An(Fn())&&Pt(T.actions)};var ta={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const qc=()=>et()&&et().click(),li=T=>{T.keydownTarget&&T.keydownHandlerAdded&&(T.keydownTarget.removeEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!1)},Ea=(T,M,B)=>{const J=Hi();if(J.length)return(M+=B)===J.length?M=0:-1===M&&(M=J.length-1),J[M].focus();Et().focus()},Ri=["ArrowRight","ArrowDown"],ia=["ArrowLeft","ArrowUp"],ra=(T,M,B)=>{const J=fe.innerParams.get(T);J&&(M.isComposing||229===M.keyCode||(J.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?tr(T,M,J):"Tab"===M.key?eh(M,J):[...Ri,...ia].includes(M.key)?Ql(M.key):"Escape"===M.key&&Dr(M,J,B)))},tr=(T,M,B)=>{if(Ae(B.allowEnterKey)&&M.target&&T.getInput()&&M.target.outerHTML===T.getInput().outerHTML){if(["textarea","file"].includes(B.input))return;qc(),M.preventDefault()}},eh=(T,M)=>{const B=T.target,J=Hi();let Ve=-1;for(let Lt=0;Lt<J.length;Lt++)if(B===J[Lt]){Ve=Lt;break}Ea(0,Ve,T.shiftKey?-1:1),T.stopPropagation(),T.preventDefault()},Ql=T=>{if(![et(),Ge(),Fn()].includes(document.activeElement))return;const Ve=Ri.includes(T)?"nextElementSibling":"previousElementSibling";let Lt=document.activeElement;for(let ti=0;ti<xt().children.length;ti++){if(Lt=Lt[Ve],!Lt)return;if(An(Lt)&&Lt instanceof HTMLButtonElement)break}Lt instanceof HTMLButtonElement&&Lt.focus()},Dr=(T,M,B)=>{Ae(M.allowEscapeKey)&&(T.preventDefault(),B(ai.esc))};function Bi(T,M,B,J){ki()?Jl(T,J):(hi(B).then(()=>Jl(T,J)),li(lt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),ui()&&(tl(),Fu(),xo()),function ol(){si([document.documentElement,document.body],[ee.shown,ee["height-auto"],ee["no-backdrop"],ee["toast-shown"]])}()}function xs(T){T=en(T);const M=ta.swalPromiseResolve.get(this),B=lo(this);this.isAwaitingPromise()?T.isDismissed||(Vs(this),M(T)):B&&M(T)}const lo=T=>{const M=Et();if(!M)return!1;const B=fe.innerParams.get(T);if(!B||xr(M,B.hideClass.popup))return!1;si(M,B.showClass.popup),Jt(M,B.hideClass.popup);const J=ot();return si(J,B.showClass.backdrop),Jt(J,B.hideClass.backdrop),Xl(T,M,B),!0};const Vs=T=>{T.isAwaitingPromise()&&(fe.awaitingPromise.delete(T),fe.innerParams.get(T)||T._destroy())},en=T=>typeof T>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},T),Xl=(T,M,B)=>{const J=ot(),Ve=Re&&Li(M);"function"==typeof B.willClose&&B.willClose(M),Ve?th(T,M,J,B.returnFocus,B.didClose):Bi(T,J,B.returnFocus,B.didClose)},th=(T,M,B,J,Ve)=>{lt.swalCloseEventFinishedCallback=Bi.bind(null,T,B,J,Ve),M.addEventListener(Re,function(Lt){Lt.target===M&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback)})},Jl=(T,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(T.params)(),T._destroy()})};function ec(T,M,B){const J=fe.domCache.get(T);M.forEach(Ve=>{J[Ve].disabled=B})}function tc(T,M){if(!T)return!1;if("radio"===T.type){const J=T.parentNode.parentNode.querySelectorAll("input");for(let Ve=0;Ve<J.length;Ve++)J[Ve].disabled=M}else T.disabled=M}const Gu=T=>{const M={};return Object.keys(T).forEach(B=>{Me(B)?M[B]=T[B]:z('Invalid parameter to update: "'.concat(B,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),M};const ms=T=>{cl(T),delete T.params,delete lt.keydownHandler,delete lt.keydownTarget,delete lt.currentInstance},cl=T=>{T.isAwaitingPromise()?(nc(fe,T),fe.awaitingPromise.set(T,!0)):(nc(ta,T),nc(fe,T))},nc=(T,M)=>{for(const B in T)T[B].delete(M)};var Kc=Object.freeze({hideLoading:rl,disableLoading:rl,getInput:function Ao(T){const M=fe.innerParams.get(T||this),B=fe.domCache.get(T||this);return B?ri(B.popup,M.input):null},close:xs,isAwaitingPromise:function Hu(){return!!fe.awaitingPromise.get(this)},rejectPromise:function al(T){const M=ta.swalPromiseReject.get(this);Vs(this),M&&M(T)},handleAwaitingPromise:Vs,closePopup:xs,closeModal:xs,closeToast:xs,enableButtons:function $u(){ec(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Wu(){ec(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Pf(){return tc(this.getInput(),!1)},disableInput:function Te(){return tc(this.getInput(),!0)},showValidationMessage:function rn(T){const M=fe.domCache.get(this),B=fe.innerParams.get(this);Gn(M.validationMessage,T),M.validationMessage.className=ee["validation-message"],B.customClass&&B.customClass.validationMessage&&Jt(M.validationMessage,B.customClass.validationMessage),ht(M.validationMessage);const J=this.getInput();J&&(J.setAttribute("aria-invalid",!0),J.setAttribute("aria-describedby",ee["validation-message"]),Cs(J),Jt(J,ee.inputerror))},resetValidationMessage:function Zc(){const T=fe.domCache.get(this);T.validationMessage&&Pt(T.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),si(M,ee.inputerror))},getProgressSteps:function ll(){return fe.domCache.get(this).progressSteps},update:function Ci(T){const M=Et(),B=fe.innerParams.get(this);if(!M||xr(M,B.hideClass.popup))return z("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const J=Gu(T),Ve=Object.assign({},B,J);so(this,Ve),fe.innerParams.set(this,Ve),Object.defineProperties(this,{params:{value:Object.assign({},this.params,T),writable:!1,enumerable:!0}})},_destroy:function Ca(){const T=fe.domCache.get(this),M=fe.innerParams.get(this);M?(T.popup&&lt.swalCloseEventFinishedCallback&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback),lt.deferDisposalTimer&&(clearTimeout(lt.deferDisposalTimer),delete lt.deferDisposalTimer),"function"==typeof M.didDestroy&&M.didDestroy(),ms(this)):cl(this)}});const Ar=(T,M)=>{const B=fe.innerParams.get(T);if(!B.input)return me('The "input" parameter is needed to be set when using returnInputValueOn'.concat(u(M)));const J=((T,M)=>{const B=T.getInput();if(!B)return null;switch(M.input){case"checkbox":return ba(B);case"radio":return Xd(B);case"file":return zu(B);default:return M.inputAutoTrim?B.value.trim():B.value}})(T,B);B.inputValidator?ko(T,J,M):T.getInput().checkValidity()?"deny"===M?Ss(T,J):co(T,J):(T.enableButtons(),T.showValidationMessage(B.validationMessage))},ko=(T,M,B)=>{const J=fe.innerParams.get(T);T.disableInput(),Promise.resolve().then(()=>re(J.inputValidator(M,J.validationMessage))).then(Lt=>{T.enableButtons(),T.enableInput(),Lt?T.showValidationMessage(Lt):"deny"===B?Ss(T,M):co(T,M)})},Ss=(T,M)=>{const B=fe.innerParams.get(T||void 0);B.showLoaderOnDeny&&va(Ge()),B.preDeny?(fe.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>re(B.preDeny(M,B.validationMessage))).then(Ve=>{!1===Ve?(T.hideLoading(),Vs(T)):T.closePopup({isDenied:!0,value:typeof Ve>"u"?M:Ve})}).catch(Ve=>Yc(T||void 0,Ve))):T.closePopup({isDenied:!0,value:M})},Is=(T,M)=>{T.closePopup({isConfirmed:!0,value:M})},Yc=(T,M)=>{T.rejectPromise(M)},co=(T,M)=>{const B=fe.innerParams.get(T||void 0);B.showLoaderOnConfirm&&va(),B.preConfirm?(T.resetValidationMessage(),fe.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>re(B.preConfirm(M,B.validationMessage))).then(Ve=>{An(He())||!1===Ve?(T.hideLoading(),Vs(T)):Is(T,typeof Ve>"u"?M:Ve)}).catch(Ve=>Yc(T||void 0,Ve))):Is(T,M)},Rf=(T,M,B)=>{M.popup.onclick=()=>{const J=fe.innerParams.get(T);J&&(xi(J)||J.timer||J.input)||B(ai.close)}},xi=T=>T.showConfirmButton||T.showDenyButton||T.showCancelButton||T.showCloseButton;let sa=!1;const ul=T=>{T.popup.onmousedown=()=>{T.container.onmouseup=function(M){T.container.onmouseup=void 0,M.target===T.container&&(sa=!0)}}},Zu=T=>{T.container.onmousedown=()=>{T.popup.onmouseup=function(M){T.popup.onmouseup=void 0,(M.target===T.popup||T.popup.contains(M.target))&&(sa=!0)}}},ic=(T,M,B)=>{M.container.onclick=J=>{const Ve=fe.innerParams.get(T);sa?sa=!1:J.target===M.container&&Ae(Ve.allowOutsideClick)&&B(ai.backdrop)}},oa=T=>T instanceof Element||(T=>"object"==typeof T&&T.jquery)(T);const Jc=()=>{if(lt.timeout)return(()=>{const T=pn(),M=parseInt(window.getComputedStyle(T).width);T.style.removeProperty("transition"),T.style.width="100%";const J=M/parseInt(window.getComputedStyle(T).width)*100;T.style.removeProperty("transition"),T.style.width="".concat(J,"%")})(),lt.timeout.stop()},sc=()=>{if(lt.timeout){const T=lt.timeout.start();return cn(T),T}};let ei=!1;const oc={};const eu=T=>{for(let M=T.target;M&&M!==document;M=M.parentNode)for(const B in oc){const J=M.getAttribute(B);if(J)return void oc[B].fire({template:J})}};var Of=Object.freeze({isValidParameter:Ct,isUpdatableParameter:Me,isDeprecatedParameter:$e,argsToParams:T=>{const M={};return"object"!=typeof T[0]||oa(T[0])?["title","html","icon"].forEach((B,J)=>{const Ve=T[J];"string"==typeof Ve||oa(Ve)?M[B]=Ve:void 0!==Ve&&me("Unexpected type of ".concat(B,'! Expected "string" or "Element", got ').concat(typeof Ve))}):Object.assign(M,T[0]),M},isVisible:()=>An(Et()),clickConfirm:qc,clickDeny:()=>Ge()&&Ge().click(),clickCancel:()=>Fn()&&Fn().click(),getContainer:ot,getPopup:Et,getTitle:no,getHtmlContainer:Ce,getImage:ke,getIcon:It,getInputLabel:()=>dt(ee["input-label"]),getCloseButton:Dn,getActions:xt,getConfirmButton:et,getDenyButton:Ge,getCancelButton:Fn,getLoader:Tt,getFooter:Bt,getTimerProgressBar:pn,getFocusableElements:Hi,getValidationMessage:He,isLoading:()=>Et().hasAttribute("data-loading"),fire:function dl(){for(var M=arguments.length,B=new Array(M),J=0;J<M;J++)B[J]=arguments[J];return new this(...B)},mixin:function Xc(T){return class M extends(this){_main(J,Ve){return super._main(J,Object.assign({},T,Ve))}}},showLoading:va,enableLoading:va,getTimerLeft:()=>lt.timeout&&lt.timeout.getTimerLeft(),stopTimer:Jc,resumeTimer:sc,toggleTimer:()=>{const T=lt.timeout;return T&&(T.running?Jc():sc())},increaseTimer:T=>{if(lt.timeout){const M=lt.timeout.increase(T);return cn(M,!0),M}},isTimerRunning:()=>lt.timeout&&lt.timeout.isRunning(),bindClickHandler:function Sa(){oc[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ei||(document.body.addEventListener("click",eu),ei=!0)}});let ac;class hl{constructor(){if(typeof window>"u")return;ac=this;for(var M=arguments.length,B=new Array(M),J=0;J<M;J++)B[J]=arguments[J];const Ve=Object.freeze(this.constructor.argsToParams(B));Object.defineProperties(this,{params:{value:Ve,writable:!1,enumerable:!0,configurable:!0}});const Lt=this._main(this.params);fe.promise.set(this,Lt)}_main(M){let B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(T=>{!T.backdrop&&T.allowOutsideClick&&z('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in T)Ke(M),T.toast&&Xe(M),je(M)})(Object.assign({},B,M)),lt.currentInstance&&(lt.currentInstance._destroy(),ui()&&xo()),lt.currentInstance=this;const J=tu(M,B);ps(J),Object.freeze(J),lt.timeout&&(lt.timeout.stop(),delete lt.timeout),clearTimeout(lt.restoreFocusTimeout);const Ve=Qu(this);return so(this,J),fe.innerParams.set(this,J),lc(this,Ve,J)}then(M){return fe.promise.get(this).then(M)}finally(M){return fe.promise.get(this).finally(M)}}const lc=(T,M,B)=>new Promise((J,Ve)=>{const Lt=ti=>{T.closePopup({isDismissed:!0,dismiss:ti})};ta.swalPromiseResolve.set(T,J),ta.swalPromiseReject.set(T,Ve),M.confirmButton.onclick=()=>(T=>{const M=fe.innerParams.get(T);T.disableButtons(),M.input?Ar(T,"confirm"):co(T,!0)})(T),M.denyButton.onclick=()=>(T=>{const M=fe.innerParams.get(T);T.disableButtons(),M.returnInputValueOnDeny?Ar(T,"deny"):Ss(T,!1)})(T),M.cancelButton.onclick=()=>((T,M)=>{T.disableButtons(),M(ai.cancel)})(T,Lt),M.closeButton.onclick=()=>Lt(ai.close),((T,M,B)=>{fe.innerParams.get(T).toast?Rf(T,M,B):(ul(M),Zu(M),ic(T,M,B))})(T,M,Lt),((T,M,B,J)=>{li(M),B.toast||(M.keydownHandler=Ve=>ra(T,Ve,J),M.keydownTarget=B.keydownListenerCapture?window:Et(),M.keydownListenerCapture=B.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(T,lt,B,Lt),((T,M)=>{"select"===M.input||"radio"===M.input?Bs(T,M):["text","email","number","tel","textarea"].includes(M.input)&&(Pe(M.inputValue)||ne(M.inputValue))&&(va(et()),il(T,M))})(T,B),Bu(B),Xu(lt,B,Lt),cc(M,B),setTimeout(()=>{M.container.scrollTop=0})}),tu=(T,M)=>{const B=(T=>{const M="string"==typeof T.template?document.querySelector(T.template):T.template;if(!M)return{};const B=M.content;return Io(B),Object.assign(gr(B),qn(B),fs(B),Wc(B),el(B),ya(B,Br))})(T),J=Object.assign({},de,M,B,T);return J.showClass=Object.assign({},de.showClass,J.showClass),J.hideClass=Object.assign({},de.hideClass,J.hideClass),J},Qu=T=>{const M={popup:Et(),container:ot(),actions:xt(),confirmButton:et(),denyButton:Ge(),cancelButton:Fn(),loader:Tt(),closeButton:Dn(),validationMessage:He(),progressSteps:Ue()};return fe.domCache.set(T,M),M},Xu=(T,M,B)=>{const J=pn();Pt(J),M.timer&&(T.timeout=new ea(()=>{B("timer"),delete T.timeout},M.timer),M.timerProgressBar&&(ht(J),gt(J,M,"timerProgressBar"),setTimeout(()=>{T.timeout&&T.timeout.running&&cn(M.timer)})))},cc=(T,M)=>{if(!M.toast){if(!Ae(M.allowEnterKey))return fl();Ia(T,M)||Ea(0,-1,1)}},Ia=(T,M)=>M.focusDeny&&An(T.denyButton)?(T.denyButton.focus(),!0):M.focusCancel&&An(T.cancelButton)?(T.cancelButton.focus(),!0):!(!M.focusConfirm||!An(T.confirmButton)||(T.confirmButton.focus(),0)),fl=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(hl.prototype,Kc),Object.assign(hl,Of),Object.keys(Kc).forEach(T=>{hl[T]=function(){if(ac)return ac[T](...arguments)}}),hl.DismissReason=ai,hl.version="11.4.8";const gs=hl;return gs.default=gs,gs}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Le,G){var u=Le.createElement("style");if(Le.getElementsByTagName("head")[0].appendChild(u),u.styleSheet)u.styleSheet.disabled||(u.styleSheet.cssText=G);else try{u.innerHTML=G}catch{u.innerText=G}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},4650:(jt,Le,G)=>{"use strict";G.d(Le,{$8M:()=>ou,$WT:()=>er,$Z:()=>Zx,AFp:()=>kc,ALo:()=>nI,AaK:()=>Ae,CHM:()=>Zc,CRH:()=>BP,CZH:()=>Zy,CqO:()=>pg,D6c:()=>nz,DdM:()=>G0,EJc:()=>Nj,EiD:()=>Pb,EpF:()=>vS,F$t:()=>SS,F4k:()=>bS,FYo:()=>En,FiY:()=>El,Gf:()=>FP,GfV:()=>kx,Gpc:()=>ne,Hsn:()=>Zh,JOm:()=>ho,JVY:()=>e1,JZr:()=>Ct,KtG:()=>ll,L6k:()=>Tb,LAX:()=>t1,LFG:()=>lt,LSH:()=>wx,Lbi:()=>Dd,Lck:()=>tj,MAs:()=>E0,MMx:()=>W0,MR2:()=>Yn,NdJ:()=>S0,OlP:()=>Nn,Oqu:()=>VS,P3R:()=>f1,PXZ:()=>gR,Q6J:()=>xd,QGY:()=>x0,QbO:()=>Rj,Qsj:()=>qm,R0b:()=>Uo,RDi:()=>QM,Rgc:()=>Wy,SBq:()=>lp,Sil:()=>SI,Suo:()=>LP,TTD:()=>Gc,TgZ:()=>fg,Tol:()=>Vo,Udp:()=>Ty,VKq:()=>Jh,W1O:()=>zP,WFA:()=>I0,X6Q:()=>zI,XFs:()=>gt,Xpm:()=>ln,Xts:()=>Cx,Y36:()=>pp,YKP:()=>cP,YNc:()=>b0,Yjl:()=>yn,Yz7:()=>Bt,Z0I:()=>Hi,ZZ4:()=>gw,_Bn:()=>lP,_UZ:()=>Sp,_Vd:()=>Rh,_c5:()=>tT,_uU:()=>_k,aQg:()=>yw,c2e:()=>Ky,cJS:()=>Dn,cg1:()=>HS,d8E:()=>zS,dDg:()=>pR,dqk:()=>mn,eBb:()=>px,eFA:()=>xg,eJc:()=>Gy,ekj:()=>P0,eoX:()=>MI,evT:()=>Lb,f3M:()=>hi,g9A:()=>rw,h0i:()=>yg,hGG:()=>nT,hij:()=>Py,iGM:()=>NP,ifc:()=>W,ip1:()=>tw,jDz:()=>XS,kL8:()=>Ok,lG2:()=>Xt,lcZ:()=>iI,lqb:()=>Ui,lri:()=>fR,mCW:()=>W_,n5z:()=>ah,oAB:()=>ge,oJD:()=>Ob,oxw:()=>xS,pB0:()=>Db,q3G:()=>Rr,q4F:()=>Px,qLn:()=>ry,qOj:()=>h0,qZA:()=>qh,qzn:()=>ip,rWj:()=>AI,sBO:()=>Wj,s_b:()=>K0,soG:()=>sw,tBr:()=>mh,tb:()=>dw,tp0:()=>Cl,uIk:()=>Cy,vHH:()=>Me,vpe:()=>Su,wAp:()=>on,xp6:()=>Km,z2F:()=>fw,z3N:()=>La,zSh:()=>Nb,zs3:()=>bd});var u=G(7579),Y=G(727),z=G(9751),me=G(6451),we=G(3099);function he(a){for(let l in a)if(a[l]===he)return l;throw Error("Could not find renamed property on target object.")}function Ne(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function Ae(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Ae).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function Pe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const re=he({__forward_ref__:he});function ne(a){return a.__forward_ref__=ne,a.toString=function(){return Ae(this())},a}function de(a){return rt(a)?a():a}function rt(a){return"function"==typeof a&&a.hasOwnProperty(re)&&a.__forward_ref__===ne}function ze(a){return a&&!!a.\u0275providers}const Ct="https://g.co/ng/security#xss";class Me extends Error{constructor(l,d){super($e(l,d)),this.code=l}}function $e(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}function Ke(a){return"string"==typeof a?a:null==a?"":String(a)}function it(a,l){throw new Me(-201,!1)}function Ge(a,l){null==a&&function Ze(a,l,d,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${d} ${f} ${l} <=Actual]`))}(l,a,null,"!=")}function Bt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Dn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Zn(a){return ui(a,Fi)||ui(a,xr)}function Hi(a){return null!==Zn(a)}function ui(a,l){return a.hasOwnProperty(l)?a[l]:null}function vi(a){return a&&(a.hasOwnProperty(Gn)||a.hasOwnProperty(pi))?a[Gn]:null}const Fi=he({\u0275prov:he}),Gn=he({\u0275inj:he}),xr=he({ngInjectableDef:he}),pi=he({ngInjectorDef:he});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let ri;function mi(a){const l=ri;return ri=a,l}function Jt(a,l,d){const f=Zn(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&gt.Optional?null:void 0!==l?l:void it(Ae(a))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gi={},Pi="__NG_DI_FLAG__",An="ngTempTokenPath",Sr="ngTokenPath",di=/\n/gm,Li="\u0275",cn="__source";let Qr;function gn(a){const l=Qr;return Qr=a,l}function Lr(a,l=gt.Default){if(void 0===Qr)throw new Me(-203,!1);return null===Qr?Jt(a,void 0,l):Qr.get(a,l&gt.Optional?null:void 0,l)}function lt(a,l=gt.Default){return(function Cs(){return ri}()||Lr)(de(a),l)}function hi(a,l=gt.Default){return lt(a,Ji(l))}function Ji(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function wi(a){const l=[];for(let d=0;d<a.length;d++){const f=de(a[d]);if(Array.isArray(f)){if(0===f.length)throw new Me(900,!1);let m,y=gt.Default;for(let w=0;w<f.length;w++){const I=f[w],P=pr(I);"number"==typeof P?-1===P?m=I.token:y|=P:m=I}l.push(lt(m,y))}else l.push(lt(f))}return l}function Ei(a,l){return a[Pi]=l,a.prototype[Pi]=l,a}function pr(a){return a[Pi]}function Q(a){return{toString:a}.toString()}var $=(()=>(($=$||{})[$.OnPush=0]="OnPush",$[$.Default=1]="Default",$))(),W=(()=>{return(a=W||(W={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",W;var a})();const U={},oe=[],Re=he({\u0275cmp:he}),vt=he({\u0275dir:he}),Kt=he({\u0275pipe:he}),Wt=he({\u0275mod:he}),_n=he({\u0275fac:he}),Yt=he({__NG_ELEMENT_ID__:he});let Kn=0;function ln(a){return Q(()=>{const l=Gl(a),d={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||W.Emulated,id:"c"+Kn++,styles:a.styles||oe,_:null,schemas:a.schemas||null,tView:null};Kd(d);const f=a.dependencies;return d.directiveDefs=Co(f,!1),d.pipeDefs=Co(f,!0),d})}function io(a){return zt(a)||On(a)}function fe(a){return null!==a}function ge(a){return Q(()=>({type:a.type,bootstrap:a.bootstrap||oe,declarations:a.declarations||oe,imports:a.imports||oe,exports:a.exports||oe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Ft(a,l){if(null==a)return U;const d={};for(const f in a)if(a.hasOwnProperty(f)){let m=a[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),d[m]=f,l&&(l[m]=y)}return d}function Xt(a){return Q(()=>{const l=Gl(a);return Kd(l),l})}function yn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function zt(a){return a[Re]||null}function On(a){return a[vt]||null}function vn(a){return a[Kt]||null}function er(a){const l=zt(a)||On(a)||vn(a);return null!==l&&l.standalone}function Ln(a,l){const d=a[Wt]||null;if(!d&&!0===l)throw new Error(`Type ${Ae(a)} does not have '\u0275mod' property.`);return d}function Gl(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||oe,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ft(a.inputs,l),outputs:Ft(a.outputs)}}function Kd(a){a.features?.forEach(l=>l(a))}function Co(a,l){if(!a)return null;const d=l?vn:io;return()=>("function"==typeof a?a():a).map(f=>d(f)).filter(fe)}const Wi=0,mt=1,un=2,oi=3,Bn=4,ro=5,Gi=6,Fs=7,_i=8,Xa=9,mr=10,dn=11,ql=12,hs=13,Ja=14,so=15,ai=16,Jo=17,xo=18,Br=19,So=20,gr=21,qn=22,Wc=1,el=2,ya=7,Io=8,Xr=9,qi=10;function Tr(a){return Array.isArray(a)&&"object"==typeof a[Wc]}function ps(a){return Array.isArray(a)&&!0===a[Wc]}function ea(a){return 0!=(4&a.flags)}function Zl(a){return a.componentOffset>-1}function tl(a){return 1==(1&a.flags)}function Vr(a){return!!a.template}function To(a){return 0!=(256&a[un])}function ao(a,l){return a.hasOwnProperty(_n)?a[_n]:null}class Kl{constructor(l,d,f){this.previousValue=l,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Gc(){return rl}function rl(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ao),Jd}function Jd(){const a=Yl(this),l=a?.current;if(l){const d=a.previous;if(d===U)a.previous=l;else for(let f in l)d[f]=l[f];a.current=null,this.ngOnChanges(l)}}function Ao(a,l,d,f){const m=this.declaredInputs[d],y=Yl(a)||function qc(a,l){return a[ta]=l}(a,{previous:U,current:null}),w=y.current||(y.current={}),I=y.previous,P=I[m];w[m]=new Kl(P&&P.currentValue,l,I===U),a[f]=l}Gc.ngInherit=!0;const ta="__ngSimpleChanges__";function Yl(a){return a[ta]||null}const li=function(a,l,d){};function Ri(a){for(;Array.isArray(a);)a=a[Wi];return a}function ra(a,l){return Ri(l[a])}function tr(a,l){return Ri(l[a.index])}function Ql(a,l){return a.data[l]}function Dr(a,l){return a[l]}function Bi(a,l){const d=l[a];return Tr(d)?d:d[Wi]}function xs(a){return 64==(64&a[un])}function lo(a,l){return null==l?null:a[l]}function al(a){a[xo]=0}function Vs(a,l){a[ro]+=l;let d=a,f=a[oi];for(;null!==f&&(1===l&&1===d[ro]||-1===l&&0===d[ro]);)f[ro]+=l,d=f,f=f[oi]}const en={lFrame:dl(null),bindingsEnabled:!0};function $u(){return en.bindingsEnabled}function Te(){return en.lFrame.lView}function rn(){return en.lFrame.tView}function Zc(a){return en.lFrame.contextLView=a,a[_i]}function ll(a){return en.lFrame.contextLView=null,a}function Ci(){let a=Gu();for(;null!==a&&64===a.type;)a=a.parent;return a}function Gu(){return en.lFrame.currentTNode}function ms(a,l){const d=en.lFrame;d.currentTNode=a,d.isParent=l}function cl(){return en.lFrame.isParent}function nc(){en.lFrame.isParent=!1}function nr(){const a=en.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ss(){return en.lFrame.bindingIndex++}function Is(a){const l=en.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}function qu(a,l){const d=en.lFrame;d.bindingIndex=d.bindingRootIndex=a,xi(l)}function xi(a){en.lFrame.currentDirectiveIndex=a}function sa(a){const l=en.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function ul(){return en.lFrame.currentQueryIndex}function Zu(a){en.lFrame.currentQueryIndex=a}function ic(a){const l=a[mt];return 2===l.type?l.declTNode:1===l.type?a[Gi]:null}function Ku(a,l,d){if(d&gt.SkipSelf){let m=l,y=a;for(;!(m=m.parent,null!==m||d&gt.Host||(m=ic(y),null===m||(y=y[so],10&m.type))););if(null===m)return!1;l=m,a=y}const f=en.lFrame=Qc();return f.currentTNode=l,f.lView=a,!0}function oa(a){const l=Qc(),d=a[mt];en.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function Qc(){const a=en.lFrame,l=null===a?null:a.child;return null===l?dl(a):l}function dl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Xc(){const a=en.lFrame;return en.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const rc=Xc;function Jc(){const a=Xc();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function _r(){return en.lFrame.selectedIndex}function Us(a){en.lFrame.selectedIndex=a}function ei(){const a=en.lFrame;return Ql(a.tView,a.selectedIndex)}function lc(a,l){for(let d=l.directiveStart,f=l.directiveEnd;d<f;d++){const y=a.data[d].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:O,ngOnDestroy:j}=y;w&&(a.contentHooks??(a.contentHooks=[])).push(-d,w),I&&((a.contentHooks??(a.contentHooks=[])).push(d,I),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(d,I)),P&&(a.viewHooks??(a.viewHooks=[])).push(-d,P),O&&((a.viewHooks??(a.viewHooks=[])).push(d,O),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(d,O)),null!=j&&(a.destroyHooks??(a.destroyHooks=[])).push(d,j)}}function tu(a,l,d){cc(a,l,3,d)}function Qu(a,l,d,f){(3&a[un])===d&&cc(a,l,d,f)}function Xu(a,l){let d=a[un];(3&d)===l&&(d&=2047,d+=1,a[un]=d)}function cc(a,l,d,f){const y=f??-1,w=l.length-1;let I=0;for(let P=void 0!==f?65535&a[xo]:0;P<w;P++)if("number"==typeof l[P+1]){if(I=l[P],null!=f&&I>=f)break}else l[P]<0&&(a[xo]+=65536),(I<y||-1==y)&&(Ia(a,d,l,P),a[xo]=(4294901760&a[xo])+P+2),P++}function Ia(a,l,d,f){const m=d[f]<0,y=d[f+1],I=a[m?-d[f]:d[f]];if(m){if(a[un]>>11<a[xo]>>16&&(3&a[un])===l){a[un]+=2048,li(4,I,y);try{y.call(I)}finally{li(5,I,y)}}}else{li(4,I,y);try{y.call(I)}finally{li(5,I,y)}}}const fl=-1;class gs{constructor(l,d,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Oi(a,l,d){let f=0;for(;f<d.length;){const m=d[f];if("number"==typeof m){if(0!==m)break;f++;const y=d[f++],w=d[f++],I=d[f++];a.setAttribute(l,w,I,y)}else{const y=m,w=d[++f];js(y)?a.setProperty(l,y,w):a.setAttribute(l,y,w),f++}}return f}function aa(a){return 3===a||4===a||6===a}function js(a){return 64===a.charCodeAt(0)}function pl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let f=0;f<l.length;f++){const m=l[f];"number"==typeof m?d=m:0===d||uc(a,d,m,null,-1===d||2===d?l[++f]:null)}}return a}function uc(a,l,d,f,m){let y=0,w=a.length;if(-1===l)w=-1;else for(;y<a.length;){const I=a[y++];if("number"==typeof I){if(I===l){w=-1;break}if(I>l){w=y-1;break}}}for(;y<a.length;){const I=a[y];if("number"==typeof I)break;if(I===d){if(null===f)return void(null!==m&&(a[y+1]=m));if(f===a[y+1])return void(a[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==w&&(a.splice(w,0,l),y=w+1),a.splice(y++,0,d),null!==f&&a.splice(y++,0,f),null!==m&&a.splice(y++,0,m)}function ml(a){return a!==fl}function dc(a){return 32767&a}function iu(a,l){let d=function nu(a){return a>>16}(a),f=l;for(;d>0;)f=f[so],d--;return f}let nh=!0;function ru(a){const l=nh;return nh=a,l}const ih=255,Ju=5;let rh=0;const Jr={};function sh(a,l){const d=Ff(a,l);if(-1!==d)return d;const f=l[mt];f.firstCreatePass&&(a.injectorIndex=l.length,Po(f.data,a),Po(l,null),Po(f.blueprint,null));const m=Vi(a,l),y=a.injectorIndex;if(ml(m)){const w=dc(m),I=iu(m,l),P=I[mt].data;for(let O=0;O<8;O++)l[y+O]=I[w+O]|P[w+O]}return l[y+8]=m,y}function Po(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Ff(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Vi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,f=null,m=l;for(;null!==m;){if(f=gl(m),null===f)return fl;if(d++,m=m[so],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return fl}function Ta(a,l,d){!function Nf(a,l,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Yt)&&(f=d[Yt]),null==f&&(f=d[Yt]=rh++);const m=f&ih;l.data[a+(m>>Ju)]|=1<<m}(a,l,d)}function Lf(a,l,d){if(d&gt.Optional||void 0!==a)return a;it()}function su(a,l,d,f){if(d&gt.Optional&&void 0===f&&(f=null),!(d&(gt.Self|gt.Host))){const m=a[Xa],y=mi(void 0);try{return m?m.get(l,f,d&gt.Optional):Jt(l,f,d&gt.Optional)}finally{mi(y)}}return Lf(f,0,d)}function Bf(a,l,d,f=gt.Default,m){if(null!==a){if(1024&l[un]){const w=function Mm(a,l,d,f,m){let y=a,w=l;for(;null!==y&&null!==w&&1024&w[un]&&!(256&w[un]);){const I=td(y,w,d,f|gt.Self,Jr);if(I!==Jr)return I;let P=y.parent;if(!P){const O=w[gr];if(O){const j=O.get(d,Jr,f);if(j!==Jr)return j}P=gl(w),w=w[so]}y=P}return m}(a,l,d,f,Jr);if(w!==Jr)return w}const y=td(a,l,d,f,Jr);if(y!==Jr)return y}return su(l,d,f,m)}function td(a,l,d,f,m){const y=function Am(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Yt)?a[Yt]:void 0;return"number"==typeof l?l>=0?l&ih:oh:l}(d);if("function"==typeof y){if(!Ku(l,a,f))return f&gt.Host?Lf(m,0,f):su(l,d,f,m);try{const w=y(f);if(null!=w||f&gt.Optional)return w;it()}finally{rc()}}else if("number"==typeof y){let w=null,I=Ff(a,l),P=fl,O=f&gt.Host?l[ai][Gi]:null;for((-1===I||f&gt.SkipSelf)&&(P=-1===I?Vi(a,l):l[I+8],P!==fl&&nd(f,!1)?(w=l[mt],I=dc(P),l=iu(P,l)):I=-1);-1!==I;){const j=l[mt];if(Da(y,I,j.data)){const K=ir(I,l,d,w,f,O);if(K!==Jr)return K}P=l[I+8],P!==fl&&nd(f,l[mt].data[I+8]===O)&&Da(y,I,l)?(w=j,I=dc(P),l=iu(P,l)):I=-1}}return m}function ir(a,l,d,f,m,y){const w=l[mt],I=w.data[a+8],j=hc(I,w,d,null==f?Zl(I)&&nh:f!=w&&0!=(3&I.type),m&gt.Host&&y===I);return null!==j?Si(l,w,j,I):Jr}function hc(a,l,d,f,m){const y=a.providerIndexes,w=l.data,I=1048575&y,P=a.directiveStart,j=y>>20,le=m?I+j:a.directiveEnd;for(let _e=f?I:I+j;_e<le;_e++){const Fe=w[_e];if(_e<P&&d===Fe||_e>=P&&Fe.type===d)return _e}if(m){const _e=w[P];if(_e&&Vr(_e)&&_e.type===d)return P}return null}function Si(a,l,d,f){let m=a[d];const y=l.data;if(function T(a){return a instanceof gs}(m)){const w=m;w.resolving&&function je(a,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Me(-200,`Circular dependency in DI detected for ${a}${d}`)}(function Xe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ke(a)}(y[d]));const I=ru(w.canSeeViewProviders);w.resolving=!0;const P=w.injectImpl?mi(w.injectImpl):null;Ku(a,f,gt.Default);try{m=a[d]=w.factory(void 0,y,a,f),l.firstCreatePass&&d>=f.directiveStart&&function hl(a,l,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=l.type.prototype;if(f){const w=rl(l);(d.preOrderHooks??(d.preOrderHooks=[])).push(a,w),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,w)}m&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-a,m),y&&((d.preOrderHooks??(d.preOrderHooks=[])).push(a,y),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,y))}(d,y[d],l)}finally{null!==P&&mi(P),ru(I),w.resolving=!1,rc()}}return m}function Da(a,l,d){return!!(d[l+(a>>Ju)]&1<<a)}function nd(a,l){return!(a&gt.Self||a&gt.Host&&l)}class fc{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,f){return Bf(this._tNode,this._lView,l,Ji(f),d)}}function oh(){return new fc(Ci(),Te())}function ah(a){return Q(()=>{const l=a.prototype.constructor,d=l[_n]||Aa(l),f=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==f;){const y=m[_n]||Aa(m);if(y&&y!==d)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function Aa(a){return rt(a)?()=>{const l=Aa(de(a));return l&&l()}:ao(a)}function gl(a){const l=a[mt],d=l.type;return 2===d?l.declTNode:1===d?a[Gi]:null}function ou(a){return function ed(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const y=d[m];if(aa(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(y===l)return d[m+1];m+=2}}}return null}(Ci(),a)}const yl="__parameters__";function vl(a,l,d){return Q(()=>{const f=function Vf(a){return function(...d){if(a){const f=a(...d);for(const m in f)this[m]=f[m]}}}(l);function m(...y){if(this instanceof m)return f.apply(this,y),this;const w=new m(...y);return I.annotation=w,I;function I(P,O,j){const K=P.hasOwnProperty(yl)?P[yl]:Object.defineProperty(P,yl,{value:[]})[yl];for(;K.length<=j;)K.push(null);return(K[j]=K[j]||[]).push(w),P}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Nn{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Bt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ma(a,l){a.forEach(d=>Array.isArray(d)?Ma(d,l):l(d))}function fh(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function au(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function pc(a,l){const d=[];for(let f=0;f<a;f++)d.push(l);return d}function zs(a,l,d){let f=Ni(a,l);return f>=0?a[1|f]=d:(f=~f,function lu(a,l,d,f){let m=a.length;if(m==l)a.push(d,f);else if(1===m)a.push(f,a[0]),a[0]=d;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=d,a[l+1]=f}}(a,f,l,d)),f}function ni(a,l){const d=Ni(a,l);if(d>=0)return a[1|d]}function Ni(a,l){return function ad(a,l,d){let f=0,m=a.length>>d;for(;m!==f;){const y=f+(m-f>>1),w=a[y<<d];if(l===w)return y<<d;w>l?m=y:f=y+1}return~(m<<d)}(a,l,1)}const mh=Ei(vl("Inject",a=>({token:a})),-1),El=Ei(vl("Optional"),8),Cl=Ei(vl("SkipSelf"),4);var ho=(()=>((ho=ho||{})[ho.Important=1]="Important",ho[ho.DashCase=2]="DashCase",ho))();const xh=new Map;let vb=0;const se="__ngContext__";function ce(a,l){Tr(l)?(a[se]=l[So],function Oa(a){xh.set(a[So],a)}(l)):a[se]=l}let Pr;function ns(a,l){return Pr(a,l)}function Cc(a){const l=a[oi];return ps(l)?l[oi]:l}function xc(a){return pd(a[hs])}function Zf(a){return pd(a[Bn])}function pd(a){for(;null!==a&&!ps(a);)a=a[Bn];return a}function hu(a,l,d,f,m){if(null!=f){let y,w=!1;ps(f)?y=f:Tr(f)&&(w=!0,f=f[Wi]);const I=Ri(f);0===a&&null!==d?null==m?Ds(l,d,I):bn(l,d,I,m||null,!0):1===a&&null!==d?bn(l,d,I,m||null,!0):2===a?function Ah(a,l,d){const f=md(a,l);f&&function Qf(a,l,d,f){a.removeChild(l,d,f)}(a,f,l,d)}(l,I,w):3===a&&l.destroyNode(I),null!=y&&function TV(a,l,d,f,m){const y=d[ya];y!==Ri(d)&&hu(l,a,f,y,m);for(let I=qi;I<d.length;I++){const P=d[I];tp(P[mt],P,a,l,f,y)}}(l,a,y,d,m)}}function j_(a,l,d){return a.createElement(l,d)}function S(a,l){const d=a[Xr],f=d.indexOf(l),m=l[oi];512&l[un]&&(l[un]&=-513,Vs(m,-1)),d.splice(f,1)}function F(a,l){if(a.length<=qi)return;const d=qi+l,f=a[d];if(f){const m=f[Jo];null!==m&&m!==a&&S(m,f),l>0&&(a[d-1][Bn]=f[Bn]);const y=au(a,qi+l);!function bb(a,l){tp(a,l,l[dn],2,null,null),l[Wi]=null,l[Gi]=null}(f[mt],f);const w=y[Br];null!==w&&w.detachView(y[mt]),f[oi]=null,f[Bn]=null,f[un]&=-65}return f}function H(a,l){if(!(128&l[un])){const d=l[dn];d.destroyNode&&tp(a,l,d,3,null,null),function E(a){let l=a[hs];if(!l)return ue(a[mt],a);for(;l;){let d=null;if(Tr(l))d=l[hs];else{const f=l[qi];f&&(d=f)}if(!d){for(;l&&!l[Bn]&&l!==a;)Tr(l)&&ue(l[mt],l),l=l[oi];null===l&&(l=a),Tr(l)&&ue(l[mt],l),d=l&&l[Bn]}l=d}}(l)}}function ue(a,l){if(!(128&l[un])){l[un]&=-65,l[un]|=128,function st(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let f=0;f<d.length;f+=2){const m=l[d[f]];if(!(m instanceof gs)){const y=d[f+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const I=m[y[w]],P=y[w+1];li(4,I,P);try{P.call(I)}finally{li(5,I,P)}}else{li(4,m,y);try{y.call(m)}finally{li(5,m,y)}}}}}(a,l),function xe(a,l){const d=a.cleanup,f=l[Fs];let m=-1;if(null!==d)for(let y=0;y<d.length-1;y+=2)if("string"==typeof d[y]){const w=d[y+3];w>=0?f[m=w]():f[m=-w].unsubscribe(),y+=2}else{const w=f[m=d[y+1]];d[y].call(w)}if(null!==f){for(let y=m+1;y<f.length;y++)(0,f[y])();l[Fs]=null}}(a,l),1===l[mt].type&&l[dn].destroy();const d=l[Jo];if(null!==d&&ps(l[oi])){d!==l[oi]&&S(d,l);const f=l[Br];null!==f&&f.detachView(a)}!function du(a){xh.delete(a[So])}(l)}}function _t(a,l,d){return function $t(a,l,d){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return d[Wi];{const{componentOffset:m}=f;if(m>-1){const{encapsulation:y}=a.data[f.directiveStart+m];if(y===W.None||y===W.Emulated)return null}return tr(f,d)}}(a,l.parent,d)}function bn(a,l,d,f,m){a.insertBefore(l,d,f,m)}function Ds(a,l,d){a.appendChild(l,d)}function Fa(a,l,d,f,m){null!==f?bn(a,l,d,f,m):Ds(a,l,d)}function md(a,l){return a.parentNode(l)}function z_(a,l,d){return Th(a,l,d)}let Jf,Eb,Sc,$_,Th=function Um(a,l,d){return 40&a.type?tr(a,d):null};function fu(a,l,d,f){const m=_t(a,f,l),y=l[dn],I=z_(f.parent||l[Gi],f,l);if(null!=m)if(Array.isArray(d))for(let P=0;P<d.length;P++)Fa(y,m,d[P],I,!1);else Fa(y,m,d,I,!1);void 0!==Jf&&Jf(y,f,l,d,m)}function ep(a,l){if(null!==l){const d=l.type;if(3&d)return tr(l,a);if(4&d)return zm(-1,a[l.index]);if(8&d){const f=l.child;if(null!==f)return ep(a,f);{const m=a[l.index];return ps(m)?zm(-1,m):Ri(m)}}if(32&d)return ns(l,a)()||Ri(a[l.index]);{const f=jm(a,l);return null!==f?Array.isArray(f)?f[0]:ep(Cc(a[ai]),f):ep(a,l.next)}}return null}function jm(a,l){return null!==l?a[ai][Gi].projection[l.projection]:null}function zm(a,l){const d=qi+a+1;if(d<l.length){const f=l[d],m=f[mt].firstChild;if(null!==m)return ep(f,m)}return l[ya]}function Ml(a,l,d,f,m,y,w){for(;null!=d;){const I=f[d.index],P=d.type;if(w&&0===l&&(I&&ce(Ri(I),f),d.flags|=2),32!=(32&d.flags))if(8&P)Ml(a,l,d.child,f,m,y,!1),hu(l,a,m,I,y);else if(32&P){const O=ns(d,f);let j;for(;j=O();)hu(l,a,m,j,y);hu(l,a,m,I,y)}else 16&P?gd(a,l,f,d,m,y):hu(l,a,m,I,y);d=w?d.projectionNext:d.next}}function tp(a,l,d,f,m,y){Ml(d,f,a.firstChild,l,m,y,!1)}function gd(a,l,d,f,m,y){const w=d[ai],P=w[Gi].projection[f.projection];if(Array.isArray(P))for(let O=0;O<P.length;O++)hu(l,a,m,P[O],y);else Ml(a,l,P,w[oi],m,y,!0)}function qM(a,l,d){""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d)}function ZM(a,l,d){const{mergedAttrs:f,classes:m,styles:y}=d;null!==f&&Oi(a,l,f),null!==m&&qM(a,l,m),null!==y&&function ax(a,l,d){a.setAttribute(l,"style",d)}(a,l,y)}function np(a){return function lx(){if(void 0===Eb&&(Eb=null,mn.trustedTypes))try{Eb=mn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Eb}()?.createHTML(a)||a}function QM(a){Sc=a}function ux(){if(void 0===$_&&($_=null,mn.trustedTypes))try{$_=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return $_}function Cb(a){return ux()?.createHTML(a)||a}function xb(a){return ux()?.createScriptURL(a)||a}class Mh{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}class hx extends Mh{getTypeName(){return"HTML"}}class Sb extends Mh{getTypeName(){return"Style"}}class XM extends Mh{getTypeName(){return"Script"}}class fx extends Mh{getTypeName(){return"URL"}}class JM extends Mh{getTypeName(){return"ResourceURL"}}function La(a){return a instanceof Mh?a.changingThisBreaksApplicationSecurity:a}function ip(a,l){const d=function Ib(a){return a instanceof Mh&&a.getTypeName()||null}(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${Ct})`)}return d===l}function e1(a){return new hx(a)}function Tb(a){return new Sb(a)}function px(a){return new XM(a)}function t1(a){return new fx(a)}function Db(a){return new JM(a)}class gx{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(np(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch{return null}}}class n1{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const d=this.inertDocument.createElement("template");return d.innerHTML=np(l),d}}const r1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function W_(a){return(a=String(a)).match(r1)?a:"unsafe:"+a}function Ic(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function Hm(...a){const l={};for(const d of a)for(const f in d)d.hasOwnProperty(f)&&(l[f]=!0);return l}const s1=Ic("area,br,col,hr,img,wbr"),G_=Ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_x=Ic("rp,rt"),Mb=Hm(s1,Hm(G_,Ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hm(_x,Ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hm(_x,G_)),q_=Ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yx=Hm(q_,Ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),c1=Ic("script,style,template");class sp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!Mb.hasOwnProperty(d))return this.sanitizedSomething=!0,!c1.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=l.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),w=y.name,I=w.toLowerCase();if(!yx.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=y.value;q_[I]&&(P=W_(P)),this.buf.push(" ",w,'="',kb(P),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();Mb.hasOwnProperty(d)&&!s1.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(kb(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const vx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u1=/([^\#-~ |!])/g;function kb(a){return a.replace(/&/g,"&amp;").replace(vx,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(u1,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Z_;function Pb(a,l){let d=null;try{Z_=Z_||function mx(a){const l=new n1(a);return function Ab(){try{return!!(new window.DOMParser).parseFromString(np(""),"text/html")}catch{return!1}}()?new gx(l):l}(a);let f=l?String(l):"";d=Z_.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=d.innerHTML,d=Z_.getInertBodyElement(f)}while(f!==y);return np((new sp).sanitizeChildren(Rb(d)||d))}finally{if(d){const f=Rb(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Rb(a){return"content"in a&&function bx(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();function Ob(a){const l=K_();return l?Cb(l.sanitize(Rr.HTML,a)||""):ip(a,"HTML")?Cb(La(a)):Pb(function H_(){return void 0!==Sc?Sc:typeof document<"u"?document:void 0}(),Ke(a))}function wx(a){const l=K_();return l?l.sanitize(Rr.URL,a)||"":ip(a,"URL")?La(a):W_(Ke(a))}function d1(a){const l=K_();if(l)return xb(l.sanitize(Rr.RESOURCE_URL,a)||"");if(ip(a,"ResourceURL"))return xb(La(a));throw new Me(904,!1)}function f1(a,l,d){return function kV(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?d1:wx}(l,d)(a)}function K_(){const a=Te();return a&&a[ql]}const Cx=new Nn("ENVIRONMENT_INITIALIZER"),xx=new Nn("INJECTOR",-1),Sx=new Nn("INJECTOR_DEF_TYPES");class Ot{get(l,d=gi){if(d===gi){const f=new Error(`NullInjectorError: No provider for ${Ae(l)}!`);throw f.name="NullInjectorError",f}return d}}function Yn(a){return{\u0275providers:a}}function da(...a){return{\u0275providers:Ix(0,a),\u0275fromNgModule:!0}}function Ix(a,...l){const d=[],f=new Set;let m;return Ma(l,y=>{const w=y;kh(w,d,[],f)&&(m||(m=[]),m.push(w))}),void 0!==m&&$m(m,d),d}function $m(a,l){for(let d=0;d<a.length;d++){const{providers:m}=a[d];Wm(m,y=>{l.push(y)})}}function kh(a,l,d,f){if(!(a=de(a)))return!1;let m=null,y=vi(a);const w=!y&&zt(a);if(y||w){if(w&&!w.standalone)return!1;m=a}else{const P=a.ngModule;if(y=vi(P),!y)return!1;m=P}const I=f.has(m);if(w){if(I)return!1;if(f.add(m),w.dependencies){const P="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const O of P)kh(O,l,d,f)}}else{if(!y)return!1;{if(null!=y.imports&&!I){let O;f.add(m);try{Ma(y.imports,j=>{kh(j,l,d,f)&&(O||(O=[]),O.push(j))})}finally{}void 0!==O&&$m(O,l)}if(!I){const O=ao(m)||(()=>new m);l.push({provide:m,useFactory:O,deps:oe},{provide:Sx,useValue:m,multi:!0},{provide:Cx,useValue:()=>lt(m),multi:!0})}const P=y.providers;null==P||I||Wm(P,j=>{l.push(j)})}}return m!==a&&void 0!==a.providers}function Wm(a,l){for(let d of a)ze(d)&&(d=d.\u0275providers),Array.isArray(d)?Wm(d,l):l(d)}const p1=he({provide:String,useValue:he});function Y_(a){return null!==a&&"object"==typeof a&&p1 in a}function Ba(a){return"function"==typeof a}const Nb=new Nn("Set Injector scope."),fo={},Ph={};let Tc;function Dc(){return void 0===Tc&&(Tc=new Ot),Tc}class Ui{}class X_ extends Ui{get destroyed(){return this._destroyed}constructor(l,d,f,m){super(),this.parent=d,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fb(l,w=>this.processProvider(w)),this.records.set(xx,ji(void 0,this)),m.has("environment")&&this.records.set(Ui,ji(void 0,this));const y=this.records.get(Nb);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Sx.multi,oe,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const d=gn(this),f=mi(void 0);try{return l()}finally{gn(d),mi(f)}}get(l,d=gi,f=gt.Default){this.assertNotDestroyed(),f=Ji(f);const m=gn(this),y=mi(void 0);try{if(!(f&gt.SkipSelf)){let I=this.records.get(l);if(void 0===I){const P=function Dx(a){return"function"==typeof a||"object"==typeof a&&a instanceof Nn}(l)&&Zn(l);I=P&&this.injectableDefInScope(P)?ji(Gm(l),fo):null,this.records.set(l,I)}if(null!=I)return this.hydrate(l,I)}return(f&gt.Self?Dc():this.parent).get(l,d=f&gt.Optional&&d===gi?null:d)}catch(w){if("NullInjectorError"===w.name){if((w[An]=w[An]||[]).unshift(Ae(l)),m)throw w;return function Ir(a,l,d,f){const m=a[An];throw l[cn]&&m.unshift(l[cn]),a.message=function te(a,l,d,f=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Li?a.slice(2):a;let m=Ae(l);if(Array.isArray(l))m=l.map(Ae).join(" -> ");else if("object"==typeof l){let y=[];for(let w in l)if(l.hasOwnProperty(w)){let I=l[w];y.push(w+":"+("string"==typeof I?JSON.stringify(I):Ae(I)))}m=`{${y.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${a.replace(di,"\n  ")}`}("\n"+a.message,m,d,f),a[Sr]=m,a[An]=null,a}(w,l,"R3InjectorError",this.source)}throw w}finally{mi(y),gn(m)}}resolveInjectorInitializers(){const l=gn(this),d=mi(void 0);try{const f=this.get(Cx.multi,oe,gt.Self);for(const m of f)m()}finally{gn(l),mi(d)}}toString(){const l=[],d=this.records;for(const f of d.keys())l.push(Ae(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(l){let d=Ba(l=de(l))?l:de(l&&l.provide);const f=function _s(a){return Y_(a)?ji(void 0,a.useValue):ji(J_(a),fo)}(l);if(Ba(l)||!0!==l.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=ji(void 0,fo,!0),m.factory=()=>wi(m.multi),this.records.set(d,m)),d=l,m.multi.push(l)}this.records.set(d,f)}hydrate(l,d){return d.value===fo&&(d.value=Ph,d.value=d.factory()),"object"==typeof d.value&&d.value&&function ey(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=de(l.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function Gm(a){const l=Zn(a),d=null!==l?l.factory:ao(a);if(null!==d)return d;if(a instanceof Nn)throw new Me(204,!1);if(a instanceof Function)return function vr(a){const l=a.length;if(l>0)throw pc(l,"?"),new Me(204,!1);const d=function ki(a){return a&&(a[Fi]||a[xr])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new Me(204,!1)}function J_(a,l,d){let f;if(Ba(a)){const m=de(a);return ao(m)||Gm(m)}if(Y_(a))f=()=>de(a.useValue);else if(function Tx(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...wi(a.deps||[]));else if(function op(a){return!(!a||!a.useExisting)}(a))f=()=>lt(de(a.useExisting));else{const m=de(a&&(a.useClass||a.provide));if(!function As(a){return!!a.deps}(a))return ao(m)||Gm(m);f=()=>new m(...wi(a.deps))}return f}function ji(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function Fb(a,l){for(const d of a)Array.isArray(d)?Fb(d,l):d&&ze(d)?Fb(d.\u0275providers,l):l(d)}class pu{}class mu{}class Ax{resolveComponentFactory(l){throw function zr(a){const l=Error(`No component factory found for ${Ae(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Rh=(()=>{class a{}return a.NULL=new Ax,a})();function Mx(){return ap(Ci(),Te())}function ap(a,l){return new lp(tr(a,l))}let lp=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=Mx,a})();function ty(a){return a instanceof lp?a.nativeElement:a}class En{}let qm=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function m1(){const a=Te(),d=Bi(Ci().index,a);return(Tr(d)?d:a)[dn]}(),a})(),cp=(()=>{class a{}return a.\u0275prov=Bt({token:a,providedIn:"root",factory:()=>null}),a})();class kx{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Px=new kx("15.2.9"),Va={},ny="ngOriginalError";function iy(a){return a[ny]}class ry{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l);this._console.error("ERROR",l),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&iy(l);for(;d&&iy(d);)d=iy(d);return d||null}}function Lb(a){return a.ownerDocument}function gu(a){return a instanceof Function?a():a}function Lx(a,l,d){let f=a.length;for(;;){const m=a.indexOf(l,d);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const y=l.length;if(m+y===f||a.charCodeAt(m+y)<=32)return m}d=m+1}}const vd="ng-template";function y1(a,l,d){let f=0,m=!0;for(;f<a.length;){let y=a[f++];if("string"==typeof y&&m){const w=a[f++];if(d&&"class"===y&&-1!==Lx(w.toLowerCase(),l,0))return!0}else{if(1===y){for(;f<a.length&&"string"==typeof(y=a[f++]);)if(y.toLowerCase()===l)return!0;return!1}"number"==typeof y&&(m=!1)}}return!1}function up(a){return 4===a.type&&a.value!==vd}function Vb(a,l,d){return l===(4!==a.type||d?a.value:vd)}function v1(a,l,d){let f=4;const m=a.attrs||[],y=function b1(a){for(let l=0;l<a.length;l++)if(aa(a[l]))return l;return a.length}(m);let w=!1;for(let I=0;I<l.length;I++){const P=l[I];if("number"!=typeof P){if(!w)if(4&f){if(f=2|1&f,""!==P&&!Vb(a,P,d)||""===P&&1===l.length){if(Fo(f))return!1;w=!0}}else{const O=8&f?P:l[++I];if(8&f&&null!==a.attrs){if(!y1(a.attrs,O,d)){if(Fo(f))return!1;w=!0}continue}const K=Zm(8&f?"class":P,m,up(a),d);if(-1===K){if(Fo(f))return!1;w=!0;continue}if(""!==O){let le;le=K>y?"":m[K+1].toLowerCase();const _e=8&f?le:null;if(_e&&-1!==Lx(_e,O,0)||2&f&&O!==le){if(Fo(f))return!1;w=!0}}}}else{if(!w&&!Fo(f)&&!Fo(P))return!1;if(w&&Fo(P))continue;w=!1,f=P|1&f}}return Fo(f)||w}function Fo(a){return 0==(1&a)}function Zm(a,l,d,f){if(null===l)return-1;let m=0;if(f||!d){let y=!1;for(;m<l.length;){const w=l[m];if(w===a)return m;if(3===w||6===w)y=!0;else{if(1===w||2===w){let I=l[++m];for(;"string"==typeof I;)I=l[++m];continue}if(4===w)break;if(0===w){m+=4;continue}}m+=y?1:2}return-1}return function jb(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const f=a[d];if("number"==typeof f)return-1;if(f===l)return d;d++}return-1}(l,a)}function Ub(a,l,d=!1){for(let f=0;f<l.length;f++)if(v1(a,l[f],d))return!0;return!1}function ly(a,l){e:for(let d=0;d<l.length;d++){const f=l[d];if(a.length===f.length){for(let m=0;m<a.length;m++)if(a[m]!==f[m])continue e;return!0}}return!1}function zb(a,l){return a?":not("+l.trim()+")":l}function Bx(a){let l=a[0],d=1,f=2,m="",y=!1;for(;d<a.length;){let w=a[d];if("string"==typeof w)if(2&f){const I=a[++d];m+="["+w+(I.length>0?'="'+I+'"':"")+"]"}else 8&f?m+="."+w:4&f&&(m+=" "+w);else""!==m&&!Fo(w)&&(l+=zb(y,m),m=""),f=w,y=y||!Fo(f);d++}return""!==m&&(l+=zb(y,m)),l}const Cn={};function Km(a){Vx(rn(),Te(),_r()+a,!1)}function Vx(a,l,d,f){if(!f)if(3==(3&l[un])){const y=a.preOrderCheckHooks;null!==y&&tu(l,y,d)}else{const y=a.preOrderHooks;null!==y&&Qu(l,y,0,d)}Us(d)}function I1(a,l=null,d=null,f){const m=$b(a,l,d,f);return m.resolveInjectorInitializers(),m}function $b(a,l=null,d=null,f,m=new Set){const y=[d||oe,da(a)];return f=f||("object"==typeof a?void 0:Ae(a)),new X_(y,l||Dc(),f||null,m)}let bd=(()=>{class a{static create(d,f){if(Array.isArray(d))return I1({name:""},f,d,"");{const m=d.name??"";return I1({name:m},d.parent,d.providers,m)}}}return a.THROW_IF_NOT_FOUND=gi,a.NULL=new Ot,a.\u0275prov=Bt({token:a,providedIn:"any",factory:()=>lt(xx)}),a.__NG_ELEMENT_ID__=-1,a})();function pp(a,l=gt.Default){const d=Te();return null===d?lt(a,l):Bf(Ci(),d,de(a),l)}function Zx(){throw new Error("invalid")}function Kx(a,l){const d=a.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const y=d[f+1];if(-1!==y){const w=a.data[y];Zu(d[f]),w.contentQueries(2,l[y],y)}}}function Jm(a,l,d,f,m,y,w,I,P,O,j){const K=l.blueprint.slice();return K[Wi]=m,K[un]=76|f,(null!==j||a&&1024&a[un])&&(K[un]|=1024),al(K),K[oi]=K[so]=a,K[_i]=d,K[mr]=w||a&&a[mr],K[dn]=I||a&&a[dn],K[ql]=P||a&&a[ql]||null,K[Xa]=O||a&&a[Xa]||null,K[Gi]=y,K[So]=function Bm(){return vb++}(),K[gr]=j,K[ai]=2==l.type?a[ai]:K,K}function mp(a,l,d,f,m){let y=a.data[l];if(null===y)y=function Yb(a,l,d,f,m){const y=Gu(),w=cl(),P=a.data[l]=function Qx(a,l,d,f,m,y){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,d,l,f,m);return null===a.firstChild&&(a.firstChild=P),null!==y&&(w?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P,P.prev=y)),P}(a,l,d,f,m),function Yc(){return en.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=d,y.value=f,y.attrs=m;const w=function Ca(){const a=en.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return ms(y,!0),y}function eg(a,l,d,f){if(0===d)return-1;const m=l.length;for(let y=0;y<d;y++)l.push(f),a.blueprint.push(f),a.data.push(null);return m}function Qb(a,l,d){oa(l);try{const f=a.viewQuery;null!==f&&u0(1,f,d);const m=a.template;null!==m&&Xb(a,l,m,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Kx(a,l),a.staticViewQueries&&u0(2,a.viewQuery,d);const y=a.components;null!==y&&function O1(a,l){for(let d=0;d<l.length;d++)j1(a,l[d])}(l,y)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[un]&=-5,Jc()}}function hy(a,l,d,f){const m=l[un];if(128!=(128&m)){oa(l);try{al(l),function ko(a){return en.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&Xb(a,l,d,2,f);const w=3==(3&m);if(w){const O=a.preOrderCheckHooks;null!==O&&tu(l,O,null)}else{const O=a.preOrderHooks;null!==O&&Qu(l,O,0,null),Xu(l,0)}if(function a0(a){for(let l=xc(a);null!==l;l=Zf(l)){if(!l[el])continue;const d=l[Xr];for(let f=0;f<d.length;f++){const m=d[f];512&m[un]||Vs(m[oi],1),m[un]|=512}}}(l),function UV(a){for(let l=xc(a);null!==l;l=Zf(l))for(let d=qi;d<l.length;d++){const f=l[d],m=f[mt];xs(f)&&hy(m,f,m.template,f[_i])}}(l),null!==a.contentQueries&&Kx(a,l),w){const O=a.contentCheckHooks;null!==O&&tu(l,O)}else{const O=a.contentHooks;null!==O&&Qu(l,O,1),Xu(l,1)}!function P1(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)Us(~m);else{const y=m,w=d[++f],I=d[++f];qu(w,y),I(2,l[y])}}}finally{Us(-1)}}(a,l);const I=a.components;null!==I&&function R1(a,l){for(let d=0;d<l.length;d++)U1(a,l[d])}(l,I);const P=a.viewQuery;if(null!==P&&u0(2,P,f),w){const O=a.viewCheckHooks;null!==O&&tu(l,O)}else{const O=a.viewHooks;null!==O&&Qu(l,O,2),Xu(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[un]&=-41,512&l[un]&&(l[un]&=-513,Vs(l[oi],-1))}finally{Jc()}}}function Xb(a,l,d,f,m){const y=_r(),w=2&f;try{Us(-1),w&&l.length>qn&&Vx(a,l,qn,!1),li(w?2:0,m),d(f,m)}finally{Us(y),li(w?3:1,m)}}function tg(a,l,d){if(ea(l)){const m=l.directiveEnd;for(let y=l.directiveStart;y<m;y++){const w=a.data[y];w.contentQueries&&w.contentQueries(1,d[y],y)}}}function ng(a,l,d){$u()&&(function tS(a,l,d,f){const m=d.directiveStart,y=d.directiveEnd;Zl(d)&&function B1(a,l,d){const f=tr(l,a),m=Uh(d),y=a[mr],w=po(a,Jm(a,m,null,d.onPush?32:16,f,l,y,y.createRenderer(f,d),null,null,null));a[l.index]=w}(l,d,a.data[m+d.componentOffset]),a.firstCreatePass||sh(d,l),ce(f,l);const w=d.initialInputs;for(let I=m;I<y;I++){const P=a.data[I],O=Si(l,a,I,d);ce(O,l),null!==w&&BV(0,I-m,O,P,0,w),Vr(P)&&(Bi(d.index,l)[_i]=Si(l,a,I,d))}}(a,l,d,tr(d,l)),64==(64&d.flags)&&r0(a,l,d))}function kl(a,l,d=tr){const f=l.localNames;if(null!==f){let m=l.index+1;for(let y=0;y<f.length;y+=2){const w=f[y+1],I=-1===w?d(l,a):a[w];a[m++]=I}}}function Uh(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=fy(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function fy(a,l,d,f,m,y,w,I,P,O){const j=qn+f,K=j+m,le=function Yx(a,l){const d=[];for(let f=0;f<l;f++)d.push(f<a?null:Cn);return d}(j,K),_e="function"==typeof O?O():O;return le[mt]={type:a,blueprint:le,template:d,queries:null,viewQuery:I,declTNode:l,data:le.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:P,consts:_e,incompleteFirstPass:!1}}function jh(a,l,d,f){const m=og(l);null===d?m.push(f):(m.push(d),a.firstCreatePass&&rS(a).push(f,m.length-1))}function Xx(a,l,d,f){for(let m in a)if(a.hasOwnProperty(m)){d=null===d?{}:d;const y=a[m];null===f?ig(d,l,m,y):f.hasOwnProperty(m)&&ig(d,l,f[m],y)}return d}function ig(a,l,d,f){a.hasOwnProperty(d)?a[d].push(l,f):a[d]=[l,f]}function Lo(a,l,d,f,m,y,w,I){const P=tr(l,d);let j,O=l.inputs;!I&&null!=O&&(j=O[f])?($h(a,d,j,f,m),Zl(l)&&function e0(a,l){const d=Bi(l,a);16&d[un]||(d[un]|=32)}(d,l.index)):3&l.type&&(f=function Jb(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),m=null!=w?w(m,l.value||"",f):m,y.setProperty(P,f,m))}function zh(a,l,d,f){if($u()){const m=null===f?null:{"":-1},y=function iS(a,l){const d=a.directiveRegistry;let f=null,m=null;if(d)for(let y=0;y<d.length;y++){const w=d[y];if(Ub(l,w.selectors,!1))if(f||(f=[]),Vr(w))if(null!==w.findHostDirectiveDefs){const I=[];m=m||new Map,w.findHostDirectiveDefs(w,I,m),f.unshift(...I,w),s0(a,l,I.length)}else f.unshift(w),s0(a,l,0);else m=m||new Map,w.findHostDirectiveDefs?.(w,f,m),f.push(w)}return null===f?null:[f,m]}(a,d);let w,I;null===y?w=I=null:[w,I]=y,null!==w&&eS(a,l,d,w,m,I),m&&function rg(a,l,d){if(l){const f=a.localNames=[];for(let m=0;m<l.length;m+=2){const y=d[l[m+1]];if(null==y)throw new Me(-301,!1);f.push(l[m],y)}}}(d,f,m)}d.mergedAttrs=pl(d.mergedAttrs,d.attrs)}function eS(a,l,d,f,m,y){for(let O=0;O<f.length;O++)Ta(sh(d,l),a,f[O].type);!function o0(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}(d,a.data.length,f.length);for(let O=0;O<f.length;O++){const j=f[O];j.providersResolver&&j.providersResolver(j)}let w=!1,I=!1,P=eg(a,l,f.length,null);for(let O=0;O<f.length;O++){const j=f[O];d.mergedAttrs=pl(d.mergedAttrs,j.hostAttrs),L1(a,d,l,P,j),py(P,j,m),null!==j.contentQueries&&(d.flags|=4),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(d.flags|=64);const K=j.type.prototype;!w&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(d.index),w=!0),!I&&(K.ngOnChanges||K.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(d.index),I=!0),P++}!function Jx(a,l,d){const m=l.directiveEnd,y=a.data,w=l.attrs,I=[];let P=null,O=null;for(let j=l.directiveStart;j<m;j++){const K=y[j],le=d?d.get(K):null,Fe=le?le.outputs:null;P=Xx(K.inputs,j,P,le?le.inputs:null),O=Xx(K.outputs,j,O,Fe);const at=null===P||null===w||up(l)?null:VV(P,j,w);I.push(at)}null!==P&&(P.hasOwnProperty("class")&&(l.flags|=8),P.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=I,l.inputs=P,l.outputs=O}(a,d,y)}function r0(a,l,d){const f=d.directiveStart,m=d.directiveEnd,y=d.index,w=function Rf(){return en.lFrame.currentDirectiveIndex}();try{Us(y);for(let I=f;I<m;I++){const P=a.data[I],O=l[I];xi(I),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&nS(P,O)}}finally{Us(-1),xi(w)}}function nS(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function s0(a,l,d){l.componentOffset=d,(a.components??(a.components=[])).push(l.index)}function py(a,l,d){if(d){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)d[l.exportAs[f]]=a;Vr(l)&&(d[""]=a)}}function L1(a,l,d,f,m){a.data[f]=m;const y=m.factory||(m.factory=ao(m.type)),w=new gs(y,Vr(m),pp);a.blueprint[f]=w,d[f]=w,function F1(a,l,d,f,m){const y=m.hostBindings;if(y){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const I=~l.index;(function n0(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(w)!=I&&w.push(I),w.push(d,f,y)}}(a,l,f,eg(a,d,m.hostVars,Cn),m)}function Ua(a,l,d,f,m,y){const w=tr(a,l);!function my(a,l,d,f,m,y,w){if(null==y)a.removeAttribute(l,m,d);else{const I=null==w?Ke(y):w(y,f||"",m);a.setAttribute(l,m,I,d)}}(l[dn],w,y,a.value,d,f,m)}function BV(a,l,d,f,m,y){const w=y[l];if(null!==w){const I=f.setInput;for(let P=0;P<w.length;){const O=w[P++],j=w[P++],K=w[P++];null!==I?f.setInput(d,K,O,j):d[j]=K}}}function VV(a,l,d){let f=null,m=0;for(;m<d.length;){const y=d[m];if(0!==y)if(5!==y){if("number"==typeof y)break;if(a.hasOwnProperty(y)){null===f&&(f=[]);const w=a[y];for(let I=0;I<w.length;I+=2)if(w[I]===l){f.push(y,w[I+1],d[m+1]);break}}m+=2}else m+=2;else m+=4}return f}function V1(a,l,d,f){return[a,!0,!1,l,null,0,f,d,null,null]}function U1(a,l){const d=Bi(l,a);if(xs(d)){const f=d[mt];48&d[un]?hy(f,d,f.template,d[_i]):d[ro]>0&&l0(d)}}function l0(a){for(let f=xc(a);null!==f;f=Zf(f))for(let m=qi;m<f.length;m++){const y=f[m];if(xs(y))if(512&y[un]){const w=y[mt];hy(w,y,w.template,y[_i])}else y[ro]>0&&l0(y)}const d=a[mt].components;if(null!==d)for(let f=0;f<d.length;f++){const m=Bi(d[f],a);xs(m)&&m[ro]>0&&l0(m)}}function j1(a,l){const d=Bi(l,a),f=d[mt];(function c0(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(f,d),Qb(f,d,d[_i])}function po(a,l){return a[hs]?a[Ja][Bn]=l:a[hs]=l,a[Ja]=l,l}function sg(a){for(;a;){a[un]|=32;const l=Cc(a);if(To(a)&&!l)return a;a=l}return null}function Ed(a,l,d,f=!0){const m=l[mr];m.begin&&m.begin();try{hy(a,l,a.template,d)}catch(w){throw f&&Hh(l,w),w}finally{m.end&&m.end()}}function u0(a,l,d){Zu(0),l(a,d)}function og(a){return a[Fs]||(a[Fs]=[])}function rS(a){return a.cleanup||(a.cleanup=[])}function sS(a,l,d){return(null===a||Vr(a))&&(d=function ia(a){for(;Array.isArray(a);){if("object"==typeof a[Wc])return a;a=a[Wi]}return null}(d[l.index])),d[dn]}function Hh(a,l){const d=a[Xa],f=d?d.get(ry,null):null;f&&f.handleError(l)}function $h(a,l,d,f,m){for(let y=0;y<d.length;){const w=d[y++],I=d[y++],P=l[w],O=a.data[w];null!==O.setInput?O.setInput(P,m,f,I):P[I]=m}}function gy(a,l,d){let f=d?a.styles:null,m=d?a.classes:null,y=0;if(null!==l)for(let w=0;w<l.length;w++){const I=l[w];"number"==typeof I?y=I:1==y?m=Pe(m,I):2==y&&(f=Pe(f,I+": "+l[++w]+";"))}d?a.styles=f:a.stylesWithoutHost=f,d?a.classes=m:a.classesWithoutHost=m}function Cd(a,l,d,f,m=!1){for(;null!==d;){const y=l[d.index];if(null!==y&&f.push(Ri(y)),ps(y))for(let I=qi;I<y.length;I++){const P=y[I],O=P[mt].firstChild;null!==O&&Cd(P[mt],P,O,f)}const w=d.type;if(8&w)Cd(a,l,d.child,f);else if(32&w){const I=ns(d,l);let P;for(;P=I();)f.push(P)}else if(16&w){const I=jm(l,d);if(Array.isArray(I))f.push(...I);else{const P=Cc(l[ai]);Cd(P[mt],P,I,f,!0)}}d=m?d.projectionNext:d.next}return f}class yu{get rootNodes(){const l=this._lView,d=l[mt];return Cd(d,l,d.firstChild,[])}constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_i]}set context(l){this._lView[_i]=l}get destroyed(){return 128==(128&this._lView[un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[oi];if(ps(l)){const d=l[Io],f=d?d.indexOf(this):-1;f>-1&&(F(l,f),au(d,f))}this._attachedToViewContainer=!1}H(this._lView[mt],this._lView)}onDestroy(l){jh(this._lView[mt],this._lView,null,l)}markForCheck(){sg(this._cdRefInjectingView||this._lView)}detach(){this._lView[un]&=-65}reattach(){this._lView[un]|=64}detectChanges(){Ed(this._lView[mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rx(a,l){tp(a,l,l[dn],2,null,null)}(this._lView[mt],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=l}}class H1 extends yu{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Ed(l[mt],l,l[_i],!1)}checkNoChanges(){}get context(){return null}}class oS extends Rh{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=zt(l);return new ag(d,this.ngModule)}}function aS(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}class W1{constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,f){f=Ji(f);const m=this.injector.get(l,Va,f);return m!==Va||d===Va?m:this.parentInjector.get(l,d,f)}}class ag extends mu{get inputs(){return aS(this.componentDef.inputs)}get outputs(){return aS(this.componentDef.outputs)}constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function w1(a){return a.map(Bx).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}create(l,d,f,m){let y=(m=m||this.ngModule)instanceof Ui?m:m?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const w=y?new W1(l,y):l,I=w.get(En,null);if(null===I)throw new Me(407,!1);const P=w.get(cp,null),O=I.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",K=f?function N1(a,l,d){return a.selectRootElement(l,d===W.ShadowDom)}(O,f,this.componentDef.encapsulation):j_(O,j,function $1(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(j)),le=this.componentDef.onPush?288:272,_e=fy(0,null,null,1,0,null,null,null,null,null),Fe=Jm(null,_e,null,le,null,null,I,O,P,w,null);let at,bt;oa(Fe);try{const Ut=this.componentDef;let tn,Qe=null;Ut.findHostDirectiveDefs?(tn=[],Qe=new Map,Ut.findHostDirectiveDefs(Ut,tn,Qe),tn.push(Ut)):tn=[Ut];const wn=function d0(a,l){const d=a[mt],f=qn;return a[f]=l,mp(d,f,2,"#host",null)}(Fe,K),Zi=function _y(a,l,d,f,m,y,w,I){const P=m[mt];!function gp(a,l,d,f){for(const m of a)l.mergedAttrs=pl(l.mergedAttrs,m.hostAttrs);null!==l.mergedAttrs&&(gy(l,l.mergedAttrs,!0),null!==d&&ZM(f,d,l))}(f,a,l,w);const O=y.createRenderer(l,d),j=Jm(m,Uh(d),null,d.onPush?32:16,m[a.index],a,y,O,I||null,null,null);return P.firstCreatePass&&s0(P,a,f.length-1),po(m,j),m[a.index]=j}(wn,K,Ut,tn,Fe,I,O);bt=Ql(_e,qn),K&&function q1(a,l,d,f){if(f)Oi(a,d,["ng-version",Px.full]);else{const{attrs:m,classes:y}=function E1(a){const l=[],d=[];let f=1,m=2;for(;f<a.length;){let y=a[f];if("string"==typeof y)2===m?""!==y&&l.push(y,a[++f]):8===m&&d.push(y);else{if(!Fo(m))break;m=y}f++}return{attrs:l,classes:d}}(l.selectors[0]);m&&Oi(a,d,m),y&&y.length>0&&qM(a,d,y.join(" "))}}(O,Ut,K,f),void 0!==d&&function Z1(a,l,d){const f=a.projection=[];for(let m=0;m<l.length;m++){const y=d[m];f.push(null!=y?Array.from(y):null)}}(bt,this.ngContentSelectors,d),at=function G1(a,l,d,f,m,y){const w=Ci(),I=m[mt],P=tr(w,m);eS(I,m,w,d,null,f);for(let j=0;j<d.length;j++)ce(Si(m,I,w.directiveStart+j,w),m);r0(I,m,w),P&&ce(P,m);const O=Si(m,I,w.directiveStart+w.componentOffset,w);if(a[_i]=m[_i]=O,null!==y)for(const j of y)j(O,l);return tg(I,w,a),O}(Zi,Ut,tn,Qe,Fe,[K1]),Qb(_e,Fe,null)}finally{Jc()}return new zV(this.componentType,at,ap(bt,Fe),Fe,bt)}}class zV extends pu{constructor(l,d,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=d,this.hostView=this.changeDetectorRef=new H1(m),this.componentType=l}setInput(l,d){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[l])){const y=this._rootLView;$h(y[mt],y,m,l,d),sg(Bi(this._tNode.index,y))}}get injector(){return new fc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function K1(){const a=Ci();lc(Te()[mt],a)}function h0(a){let l=function lS(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const f=[a];for(;l;){let m;if(Vr(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Me(903,!1);m=l.\u0275dir}if(m){if(d){f.push(m);const w=a;w.inputs=f0(a.inputs),w.declaredInputs=f0(a.declaredInputs),w.outputs=f0(a.outputs);const I=m.hostBindings;I&&X1(a,I);const P=m.viewQuery,O=m.contentQueries;if(P&&Q1(a,P),O&&cS(a,O),Ne(a.inputs,m.inputs),Ne(a.declaredInputs,m.declaredInputs),Ne(a.outputs,m.outputs),Vr(m)&&m.data.animation){const j=a.data;j.animation=(j.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let w=0;w<y.length;w++){const I=y[w];I&&I.ngInherit&&I(a),I===h0&&(d=!1)}}l=Object.getPrototypeOf(l)}!function Y1(a){let l=0,d=null;for(let f=a.length-1;f>=0;f--){const m=a[f];m.hostVars=l+=m.hostVars,m.hostAttrs=pl(m.hostAttrs,d=pl(d,m.hostAttrs))}}(f)}function f0(a){return a===U?{}:a===oe?[]:a}function Q1(a,l){const d=a.viewQuery;a.viewQuery=d?(f,m)=>{l(f,m),d(f,m)}:l}function cS(a,l){const d=a.contentQueries;a.contentQueries=d?(f,m,y)=>{l(f,m,y),d(f,m,y)}:l}function X1(a,l){const d=a.hostBindings;a.hostBindings=d?(f,m)=>{l(f,m),d(f,m)}:l}function cg(a){return!!wy(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function wy(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Pl(a,l,d){return a[l]=d}function $s(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function Cy(a,l,d,f){const m=Te();return $s(m,Ss(),l)&&(rn(),Ua(ei(),m,a,l,d,f)),Cy}function b0(a,l,d,f,m,y,w,I){const P=Te(),O=rn(),j=a+qn,K=O.firstCreatePass?function ik(a,l,d,f,m,y,w,I,P){const O=l.consts,j=mp(l,a,4,w||null,lo(O,I));zh(l,d,j,lo(O,P)),lc(l,j);const K=j.tView=fy(2,j,f,m,y,l.directiveRegistry,l.pipeRegistry,null,l.schemas,O);return null!==l.queries&&(l.queries.template(l,j),K.queries=l.queries.embeddedTView(j)),j}(j,O,P,l,d,f,m,y,w):O.data[j];ms(K,!1);const le=P[dn].createComment("");fu(O,P,le,K),ce(le,P),po(P,P[j]=V1(le,P,le,K)),tl(K)&&ng(O,P,K),null!=w&&kl(P,K,I)}function E0(a){return Dr(function Kc(){return en.lFrame.contextLView}(),qn+a)}function xd(a,l,d){const f=Te();return $s(f,Ss(),l)&&Lo(rn(),ei(),f,a,l,f[dn],d,!1),xd}function hg(a,l,d,f,m){const w=m?"class":"style";$h(a,d,l.inputs[w],w,f)}function fg(a,l,d,f){const m=Te(),y=rn(),w=qn+a,I=m[dn],P=y.firstCreatePass?function rk(a,l,d,f,m,y){const w=l.consts,P=mp(l,a,2,f,lo(w,m));return zh(l,d,P,lo(w,y)),null!==P.attrs&&gy(P,P.attrs,!1),null!==P.mergedAttrs&&gy(P,P.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,P),P}(w,y,m,l,d,f):y.data[w],O=m[w]=j_(I,l,function ac(){return en.lFrame.currentNamespace}()),j=tl(P);return ms(P,!0),ZM(I,O,P),32!=(32&P.flags)&&fu(y,m,O,P),0===function Jl(){return en.lFrame.elementDepthCount}()&&ce(O,m),function ec(){en.lFrame.elementDepthCount++}(),j&&(ng(y,m,P),tg(y,P,m)),null!==f&&kl(m,P),fg}function qh(){let a=Ci();cl()?nc():(a=a.parent,ms(a,!1));const l=a;!function tc(){en.lFrame.elementDepthCount--}();const d=rn();return d.firstCreatePass&&(lc(d,a),ea(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ve(a){return 0!=(8&a.flags)}(l)&&hg(d,l,Te(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Lt(a){return 0!=(16&a.flags)}(l)&&hg(d,l,Te(),l.stylesWithoutHost,!1),qh}function Sp(a,l,d,f){return fg(a,l,d,f),qh(),Sp}function vS(){return Te()}function x0(a){return!!a&&"function"==typeof a.then}function bS(a){return!!a&&"function"==typeof a.subscribe}const pg=bS;function S0(a,l,d,f){const m=Te(),y=rn(),w=Ci();return wS(y,m,m[dn],w,a,l,f),S0}function I0(a,l){const d=Ci(),f=Te(),m=rn();return wS(m,f,sS(sa(m.data),d,f),d,a,l),I0}function wS(a,l,d,f,m,y,w){const I=tl(f),O=a.firstCreatePass&&rS(a),j=l[_i],K=og(l);let le=!0;if(3&f.type||w){const at=tr(f,l),bt=w?w(at):at,Ut=K.length,tn=w?wn=>w(Ri(wn[f.index])):f.index;let Qe=null;if(!w&&I&&(Qe=function T0(a,l,d,f){const m=a.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const w=m[y];if(w===d&&m[y+1]===f){const I=l[Fs],P=m[y+2];return I.length>P?I[P]:null}"string"==typeof w&&(y+=2)}return null}(a,l,m,f.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=y,Qe.__ngLastListenerFn__=y,le=!1;else{y=CS(f,l,j,y,!1);const wn=d.listen(bt,m,y);K.push(y,wn),O&&O.push(m,tn,Ut,Ut+1)}}else y=CS(f,l,j,y,!1);const _e=f.outputs;let Fe;if(le&&null!==_e&&(Fe=_e[m])){const at=Fe.length;if(at)for(let bt=0;bt<at;bt+=2){const Zi=l[Fe[bt]][Fe[bt+1]].subscribe(y),Nr=K.length;K.push(y,Zi),O&&O.push(m,f.index,Nr,-(Nr+1))}}}function ES(a,l,d,f){try{return li(6,l,d),!1!==d(f)}catch(m){return Hh(a,m),!1}finally{li(7,l,d)}}function CS(a,l,d,f,m){return function y(w){if(w===Function)return f;sg(a.componentOffset>-1?Bi(a.index,l):l);let P=ES(l,d,f,w),O=y.__ngNextListenerFn__;for(;O;)P=ES(l,d,O,w)&&P,O=O.__ngNextListenerFn__;return m&&!1===P&&(w.preventDefault(),w.returnValue=!1),P}}function xS(a=1){return function sc(a){return(en.lFrame.contextLView=function Yu(a,l){for(;a>0;)l=l[so],a--;return l}(a,en.lFrame.contextLView))[_i]}(a)}function is(a,l){let d=null;const f=function ay(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(!(1&d))return l[d+1]}return null}(a);for(let m=0;m<l.length;m++){const y=l[m];if("*"!==y){if(null===f?Ub(a,y,!0):ly(f,y))return m}else d=m}return d}function SS(a){const l=Te()[ai][Gi];if(!l.projection){const f=l.projection=pc(a?a.length:1,null),m=f.slice();let y=l.child;for(;null!==y;){const w=a?is(y,a):0;null!==w&&(m[w]?m[w].projectionNext=y:f[w]=y,m[w]=y),y=y.next}}}function Zh(a,l=0,d){const f=Te(),m=rn(),y=mp(m,qn+a,16,null,d||null);null===y.projection&&(y.projection=l),nc(),32!=(32&y.flags)&&function ox(a,l,d){gd(l[dn],0,l,d,_t(a,d,l),z_(d.parent||l[Gi],d,l))}(m,f,y)}function vu(a,l){return a<<17|l<<2}function Kh(a){return a>>17&32767}function mg(a){return 2|a}function Yh(a){return(131068&a)>>2}function MS(a,l){return-131069&a|l<<2}function Iy(a){return 1|a}function PS(a,l,d,f,m){const y=a[d+1],w=null===l;let I=f?Kh(y):Yh(y),P=!1;for(;0!==I&&(!1===P||w);){const j=a[I+1];RS(a[I],l)&&(P=!0,a[I+1]=f?Iy(j):mg(j)),I=f?Kh(j):Yh(j)}P&&(a[d+1]=f?mg(y):Iy(y))}function RS(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ni(a,l)>=0}const rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uk(a){return a.substring(rs.key,rs.keyEnd)}function Ip(a,l){const d=rs.textEnd;return d===l?-1:(l=rs.keyEnd=function NS(a,l,d){for(;l<d&&a.charCodeAt(l)>32;)l++;return l}(a,rs.key=l,d),Tp(a,l,d))}function Tp(a,l,d){for(;l<d&&a.charCodeAt(l)<=32;)l++;return l}function Ty(a,l,d){return Ws(a,l,d,!1),Ty}function P0(a,l){return Ws(a,l,null,!0),P0}function Vo(a){!function za(a,l,d,f){const m=rn(),y=Is(2);m.firstUpdatePass&&Dp(m,null,y,f);const w=Te();if(d!==Cn&&$s(w,y,d)){const I=m.data[_r()];if(gk(I,f)&&!fk(m,y)){let P=f?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(d=Pe(P,d||"")),hg(m,I,w,d,f)}else!function YV(a,l,d,f,m,y,w,I){m===Cn&&(m=oe);let P=0,O=0,j=0<m.length?m[0]:null,K=0<y.length?y[0]:null;for(;null!==j||null!==K;){const le=P<m.length?m[P+1]:void 0,_e=O<y.length?y[O+1]:void 0;let at,Fe=null;j===K?(P+=2,O+=2,le!==_e&&(Fe=K,at=_e)):null===K||null!==j&&j<K?(P+=2,Fe=j):(O+=2,Fe=K,at=_e),null!==Fe&&Cu(a,l,d,f,Fe,at,w,I),j=P<m.length?m[P]:null,K=O<y.length?y[O]:null}}(m,I,w,w[dn],w[y+1],w[y+1]=function O0(a,l,d){if(null==d||""===d)return oe;const f=[],m=La(d);if(Array.isArray(m))for(let y=0;y<m.length;y++)a(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&a(f,y,m[y]);else"string"==typeof m&&l(f,m);return f}(a,l,d),f,y)}}(mk,wu,a,!0)}function wu(a,l){for(let d=function qV(a){return function OS(a){rs.key=0,rs.keyEnd=0,rs.value=0,rs.valueEnd=0,rs.textEnd=a.length}(a),Ip(a,Tp(a,0,rs.textEnd))}(l);d>=0;d=Ip(l,d))zs(a,uk(l),!0)}function Ws(a,l,d,f){const m=Te(),y=rn(),w=Is(2);y.firstUpdatePass&&Dp(y,a,w,f),l!==Cn&&$s(m,w,l)&&Cu(y,y.data[_r()],m,m[dn],a,m[w+1]=function QV(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Ae(La(a)))),a}(l,d),f,w)}function fk(a,l){return l>=a.expandoStartIndex}function Dp(a,l,d,f){const m=a.data;if(null===m[d+1]){const y=m[_r()],w=fk(a,d);gk(y,f)&&null===l&&!w&&(l=!1),l=function pk(a,l,d,f){const m=sa(a);let y=f?l.residualClasses:l.residualStyles;if(null===m)0===(f?l.classBindings:l.styleBindings)&&(d=Eu(d=My(null,a,l,d,f),l.attrs,f),y=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==m)if(d=My(m,a,l,d,f),null===y){let P=function Dy(a,l,d){const f=d?l.classBindings:l.styleBindings;if(0!==Yh(f))return a[Kh(f)]}(a,l,f);void 0!==P&&Array.isArray(P)&&(P=My(null,a,l,P[1],f),P=Eu(P,l.attrs,f),function Ay(a,l,d,f){a[Kh(d?l.classBindings:l.styleBindings)]=f}(a,l,f,P))}else y=function Qh(a,l,d){let f;const m=l.directiveEnd;for(let y=1+l.directiveStylingLast;y<m;y++)f=Eu(f,a[y].hostAttrs,d);return Eu(f,l.attrs,d)}(a,l,f)}return void 0!==y&&(f?l.residualClasses=y:l.residualStyles=y),d}(m,y,l,f),function lk(a,l,d,f,m,y){let w=y?l.classBindings:l.styleBindings,I=Kh(w),P=Yh(w);a[f]=d;let j,O=!1;if(Array.isArray(d)?(j=d[1],(null===j||Ni(d,j)>0)&&(O=!0)):j=d,m)if(0!==P){const le=Kh(a[I+1]);a[f+1]=vu(le,I),0!==le&&(a[le+1]=MS(a[le+1],f)),a[I+1]=function Sd(a,l){return 131071&a|l<<17}(a[I+1],f)}else a[f+1]=vu(I,0),0!==I&&(a[I+1]=MS(a[I+1],f)),I=f;else a[f+1]=vu(P,0),0===I?I=f:a[P+1]=MS(a[P+1],f),P=f;O&&(a[f+1]=mg(a[f+1])),PS(a,j,f,!0),PS(a,j,f,!1),function ck(a,l,d,f,m){const y=m?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof l&&Ni(y,l)>=0&&(d[f+1]=Iy(d[f+1]))}(l,j,a,f,y),w=vu(I,P),y?l.classBindings=w:l.styleBindings=w}(m,y,l,d,w,f)}}function My(a,l,d,f,m){let y=null;const w=d.directiveEnd;let I=d.directiveStylingLast;for(-1===I?I=d.directiveStart:I++;I<w&&(y=l[I],f=Eu(f,y.hostAttrs,m),y!==a);)I++;return null!==a&&(d.directiveStylingLast=I),f}function Eu(a,l,d){const f=d?1:2;let m=-1;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?m=w:m===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),zs(a,w,!!d||l[++y]))}return void 0===a?null:a}function mk(a,l,d){const f=String(l);""!==f&&!f.includes(" ")&&zs(a,f,d)}function Cu(a,l,d,f,m,y,w,I){if(!(3&l.type))return;const P=a.data,O=P[I+1],j=function WV(a){return 1==(1&a)}(O)?ky(P,l,d,m,Yh(O),w):void 0;N0(j)||(N0(y)||function AS(a){return 2==(2&a)}(O)&&(y=ky(P,null,d,m,I,w)),function GM(a,l,d,f,m){if(l)m?a.addClass(d,f):a.removeClass(d,f);else{let y=-1===f.indexOf("-")?void 0:ho.DashCase;null==m?a.removeStyle(d,f,y):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),y|=ho.Important),a.setStyle(d,f,m,y))}}(f,w,ra(_r(),d),m,y))}function ky(a,l,d,f,m,y){const w=null===l;let I;for(;m>0;){const P=a[m],O=Array.isArray(P),j=O?P[1]:P,K=null===j;let le=d[m+1];le===Cn&&(le=K?oe:void 0);let _e=K?ni(le,f):j===f?le:void 0;if(O&&!N0(_e)&&(_e=ni(P,f)),N0(_e)&&(I=_e,w))return I;const Fe=a[m+1];m=w?Kh(Fe):Yh(Fe)}if(null!==l){let P=y?l.residualClasses:l.residualStyles;null!=P&&(I=ni(P,f))}return I}function N0(a){return void 0!==a}function gk(a,l){return 0!=(a.flags&(l?8:16))}function _k(a,l=""){const d=Te(),f=rn(),m=a+qn,y=f.firstCreatePass?mp(f,m,1,l,null):f.data[m],w=d[m]=function Kf(a,l){return a.createText(l)}(d[dn],l);fu(f,d,w,y),ms(y,!1)}function VS(a){return Py("",a,""),VS}function Py(a,l,d){const f=Te(),m=function yp(a,l,d,f){return $s(a,Ss(),d)?l+Ke(d)+f:Cn}(f,a,l,d);return m!==Cn&&function _u(a,l,d){const f=ra(l,a);!function Vm(a,l,d){a.setValue(l,d)}(a[dn],f,d)}(f,_r(),m),Py}function zS(a,l,d){const f=Te();if($s(f,Ss(),l)){const y=rn(),w=ei();Lo(y,w,f,a,l,sS(sa(y.data),w,f),d,!0)}return zS}const Ap=void 0;var _U=["en",[["a","p"],["AM","PM"],Ap],[["AM","PM"],Ap,Ap],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ap,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ap,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ap,"{1} 'at' {0}",Ap],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gU(a){const d=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let gg={};function HS(a){const l=function yU(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=Nk(l);if(d)return d;const f=l.split("-")[0];if(d=Nk(f),d)return d;if("en"===f)return _U;throw new Me(701,!1)}function Ok(a){return HS(a)[on.PluralCase]}function Nk(a){return a in gg||(gg[a]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[a]),gg[a]}var on=(()=>((on=on||{})[on.LocaleId=0]="LocaleId",on[on.DayPeriodsFormat=1]="DayPeriodsFormat",on[on.DayPeriodsStandalone=2]="DayPeriodsStandalone",on[on.DaysFormat=3]="DaysFormat",on[on.DaysStandalone=4]="DaysStandalone",on[on.MonthsFormat=5]="MonthsFormat",on[on.MonthsStandalone=6]="MonthsStandalone",on[on.Eras=7]="Eras",on[on.FirstDayOfWeek=8]="FirstDayOfWeek",on[on.WeekendRange=9]="WeekendRange",on[on.DateFormat=10]="DateFormat",on[on.TimeFormat=11]="TimeFormat",on[on.DateTimeFormat=12]="DateTimeFormat",on[on.NumberSymbols=13]="NumberSymbols",on[on.NumberFormats=14]="NumberFormats",on[on.CurrencyCode=15]="CurrencyCode",on[on.CurrencySymbol=16]="CurrencySymbol",on[on.CurrencyName=17]="CurrencyName",on[on.Currencies=18]="Currencies",on[on.Directionality=19]="Directionality",on[on.PluralCase=20]="PluralCase",on[on.ExtraData=21]="ExtraData",on))();const _g="en-US";let Fk=_g;function YS(a,l,d,f,m){if(a=de(a),Array.isArray(a))for(let y=0;y<a.length;y++)YS(a[y],l,d,f,m);else{const y=rn(),w=Te();let I=Ba(a)?a:de(a.provide),P=J_(a);const O=Ci(),j=1048575&O.providerIndexes,K=O.directiveStart,le=O.providerIndexes>>20;if(Ba(a)||!a.multi){const _e=new gs(P,m,pp),Fe=H0(I,l,m?j:j+le,K);-1===Fe?(Ta(sh(O,w),y,I),z0(y,a,l.length),l.push(I),O.directiveStart++,O.directiveEnd++,m&&(O.providerIndexes+=1048576),d.push(_e),w.push(_e)):(d[Fe]=_e,w[Fe]=_e)}else{const _e=H0(I,l,j+le,K),Fe=H0(I,l,j,j+le),bt=Fe>=0&&d[Fe];if(m&&!bt||!m&&!(_e>=0&&d[_e])){Ta(sh(O,w),y,I);const Ut=function ej(a,l,d,f,m){const y=new gs(a,d,pp);return y.multi=[],y.index=l,y.componentProviders=0,aP(y,m,f&&!d),y}(m?JU:XU,d.length,m,f,P);!m&&bt&&(d[Fe].providerFactory=Ut),z0(y,a,l.length,0),l.push(I),O.directiveStart++,O.directiveEnd++,m&&(O.providerIndexes+=1048576),d.push(Ut),w.push(Ut)}else z0(y,a,_e>-1?_e:Fe,aP(d[m?Fe:_e],P,!m&&f));!m&&f&&bt&&d[Fe].componentProviders++}}}function z0(a,l,d,f){const m=Ba(l),y=function Q_(a){return!!a.useClass}(l);if(m||y){const P=(y?de(l.useClass):l).prototype.ngOnDestroy;if(P){const O=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const j=O.indexOf(d);-1===j?O.push(d,[f,P]):O[j+1].push(f,P)}else O.push(d,P)}}}function aP(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function H0(a,l,d,f){for(let m=d;m<f;m++)if(l[m]===a)return m;return-1}function XU(a,l,d,f){return QS(this.multi,[])}function JU(a,l,d,f){const m=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,I=Si(d,d[mt],this.providerFactory.index,f);y=I.slice(0,w),QS(m,y);for(let P=w;P<I.length;P++)y.push(I[P])}else y=[],QS(m,y);return y}function QS(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function lP(a,l=[]){return d=>{d.providersResolver=(f,m)=>function KS(a,l,d){const f=rn();if(f.firstCreatePass){const m=Vr(a);YS(d,f.data,f.blueprint,m,!0),YS(l,f.data,f.blueprint,m,!1)}}(f,m?m(a):a,l)}}class yg{}class cP{}function tj(a,l){return new uP(a,l??null)}class uP extends yg{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oS(this);const f=Ln(l);this._bootstrapComponents=gu(f.bootstrap),this._r3Injector=$b(l,d,[{provide:yg,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],Ae(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class $0 extends cP{constructor(l){super(),this.moduleType=l}create(l){return new uP(this.moduleType,l)}}class dP extends yg{constructor(l,d,f){super(),this.componentFactoryResolver=new oS(this),this.instance=null;const m=new X_([...l,{provide:yg,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],d||Dc(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function W0(a,l,d=null){return new dP(a,l,d).injector}let hP=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const f=Ix(0,d.type),m=f.length>0?W0([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,m)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Bt({token:a,providedIn:"environment",factory:()=>new a(lt(Ui))}),a})();function XS(a){a.getStandaloneInjector=l=>l.get(hP).getOrCreateStandaloneInjector(a)}function G0(a,l,d){const f=nr()+a,m=Te();return m[f]===Cn?Pl(m,f,d?l.call(d):l()):function dg(a,l){return a[l]}(m,f)}function Jh(a,l,d,f){return tI(Te(),nr(),a,l,d,f)}function tI(a,l,d,f,m,y){const w=l+d;return $s(a,w,m)?Pl(a,w+1,y?f.call(y,m):f(m)):function Td(a,l){const d=a[l];return d===Cn?void 0:d}(a,w+1)}function nI(a,l){const d=rn();let f;const m=a+qn;d.firstCreatePass?(f=function lj(a,l){if(l)for(let d=l.length-1;d>=0;d--){const f=l[d];if(a===f.name)return f}}(l,d.pipeRegistry),d.data[m]=f,f.onDestroy&&(d.destroyHooks??(d.destroyHooks=[])).push(m,f.onDestroy)):f=d.data[m];const y=f.factory||(f.factory=ao(f.type)),w=mi(pp);try{const I=ru(!1),P=y();return ru(I),function w0(a,l,d,f){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),l[d]=f}(d,Te(),m,P),P}finally{mi(w)}}function iI(a,l,d){const f=a+qn,m=Te(),y=Dr(m,f);return function xu(a,l){return a[mt].data[l].pure}(m,f)?tI(m,nr(),l,y.transform,d,y):y.transform(d)}function sI(a){return l=>{setTimeout(a,void 0,l)}}const Su=class rI extends u.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,f){let m=l,y=d||(()=>null),w=f;if(l&&"object"==typeof l){const P=l;m=P.next?.bind(P),y=P.error?.bind(P),w=P.complete?.bind(P)}this.__isAsync&&(y=sI(y),m&&(m=sI(m)),w&&(w=sI(w)));const I=super.subscribe({next:m,error:y,complete:w});return l instanceof Y.w0&&l.add(I),I}};function dj(){return this._results[Symbol.iterator]()}class oI{get changes(){return this._changes||(this._changes=new Su)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=oI.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=dj)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const f=this;f.dirty=!1;const m=function Ts(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function hh(a,l,d){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let m=a[f],y=l[f];if(d&&(m=d(m),y=d(y)),y!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wy=(()=>{class a{}return a.__NG_ELEMENT_ID__=pj,a})();const hj=Wy,fj=class extends hj{constructor(l,d,f){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(l,d){const f=this._declarationTContainer.tView,m=Jm(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,d||null);m[Jo]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Br];return null!==w&&(m[Br]=w.createEmbeddedView(f)),Qb(f,m,l),new yu(m)}};function pj(){return vg(Ci(),Te())}function vg(a,l){return 4&a.type?new fj(l,a,ap(a,l)):null}let K0=(()=>{class a{}return a.__NG_ELEMENT_ID__=mj,a})();function mj(){return PP(Ci(),Te())}const kP=K0,aI=class extends kP{constructor(l,d,f){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=f}get element(){return ap(this._hostTNode,this._hostLView)}get injector(){return new fc(this._hostTNode,this._hostLView)}get parentInjector(){const l=Vi(this._hostTNode,this._hostLView);if(ml(l)){const d=iu(l,this._hostLView),f=dc(l);return new fc(d[mt].data[f+8],d)}return new fc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=mo(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-qi}createEmbeddedView(l,d,f){let m,y;"number"==typeof f?m=f:null!=f&&(m=f.index,y=f.injector);const w=l.createEmbeddedView(d||{},y);return this.insert(w,m),w}createComponent(l,d,f,m,y){const w=l&&!function sd(a){return"function"==typeof a}(l);let I;if(w)I=d;else{const K=d||{};I=K.index,f=K.injector,m=K.projectableNodes,y=K.environmentInjector||K.ngModuleRef}const P=w?l:new ag(zt(l)),O=f||this.parentInjector;if(!y&&null==P.ngModule){const le=(w?O:this.parentInjector).get(Ui,null);le&&(y=le)}const j=P.create(O,m,void 0,y);return this.insert(j.hostView,I),j}insert(l,d){const f=l._lView,m=f[mt];if(function Hu(a){return ps(a[oi])}(f)){const j=this.indexOf(l);if(-1!==j)this.detach(j);else{const K=f[oi],le=new aI(K,K[Gi],K[oi]);le.detach(le.indexOf(l))}}const y=this._adjustIndex(d),w=this._lContainer;!function _(a,l,d,f){const m=qi+f,y=d.length;f>0&&(d[m-1][Bn]=l),f<y-qi?(l[Bn]=d[m],fh(d,qi+f,l)):(d.push(l),l[Bn]=null),l[oi]=d;const w=l[Jo];null!==w&&d!==w&&function v(a,l){const d=a[Xr];l[ai]!==l[oi][oi][ai]&&(a[el]=!0),null===d?a[Xr]=[l]:d.push(l)}(w,l);const I=l[Br];null!==I&&I.insertView(a),l[un]|=64}(m,f,w,y);const I=zm(y,w),P=f[dn],O=md(P,w[ya]);return null!==O&&function wb(a,l,d,f,m,y){f[Wi]=m,f[Gi]=l,tp(a,f,d,1,m,y)}(m,w[Gi],P,f,O,I),l.attachToViewContainerRef(),fh(lI(w),y,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=mo(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),f=F(this._lContainer,d);f&&(au(lI(this._lContainer),d),H(f[mt],f))}detach(l){const d=this._adjustIndex(l,-1),f=F(this._lContainer,d);return f&&null!=au(lI(this._lContainer),d)?new yu(f):null}_adjustIndex(l,d=0){return l??this.length+d}};function mo(a){return a[Io]}function lI(a){return a[Io]||(a[Io]=[])}function PP(a,l){let d;const f=l[a.index];if(ps(f))d=f;else{let m;if(8&a.type)m=Ri(f);else{const y=l[dn];m=y.createComment("");const w=tr(a,l);bn(y,md(y,w),m,function Xf(a,l){return a.nextSibling(l)}(y,w),!1)}l[a.index]=d=V1(f,l,m,a),po(l,d)}return new aI(d,a,l)}class cI{constructor(l){this.queryList=l,this.matches=null}clone(){return new cI(this.queryList)}setDirty(){this.queryList.setDirty()}}class Y0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const f=null!==l.contentQueries?l.contentQueries[0]:d.length,m=[];for(let y=0;y<f;y++){const w=d.getByIndex(y);m.push(this.queries[w.indexInDeclarationView].clone())}return new Y0(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==jP(l,d).matches&&this.queries[d].setDirty()}}class Q0{constructor(l,d,f=null){this.predicate=l,this.flags=d,this.read=f}}class X0{constructor(l=[]){this.queries=l}elementStart(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,y=this.getByIndex(f).embeddedTView(l,m);y&&(y.indexInDeclarationView=f,null!==d?d.push(y):d=[y])}return null!==d?new X0(d):null}template(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class uI{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new uI(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(l,d,gj(d,y)),this.matchTNodeWithReadOption(l,d,hc(d,l,y,!1,!1))}else f===Wy?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,hc(d,l,f,!1,!1))}matchTNodeWithReadOption(l,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===lp||m===K0||m===Wy&&4&d.type)this.addMatch(d.index,-2);else{const y=hc(d,l,m,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,f)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function gj(a,l){const d=a.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===l)return d[f+1];return null}function yj(a,l,d,f){return-1===d?function _j(a,l){return 11&a.type?ap(a,l):4&a.type?vg(a,l):null}(l,a):-2===d?function RP(a,l,d){return d===lp?ap(l,a):d===Wy?vg(l,a):d===K0?PP(l,a):void 0}(a,l,f):Si(a,a[mt],d,l)}function OP(a,l,d,f){const m=l[Br].queries[f];if(null===m.matches){const y=a.data,w=d.matches,I=[];for(let P=0;P<w.length;P+=2){const O=w[P];I.push(O<0?null:yj(l,y[O],w[P+1],d.metadata.read))}m.matches=I}return m.matches}function dI(a,l,d,f){const m=a.queries.getByIndex(d),y=m.matches;if(null!==y){const w=OP(a,l,m,d);for(let I=0;I<y.length;I+=2){const P=y[I];if(P>0)f.push(w[I/2]);else{const O=y[I+1],j=l[-P];for(let K=qi;K<j.length;K++){const le=j[K];le[Jo]===le[oi]&&dI(le[mt],le,O,f)}if(null!==j[Xr]){const K=j[Xr];for(let le=0;le<K.length;le++){const _e=K[le];dI(_e[mt],_e,O,f)}}}}}return f}function NP(a){const l=Te(),d=rn(),f=ul();Zu(f+1);const m=jP(d,f);if(a.dirty&&function ol(a){return 4==(4&a[un])}(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const y=m.crossesNgTemplate?dI(d,l,f,[]):OP(d,l,m,f);a.reset(y,ty),a.notifyOnChanges()}return!0}return!1}function FP(a,l,d){const f=rn();f.firstCreatePass&&(UP(f,new Q0(a,l,d),-1),2==(2&l)&&(f.staticViewQueries=!0)),VP(f,Te(),l)}function LP(a,l,d,f){const m=rn();if(m.firstCreatePass){const y=Ci();UP(m,new Q0(l,d,f),y.index),function bj(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(m,a),2==(2&d)&&(m.staticContentQueries=!0)}VP(m,Te(),d)}function BP(){return function vj(a,l){return a[Br].queries[l].queryList}(Te(),ul())}function VP(a,l,d){const f=new oI(4==(4&d));jh(a,l,f,f.destroy),null===l[Br]&&(l[Br]=new Y0),l[Br].queries.push(new cI(f))}function UP(a,l,d){null===a.queries&&(a.queries=new X0),a.queries.track(new uI(l,d))}function jP(a,l){return a.queries.getByIndex(l)}function zP(a,l){return vg(a,l)}function Gy(a){return!!Ln(a)}function ew(...a){}const tw=new Nn("Application Initializer");let Zy=(()=>{class a{constructor(d){this.appInits=d,this.resolve=ew,this.reject=ew,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(x0(y))d.push(y);else if(pg(y)){const w=new Promise((I,P)=>{y.subscribe({complete:I,error:P})});d.push(w)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(lt(tw,8))},a.\u0275prov=Bt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const kc=new Nn("AppId",{providedIn:"root",factory:function nw(){return`${CI()}${CI()}${CI()}`}});function CI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rw=new Nn("Platform Initializer"),Dd=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rj=new Nn("AnimationModuleType");let Ky=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Bt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const sw=new Nn("LocaleId",{providedIn:"root",factory:()=>hi(sw,gt.Optional|gt.SkipSelf)||function Oj(){return typeof $localize<"u"&&$localize.locale||_g}()}),Nj=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wg{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let SI=(()=>{class a{compileModuleSync(d){return new $0(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),y=gu(Ln(d).declarations).reduce((w,I)=>{const P=zt(I);return P&&w.push(new ag(P)),w},[]);return new wg(f,y)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Bt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const aw=(()=>Promise.resolve(0))();function Eg(a){typeof Zone>"u"?aw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Uo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Su(!1),this.onMicrotaskEmpty=new Su(!1),this.onStable=new Su(!1),this.onError=new Su(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function II(){let a=mn.requestAnimationFrame,l=mn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Uj(a){const l=()=>{!function Vj(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(mn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,TI(a),a.isCheckStableRunning=!0,lw(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),TI(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,y,w,I)=>{try{return cw(a),d.invokeTask(m,y,w,I)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&l(),hR(a)}},onInvoke:(d,f,m,y,w,I,P)=>{try{return cw(a),d.invoke(m,y,w,I,P)}finally{a.shouldCoalesceRunChangeDetection&&l(),hR(a)}},onHasTask:(d,f,m,y)=>{d.hasTask(m,y),f===m&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,TI(a),lw(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(d,f,m,y)=>(d.handleError(m,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new Me(909,!1)}run(l,d,f){return this._inner.run(l,d,f)}runTask(l,d,f,m){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+m,l,Bj,ew,ew);try{return y.runTask(w,d,f)}finally{y.cancelTask(w)}}runGuarded(l,d,f){return this._inner.runGuarded(l,d,f)}runOutsideAngular(l){return this._outer.run(l)}}const Bj={};function lw(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function TI(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function cw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function hR(a){a._nesting--,lw(a)}class DI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Su,this.onMicrotaskEmpty=new Su,this.onStable=new Su,this.onError=new Su}run(l,d,f){return l.apply(d,f)}runGuarded(l,d,f){return l.apply(d,f)}runOutsideAngular(l){return l()}runTask(l,d,f,m){return l.apply(d,f)}}const fR=new Nn(""),AI=new Nn("");let Ad,pR=(()=>{class a{constructor(d,f,m){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ad||(function mR(a){Ad=a}(m),m.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),Eg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eg(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,m){return[]}}return a.\u0275fac=function(d){return new(d||a)(lt(Uo),lt(MI),lt(AI))},a.\u0275prov=Bt({token:a,factory:a.\u0275fac}),a})(),MI=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Ad?.findTestabilityInTree(this,d,f)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Bt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Rc=!1;let Md=null;const kI=new Nn("AllowMultipleToken"),uw=new Nn("PlatformDestroyListeners"),dw=new Nn("appBootstrapListener");class gR{constructor(l,d){this.name=l,this.token=d}}function xg(a,l,d=[]){const f=`Platform: ${l}`,m=new Nn(f);return(y=[])=>{let w=hw();if(!w||w.injector.get(kI,!1)){const I=[...d,...y,{provide:m,useValue:!0}];a?a(I):function _R(a){if(Md&&!Md.get(kI,!1))throw new Me(400,!1);Md=a;const l=a.get(LI);(function RI(a){const l=a.get(rw,null);l&&l.forEach(d=>d())})(a)}(function FI(a=[],l){return bd.create({name:l,providers:[{provide:Nb,useValue:"platform"},{provide:uw,useValue:new Set([()=>Md=null])},...a]})}(I,f))}return function NI(a){const l=hw();if(!l)throw new Me(401,!1);return l}()}}function hw(){return Md?.get(LI)??null}let LI=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const m=function BI(a,l){let d;return d="noop"===a?new DI:("zone.js"===a?void 0:a)||new Uo(l),d}(f?.ngZone,function Sg(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),y=[{provide:Uo,useValue:m}];return m.run(()=>{const w=bd.create({providers:y,parent:this.injector,name:d.moduleType.name}),I=d.create(w),P=I.injector.get(ry,null);if(!P)throw new Me(402,!1);return m.runOutsideAngular(()=>{const O=m.onError.subscribe({next:j=>{P.handleError(j)}});I.onDestroy(()=>{Yy(this._modules,I),O.unsubscribe()})}),function VI(a,l,d){try{const f=d();return x0(f)?f.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(P,m,()=>{const O=I.injector.get(Zy);return O.runInitializers(),O.donePromise.then(()=>(function $S(a){Ge(a,"Expected localeId to be defined"),"string"==typeof a&&(Fk=a.toLowerCase().replace(/_/g,"-"))}(I.injector.get(sw,_g)||_g),this._moduleDoBootstrap(I),I))})})}bootstrapModule(d,f=[]){const m=UI({},f);return function Cg(a,l,d){const f=new $0(d);return Promise.resolve(f)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(d){const f=d.injector.get(fw);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Me(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(uw,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(lt(bd))},a.\u0275prov=Bt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function UI(a,l){return Array.isArray(l)?l.reduce(UI,a):{...a,...l}}let fw=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,f,m){this._zone=d,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new z.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new z.y(I=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),Eg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{P.unsubscribe(),O.unsubscribe()}});this.isStable=(0,me.T)(y,w.pipe((0,we.B)()))}bootstrap(d,f){const m=d instanceof mu;if(!this._injector.get(Zy).done){!m&&er(d);throw new Me(405,Rc)}let w;w=m?d:this._injector.get(Rh).resolveComponentFactory(d),this.componentTypes.push(w.componentType);const I=function PI(a){return a.isBoundToModule}(w)?void 0:this._injector.get(yg),O=w.create(bd.NULL,[],f||w.selector,I),j=O.location.nativeElement,K=O.injector.get(fR,null);return K?.registerApplication(j),O.onDestroy(()=>{this.detachView(O.hostView),Yy(this.components,O),K?.unregisterApplication(j)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;Yy(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(dw,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Yy(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Me(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(lt(Uo),lt(Ui),lt(ry))},a.\u0275prov=Bt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Yy(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}function zI(){return!1}let Wj=(()=>{class a{}return a.__NG_ELEMENT_ID__=Gj,a})();function Gj(a){return function qj(a,l,d){if(Zl(a)&&!d){const f=Bi(a.index,l);return new yu(f,f)}return 47&a.type?new yu(l[ai],l):null}(Ci(),Te(),16==(16&a))}class Jy{constructor(){}supports(l){return cg(l)}create(l){return new xR(l)}}const QI=(a,l)=>l;class xR{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||QI}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,f=this._removalsHead,m=0,y=null;for(;d||f;){const w=!f||d&&d.currentIndex<TR(f,m,y)?d:f,I=TR(w,m,y),P=w.currentIndex;if(w===f)m--,f=f._nextRemoved;else if(d=d._next,null==w.previousIndex)m++;else{y||(y=[]);const O=I-m,j=P-m;if(O!=j){for(let le=0;le<O;le++){const _e=le<y.length?y[le]:y[le]=0,Fe=_e+le;j<=Fe&&Fe<O&&(y[le]=_e+1)}y[w.previousIndex]=j-O}}I!==P&&l(w,I,P)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!cg(l))throw new Me(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,y,w,d=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let I=0;I<this.length;I++)y=l[I],w=this._trackByFn(I,y),null!==d&&Object.is(d.trackById,w)?(f&&(d=this._verifyReinsertion(d,y,w,I)),Object.is(d.item,y)||this._addIdentityChange(d,y)):(d=this._mismatch(d,y,w,I),f=!0),d=d._next}else m=0,function by(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Symbol.iterator]();let f;for(;!(f=d.next()).done;)l(f.value)}}(l,I=>{w=this._trackByFn(m,I),null!==d&&Object.is(d.trackById,w)?(f&&(d=this._verifyReinsertion(d,I,w,m)),Object.is(d.item,I)||this._addIdentityChange(d,I)):(d=this._mismatch(d,I,w,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,f,m){let y;return null===l?y=this._itTail:(y=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,y,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,y,m)):l=this._addAfter(new SR(d,f),y,m),l}_verifyReinsertion(l,d,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?l=this._reinsertAfter(y,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,y=l._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(l,d,f),this._addToMoves(l,f),l}_moveAfter(l,d,f){return this._unlink(l),this._insertAfter(l,d,f),this._addToMoves(l,f),l}_addAfter(l,d,f){return this._insertAfter(l,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,f){const m=null===d?this._itHead:d._next;return l._next=m,l._prev=d,null===m?this._itTail=l:m._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new IR),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,f=l._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IR),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class SR{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XI{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const d=l._prevDup,f=l._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class IR{constructor(){this.map=new Map}put(l){const d=l.trackById;let f=this.map.get(d);f||(f=new XI,this.map.set(d,f)),f.add(l)}get(l,d){const m=this.map.get(l);return m?m.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TR(a,l,d){const f=a.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+l+m}class JI{constructor(){}supports(l){return l instanceof Map||wy(l)}create(){return new Xj}}class Xj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||wy(l)))throw new Me(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const y=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,y)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const f=l._prev;return d._next=l,d._prev=f,l._prev=d,f&&(f._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,d);const y=m._prev,w=m._next;return y&&(y._next=w),w&&(w._prev=y),m._next=null,m._prev=null,m}const f=new Jj(l);return this._records.set(l,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(f=>d(l[f],f))}}class Jj{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new gw([new Jy])}let gw=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||mw()),deps:[[a,new Cl,new El]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new Me(901,!1)}}return a.\u0275prov=Bt({token:a,providedIn:"root",factory:mw}),a})();function _w(){return new yw([new JI])}let yw=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||_w()),deps:[[a,new Cl,new El]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(f)return f;throw new Me(901,!1)}}return a.\u0275prov=Bt({token:a,providedIn:"root",factory:_w}),a})();const tT=xg(null,"core",[]);let nT=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(lt(fw))},a.\u0275mod=ge({type:a}),a.\u0275inj=Dn({}),a})();function nz(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(jt,Le,G)=>{"use strict";G.d(Le,{Z:()=>ut});var u=G(2090),Y=G(4859),z=G(6881),me=G(1877);class we{constructor(Me,$e){this._delegate=Me,this.firebase=$e,(0,z._addComponent)(Me,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Me,$e=z._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Me);return!Xe.isInitialized()&&"EXPLICIT"===(null===(Ke=Xe.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:$e})}_removeServiceInstance(Me,$e=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance($e)}_addComponent(Me){(0,z._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,z._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Pe(){const Ct=function Ae(Ct){const Me={},$e={__esModule:!0,initializeApp:function je(ee,ye={}){const ot=z.initializeApp(ee,ye);if((0,u.r3)(Me,ot.name))return Me[ot.name];const Ht=new Ct(ot,$e);return Me[ot.name]=Ht,Ht},app:Xe,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function We(ee){const ye=ee.name,ot=ye.replace("-compat","");if(z._registerComponent(ee)&&"PUBLIC"===ee.type){const Ht=(dt=Xe())=>{if("function"!=typeof dt[ot])throw Ne.create("invalid-app-argument",{appName:ye});return dt[ot]()};void 0!==ee.serviceProps&&(0,u.ZB)(Ht,ee.serviceProps),$e[ot]=Ht,Ct.prototype[ot]=function(...dt){return this._getService.bind(this,ye).apply(this,ee.multipleInstances?dt:[])}}return"PUBLIC"===ee.type?$e[ot]:null},removeApp:function Ke(ee){delete Me[ee]},useAsService:function it(ee,ye){return"serverAuth"===ye?null:ye},modularAPIs:z}};function Xe(ee){if(!(0,u.r3)(Me,ee=ee||z._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:ee});return Me[ee]}return $e.default=$e,Object.defineProperty($e,"apps",{get:function Be(){return Object.keys(Me).map(ee=>Me[ee])}}),Xe.App=Ct,$e}(we);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function Me($e){(0,u.ZB)(Ct,$e)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ct}(),ne=new me.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=re;!function ze(Ct){(0,z.registerVersion)("@firebase/app-compat","0.2.12",Ct)}()},6881:(jt,Le,G)=>{"use strict";G.r(Le),G.d(Le,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Qr,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>ht,_addOrOverwriteComponent:()=>Pt,_apps:()=>mn,_clearComponents:()=>Sr,_components:()=>nn,_getProvider:()=>Pi,_registerComponent:()=>gi,_removeServiceInstance:()=>An,deleteApp:()=>bi,getApp:()=>Lr,getApps:()=>lt,initializeApp:()=>gn,onLog:()=>wi,registerVersion:()=>Ji,setLogLevel:()=>Ei});var u=G(5861),Y=G(4859),z=G(1877),me=G(2090);const we=(fe,ge)=>ge.some(Ye=>fe instanceof Ye);let he,Ne;const re=new WeakMap,ne=new WeakMap,de=new WeakMap,rt=new WeakMap,ze=new WeakMap;let Me={get(fe,ge,Ye){if(fe instanceof IDBTransaction){if("done"===ge)return ne.get(fe);if("objectStoreNames"===ge)return fe.objectStoreNames||de.get(fe);if("store"===ge)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return je(fe[ge])},set:(fe,ge,Ye)=>(fe[ge]=Ye,!0),has:(fe,ge)=>fe instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in fe};function Xe(fe){return"function"==typeof fe?function Ke(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...ge){return fe.apply(Be(this),ge),je(re.get(this))}:function(...ge){return je(fe.apply(Be(this),ge))}:function(ge,...Ye){const Ft=fe.call(Be(this),ge,...Ye);return de.set(Ft,ge.sort?ge.sort():[ge]),je(Ft)}}(fe):(fe instanceof IDBTransaction&&function Ct(fe){if(ne.has(fe))return;const ge=new Promise((Ye,Ft)=>{const Xt=()=>{fe.removeEventListener("complete",yn),fe.removeEventListener("error",zt),fe.removeEventListener("abort",zt)},yn=()=>{Ye(),Xt()},zt=()=>{Ft(fe.error||new DOMException("AbortError","AbortError")),Xt()};fe.addEventListener("complete",yn),fe.addEventListener("error",zt),fe.addEventListener("abort",zt)});ne.set(fe,ge)}(fe),we(fe,function Ae(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Me):fe)}function je(fe){if(fe instanceof IDBRequest)return function ut(fe){const ge=new Promise((Ye,Ft)=>{const Xt=()=>{fe.removeEventListener("success",yn),fe.removeEventListener("error",zt)},yn=()=>{Ye(je(fe.result)),Xt()},zt=()=>{Ft(fe.error),Xt()};fe.addEventListener("success",yn),fe.addEventListener("error",zt)});return ge.then(Ye=>{Ye instanceof IDBCursor&&re.set(Ye,fe)}).catch(()=>{}),ze.set(ge,fe),ge}(fe);if(rt.has(fe))return rt.get(fe);const ge=Xe(fe);return ge!==fe&&(rt.set(fe,ge),ze.set(ge,fe)),ge}const Be=fe=>ze.get(fe),ee=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],ot=new Map;function Ht(fe,ge){if(!(fe instanceof IDBDatabase)||ge in fe||"string"!=typeof ge)return;if(ot.get(ge))return ot.get(ge);const Ye=ge.replace(/FromIndex$/,""),Ft=ge!==Ye,Xt=ye.includes(Ye);if(!(Ye in(Ft?IDBIndex:IDBObjectStore).prototype)||!Xt&&!ee.includes(Ye))return;const yn=function(){var zt=(0,u.Z)(function*(On,...vn){const er=this.transaction(On,Xt?"readwrite":"readonly");let Ln=er.store;return Ft&&(Ln=Ln.index(vn.shift())),(yield Promise.all([Ln[Ye](...vn),Xt&&er.done]))[0]});return function(vn){return zt.apply(this,arguments)}}();return ot.set(ge,yn),yn}!function $e(fe){Me=fe(Me)}(fe=>({...fe,get:(ge,Ye,Ft)=>Ht(ge,Ye)||fe.get(ge,Ye,Ft),has:(ge,Ye)=>!!Ht(ge,Ye)||fe.has(ge,Ye)}));class dt{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function Et(fe){return"VERSION"===fe.getComponent()?.type}(Ye)){const Ft=Ye.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(Ye=>Ye).join(" ")}}const It="@firebase/app",Ce=new z.Yd("@firebase/app"),Jt="[DEFAULT]",si={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,nn=new Map;function ht(fe,ge){try{fe.container.addComponent(ge)}catch(Ye){Ce.debug(`Component ${ge.name} failed to register with FirebaseApp ${fe.name}`,Ye)}}function Pt(fe,ge){fe.container.addOrOverwriteComponent(ge)}function gi(fe){const ge=fe.name;if(nn.has(ge))return Ce.debug(`There were multiple attempts to register component ${ge}.`),!1;nn.set(ge,fe);for(const Ye of mn.values())ht(Ye,fe);return!0}function Pi(fe,ge){const Ye=fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),fe.container.getProvider(ge)}function An(fe,ge,Ye=Jt){Pi(fe,ge).clearInstance(Ye)}function Sr(){nn.clear()}const Li=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(ge,Ye,Ft){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}const Qr="9.22.2";function gn(fe,ge={}){let Ye=fe;"object"!=typeof ge&&(ge={name:ge});const Ft=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},ge),Xt=Ft.name;if("string"!=typeof Xt||!Xt)throw Li.create("bad-app-name",{appName:String(Xt)});if(Ye||(Ye=(0,me.aH)()),!Ye)throw Li.create("no-options");const yn=mn.get(Xt);if(yn){if((0,me.vZ)(Ye,yn.options)&&(0,me.vZ)(Ft,yn.config))return yn;throw Li.create("duplicate-app",{appName:Xt})}const zt=new Y.H0(Xt);for(const vn of nn.values())zt.addComponent(vn);const On=new cn(Ye,Ft,zt);return mn.set(Xt,On),On}function Lr(fe=Jt){const ge=mn.get(fe);if(!ge&&fe===Jt&&(0,me.aH)())return gn();if(!ge)throw Li.create("no-app",{appName:fe});return ge}function lt(){return Array.from(mn.values())}function bi(fe){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(fe){const ge=fe.name;mn.has(ge)&&(mn.delete(ge),yield Promise.all(fe.container.getProviders().map(Ye=>Ye.delete())),fe.isDeleted=!0)})).apply(this,arguments)}function Ji(fe,ge,Ye){var Ft;let Xt=null!==(Ft=si[fe])&&void 0!==Ft?Ft:fe;Ye&&(Xt+=`-${Ye}`);const yn=Xt.match(/\s|\//),zt=ge.match(/\s|\//);if(yn||zt){const On=[`Unable to register library "${Xt}" with version "${ge}":`];return yn&&On.push(`library name "${Xt}" contains illegal characters (whitespace or "/")`),yn&&zt&&On.push("and"),zt&&On.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void Ce.warn(On.join(" "))}gi(new Y.wA(`${Xt}-version`,()=>({library:Xt,version:ge}),"VERSION"))}function wi(fe,ge){if(null!==fe&&"function"!=typeof fe)throw Li.create("invalid-log-argument");(0,z.Am)(fe,ge)}function Ei(fe){(0,z.Ub)(fe)}const pr="firebase-heartbeat-database",Ir=1,te="firebase-heartbeat-store";let Q=null;function $(){return Q||(Q=function We(fe,ge,{blocked:Ye,upgrade:Ft,blocking:Xt,terminated:yn}={}){const zt=indexedDB.open(fe,ge),On=je(zt);return Ft&&zt.addEventListener("upgradeneeded",vn=>{Ft(je(zt.result),vn.oldVersion,vn.newVersion,je(zt.transaction),vn)}),Ye&&zt.addEventListener("blocked",vn=>Ye(vn.oldVersion,vn.newVersion,vn)),On.then(vn=>{yn&&vn.addEventListener("close",()=>yn()),Xt&&vn.addEventListener("versionchange",er=>Xt(er.oldVersion,er.newVersion,er))}).catch(()=>{}),On}(pr,Ir,{upgrade:(fe,ge)=>{0===ge&&fe.createObjectStore(te)}}).catch(fe=>{throw Li.create("idb-open",{originalErrorMessage:fe.message})})),Q}function U(){return(U=(0,u.Z)(function*(fe){try{return yield(yield $()).transaction(te).objectStore(te).get(vt(fe))}catch(ge){if(ge instanceof me.ZR)Ce.warn(ge.message);else{const Ye=Li.create("idb-get",{originalErrorMessage:ge?.message});Ce.warn(Ye.message)}}})).apply(this,arguments)}function oe(fe,ge){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(fe,ge){try{const Ft=(yield $()).transaction(te,"readwrite");yield Ft.objectStore(te).put(ge,vt(fe)),yield Ft.done}catch(Ye){if(Ye instanceof me.ZR)Ce.warn(Ye.message);else{const Ft=Li.create("idb-set",{originalErrorMessage:Ye?.message});Ce.warn(Ft.message)}}})).apply(this,arguments)}function vt(fe){return`${fe.name}!${fe.options.appId}`}class _n{constructor(ge){this.container=ge,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new ln(Ye),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var ge=this;return(0,u.Z)(function*(){const Ft=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xt=Yt();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==Xt&&!ge._heartbeatsCache.heartbeats.some(yn=>yn.date===Xt))return ge._heartbeatsCache.heartbeats.push({date:Xt,agent:Ft}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(yn=>{const zt=new Date(yn.date).valueOf();return Date.now()-zt<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,u.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const Ye=Yt(),{heartbeatsToSend:Ft,unsentEntries:Xt}=function Kn(fe,ge=1024){const Ye=[];let Ft=fe.slice();for(const Xt of fe){const yn=Ye.find(zt=>zt.agent===Xt.agent);if(yn){if(yn.dates.push(Xt.date),$i(Ye)>ge){yn.dates.pop();break}}else if(Ye.push({agent:Xt.agent,dates:[Xt.date]}),$i(Ye)>ge){Ye.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:Ft}}(ge._heartbeatsCache.heartbeats),yn=(0,me.L)(JSON.stringify({version:2,heartbeats:Ft}));return ge._heartbeatsCache.lastSentHeartbeatDate=Ye,Xt.length>0?(ge._heartbeatsCache.heartbeats=Xt,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),yn})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class ln{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,u.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function W(fe){return U.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var Ye=this;return(0,u.Z)(function*(){var Ft;if(yield Ye._canUseIndexedDBPromise){const yn=yield Ye.read();return oe(Ye.app,{lastSentHeartbeatDate:null!==(Ft=ge.lastSentHeartbeatDate)&&void 0!==Ft?Ft:yn.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var Ye=this;return(0,u.Z)(function*(){var Ft;if(yield Ye._canUseIndexedDBPromise){const yn=yield Ye.read();return oe(Ye.app,{lastSentHeartbeatDate:null!==(Ft=ge.lastSentHeartbeatDate)&&void 0!==Ft?Ft:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...ge.heartbeats]})}})()}}function $i(fe){return(0,me.L)(JSON.stringify({version:2,heartbeats:fe})).length}!function io(fe){gi(new Y.wA("platform-logger",ge=>new dt(ge),"PRIVATE")),gi(new Y.wA("heartbeat",ge=>new _n(ge),"PRIVATE")),Ji(It,"0.9.12",fe),Ji(It,"0.9.12","esm2017"),Ji("fire-js","")}("")},4859:(jt,Le,G)=>{"use strict";G.d(Le,{H0:()=>Ae,wA:()=>z});var u=G(5861),Y=G(2090);class z{constructor(re,ne,de){this.name=re,this.instanceFactory=ne,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const me="[DEFAULT]";class we{constructor(re,ne){this.name=re,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ne=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ne)){const de=new Y.BH;if(this.instancesDeferred.set(ne,de),this.isInitialized(ne)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:ne});rt&&de.resolve(rt)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(re){var ne;const de=this.normalizeInstanceIdentifier(re?.identifier),rt=null!==(ne=re?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(ze){if(rt)return null;throw ze}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ne(Pe){return"EAGER"===Pe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[ne,de]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(ne);try{const ze=this.getOrInitializeService({instanceIdentifier:rt});de.resolve(ze)}catch{}}}}clearInstance(re=me){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,u.Z)(function*(){const ne=Array.from(re.instances.values());yield Promise.all([...ne.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...ne.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=me){return this.instances.has(re)}getOptions(re=me){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ne={}}=re,de=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:de,options:ne});for(const[ze,ut]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(ze)&&ut.resolve(rt);return rt}onInit(re,ne){var de;const rt=this.normalizeInstanceIdentifier(ne),ze=null!==(de=this.onInitCallbacks.get(rt))&&void 0!==de?de:new Set;ze.add(re),this.onInitCallbacks.set(rt,ze);const ut=this.instances.get(rt);return ut&&re(ut,rt),()=>{ze.delete(re)}}invokeOnInitCallbacks(re,ne){const de=this.onInitCallbacks.get(ne);if(de)for(const rt of de)try{rt(re,ne)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ne={}}){let de=this.instances.get(re);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=re,Pe===me?void 0:Pe),options:ne}),this.instances.set(re,de),this.instancesOptions.set(re,ne),this.invokeOnInitCallbacks(de,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,de)}catch{}var Pe;return de||null}normalizeInstanceIdentifier(re=me){return this.component?this.component.multipleInstances?re:me:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ne=this.getProvider(re.name);if(ne.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ne.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ne=new we(re,this);return this.providers.set(re,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(jt,Le,G)=>{"use strict";G.d(Le,{Am:()=>Pe,Ub:()=>Ae,Yd:()=>Ne,in:()=>Y});const u=[];var Y=(()=>{return(re=Y||(Y={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",Y;var re})();const z={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},me=Y.INFO,we={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},he=(re,ne,...de)=>{if(ne<re.logLevel)return;const rt=(new Date).toISOString(),ze=we[ne];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[ze](`[${rt}]  ${re.name}:`,...de)};class Ne{constructor(ne){this.name=ne,this._logLevel=me,this._logHandler=he,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in Y))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?z[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...ne),this._logHandler(this,Y.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...ne),this._logHandler(this,Y.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...ne),this._logHandler(this,Y.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...ne),this._logHandler(this,Y.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...ne),this._logHandler(this,Y.ERROR,...ne)}}function Ae(re){u.forEach(ne=>{ne.setLogLevel(re)})}function Pe(re,ne){for(const de of u){let rt=null;ne&&ne.level&&(rt=z[ne.level]),de.userLogHandler=null===re?null:(ze,ut,...Ct)=>{const Me=Ct.map($e=>{if(null==$e)return null;if("string"==typeof $e)return $e;if("number"==typeof $e||"boolean"==typeof $e)return $e.toString();if($e instanceof Error)return $e.message;try{return JSON.stringify($e)}catch{return null}}).filter($e=>$e).join(" ");ut>=(rt??ze.logLevel)&&re({level:Y[ut].toLowerCase(),message:Me,args:Ct,type:ze.name})}}}},259:(jt,Le,G)=>{"use strict";G.d(Le,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=G(6881);(0,u.registerVersion)("firebase","9.22.2","app")},9260:(jt,Le,G)=>{"use strict";G.d(Le,{Z:()=>u.Z});var u=G(3942);u.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(jt,Le,G)=>{"use strict";G.r(Le);var u=G(5861),Y=G(3942),z=G(1389),me=G(2090),Ne=(G(6881),G(1877),G(4859));function Ae(){return window}const Pe=2e3;function ne(){return ne=(0,u.Z)(function*($,W,U){var oe;const{BuildInfo:Re}=Ae();(0,z.as)(W.sessionId,"AuthEvent did not contain a session ID");const vt=yield function $e($){return Ke.apply(this,arguments)}(W.sessionId),Kt={};return(0,z.at)()?Kt.ibi=Re.packageName:(0,z.au)()?Kt.apn=Re.packageName:(0,z.av)($,"operation-not-supported-in-this-environment"),Re.displayName&&(Kt.appDisplayName=Re.displayName),Kt.sessionId=vt,(0,z.aw)($,U,W.type,void 0,null!==(oe=W.eventId)&&void 0!==oe?oe:void 0,Kt)}),ne.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*($){const{BuildInfo:W}=Ae(),U={};(0,z.at)()?U.iosBundleId=W.packageName:(0,z.au)()?U.androidPackageName=W.packageName:(0,z.av)($,"operation-not-supported-in-this-environment"),yield(0,z.ax)($,U)})).apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*($,W,U){const{cordova:oe}=Ae();let Re=()=>{};try{yield new Promise((vt,Kt)=>{let Wt=null;function _n(){var ln;vt();const $i=null===(ln=oe.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof $i&&$i(),"function"==typeof U?.close&&U.close()}function Yt(){Wt||(Wt=window.setTimeout(()=>{Kt((0,z.az)($,"redirect-cancelled-by-user"))},Pe))}function Kn(){"visible"===document?.visibilityState&&Yt()}W.addPassiveListener(_n),document.addEventListener("resume",Yt,!1),(0,z.au)()&&document.addEventListener("visibilitychange",Kn,!1),Re=()=>{W.removePassiveListener(_n),document.removeEventListener("resume",Yt,!1),document.removeEventListener("visibilitychange",Kn,!1),Wt&&window.clearTimeout(Wt)}})}finally{Re()}})).apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*($){const W=function Xe($){if((0,z.as)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const W=new ArrayBuffer($.length),U=new Uint8Array(W);for(let oe=0;oe<$.length;oe++)U[oe]=$.charCodeAt(oe);return U}($),U=yield crypto.subtle.digest("SHA-256",W);return Array.from(new Uint8Array(U)).map(Re=>Re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const je=20;class Be extends z.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(W=>{this.resolveInialized=W})}addPassiveListener(W){this.passiveListeners.add(W)}removePassiveListener(W){this.passiveListeners.delete(W)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(W){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(W)),super.onEvent(W)}initialized(){var W=this;return(0,u.Z)(function*(){yield W.initPromise})()}}function ee($){return ye.apply(this,arguments)}function ye(){return(ye=(0,u.Z)(function*($){const W=yield dt()._get(Et($));return W&&(yield dt()._remove(Et($))),W})).apply(this,arguments)}function Ht(){const $=[],W="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<je;U++){const oe=Math.floor(Math.random()*W.length);$.push(W.charAt(oe))}return $.join("")}function dt(){return(0,z.aC)(z.b)}function Et($){return(0,z.aD)("authEvent",$.config.apiKey,$.name)}function Ce($){if(!$?.includes("?"))return{};const[W,...U]=$.split("?");return(0,me.zd)(U.join("?"))}const He=class Ue{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aE,this._overrideRedirectResult=z.aF}_initialize(W){var U=this;return(0,u.Z)(function*(){const oe=W._key();let Re=U.eventManagers.get(oe);return Re||(Re=new Be(W),U.eventManagers.set(oe,Re),U.attachCallbackListeners(W,Re)),Re})()}_openPopup(W){(0,z.av)(W,"operation-not-supported-in-this-environment")}_openRedirect(W,U,oe,Re){var vt=this;return(0,u.Z)(function*(){!function Me($){var W,U,oe,Re,vt,Kt,Wt,_n,Yt,Kn;const ln=Ae();(0,z.aA)("function"==typeof(null===(W=ln?.universalLinks)||void 0===W?void 0:W.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aA)(typeof(null===(U=ln?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aA)("function"==typeof(null===(vt=null===(Re=null===(oe=ln?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===vt?void 0:vt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aA)("function"==typeof(null===(_n=null===(Wt=null===(Kt=ln?.cordova)||void 0===Kt?void 0:Kt.plugins)||void 0===Wt?void 0:Wt.browsertab)||void 0===_n?void 0:_n.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aA)("function"==typeof(null===(Kn=null===(Yt=ln?.cordova)||void 0===Yt?void 0:Yt.InAppBrowser)||void 0===Kn?void 0:Kn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(W);const Kt=yield vt._initialize(W);yield Kt.initialized(),Kt.resetRedirect(),(0,z.aG)(),yield vt._originValidation(W);const Wt=function We($,W,U=null){return{type:W,eventId:U,urlResponse:null,sessionId:Ht(),postBody:null,tenantId:$.tenantId,error:(0,z.az)($,"no-auth-event")}}(W,oe,Re);yield function it($,W){return dt()._set(Et($),W)}(W,Wt);const _n=yield function re($,W,U){return ne.apply(this,arguments)}(W,Wt,U),Yt=yield function ze($){const{cordova:W}=Ae();return new Promise(U=>{W.plugins.browsertab.isAvailable(oe=>{let Re=null;oe?W.plugins.browsertab.openUrl($):Re=W.InAppBrowser.open($,(0,z.ay)()?"_blank":"_system","location=yes"),U(Re)})})}(_n);return function ut($,W,U){return Ct.apply(this,arguments)}(W,Kt,Yt)})()}_isIframeWebStorageSupported(W,U){throw new Error("Method not implemented.")}_originValidation(W){const U=W._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function de($){return rt.apply(this,arguments)}(W)),this.originValidationPromises[U]}attachCallbackListeners(W,U){const{universalLinks:oe,handleOpenURL:Re,BuildInfo:vt}=Ae(),Kt=setTimeout((0,u.Z)(function*(){yield ee(W),U.onEvent(et())}),500),Wt=function(){var Kn=(0,u.Z)(function*(ln){clearTimeout(Kt);const $i=yield ee(W);let io=null;$i&&ln?.url&&(io=function ot($,W){var U,oe;const Re=function no($){const W=Ce($),U=W.link?decodeURIComponent(W.link):void 0,oe=Ce(U).link,Re=W.deep_link_id?decodeURIComponent(W.deep_link_id):void 0;return Ce(Re).link||Re||oe||U||$}(W);if(Re.includes("/__/auth/callback")){const vt=Ce(Re),Kt=vt.firebaseError?function It($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,Wt=null===(oe=null===(U=Kt?.code)||void 0===U?void 0:U.split("auth/"))||void 0===oe?void 0:oe[1],_n=Wt?(0,z.az)(Wt):null;return _n?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:_n,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Re,postBody:null}}return null}($i,ln.url)),U.onEvent(io||et())});return function($i){return Kn.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,Wt);const _n=Re,Yt=`${vt.packageName.toLowerCase()}://`;Ae().handleOpenURL=function(){var Kn=(0,u.Z)(function*(ln){if(ln.toLowerCase().startsWith(Yt)&&Wt({url:ln}),"function"==typeof _n)try{_n(ln)}catch($i){console.error($i)}});return function(ln){return Kn.apply(this,arguments)}}()}};function et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.az)("no-auth-event")}}const Fn=1e3;function xt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function pn($=(0,me.z$)()){return!("file:"!==xt()&&"ionic:"!==xt()&&"capacitor:"!==xt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function ki(){try{const $=self.localStorage,W=z.aL();if($)return $.setItem(W,"1"),$.removeItem(W),!function ui($=(0,me.z$)()){return function Zn(){return(0,me.w1)()&&11===document?.documentMode}()||function Hi($=(0,me.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,me.hl)()}catch{return vi()&&(0,me.hl)()}return!1}function vi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fi(){return(function Bt(){return"http:"===xt()||"https:"===xt()}()||(0,me.ru)()||pn())&&!function Dn(){return(0,me.b$)()||(0,me.UG)()}()&&ki()&&!vi()}function Gn(){return pn()&&typeof document<"u"}function pi(){return(pi=(0,u.Z)(function*(){return!!Gn()&&new Promise($=>{const W=setTimeout(()=>{$(!1)},Fn);document.addEventListener("deviceready",()=>{clearTimeout(W),$(!0)})})})).apply(this,arguments)}const ri={LOCAL:"local",NONE:"none",SESSION:"session"},Cs=z.aA,mi="persistence";function si($){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*($){yield $._initializationPromise;const W=ht(),U=z.aD(mi,$.config.apiKey,$.name);W&&W.setItem(U,$._getPersistence())})).apply(this,arguments)}function ht(){var $;try{return(null===($=function gt(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Pt=z.aA;class gi{constructor(){this.browserResolver=z.aC(z.k),this.cordovaResolver=z.aC(He),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aE,this._overrideRedirectResult=z.aF}_initialize(W){var U=this;return(0,u.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(W)})()}_openPopup(W,U,oe,Re){var vt=this;return(0,u.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(W,U,oe,Re)})()}_openRedirect(W,U,oe,Re){var vt=this;return(0,u.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(W,U,oe,Re)})()}_isIframeWebStorageSupported(W,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(W,U)}_originValidation(W){return this.assertedUnderlyingResolver._originValidation(W)}get _shouldInitProactively(){return Gn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var W=this;return(0,u.Z)(function*(){if(W.underlyingResolver)return;const U=yield function xr(){return pi.apply(this,arguments)}();W.underlyingResolver=U?W.cordovaResolver:W.browserResolver})()}}function Pi($){return $.unwrap()}function Sr($){return Li($)}function Li($){const{_tokenResponse:W}=$ instanceof me.ZR?$.customData:$;if(!W)return null;if(!($ instanceof me.ZR)&&"temporaryProof"in W&&"phoneNumber"in W)return z.P.credentialFromResult($);const U=W.providerId;if(!U||U===z.p.PASSWORD)return null;let oe;switch(U){case z.p.GOOGLE:oe=z.V;break;case z.p.FACEBOOK:oe=z.U;break;case z.p.GITHUB:oe=z.W;break;case z.p.TWITTER:oe=z.Z;break;default:const{oauthIdToken:Re,oauthAccessToken:vt,oauthTokenSecret:Kt,pendingToken:Wt,nonce:_n}=W;return vt||Kt||Re||Wt?Wt?U.startsWith("saml.")?z.aO._create(U,Wt):z.L._fromParams({providerId:U,signInMethod:U,pendingToken:Wt,idToken:Re,accessToken:vt}):new z.X(U).credential({idToken:Re,accessToken:vt,rawNonce:_n}):null}return $ instanceof me.ZR?oe.credentialFromError($):oe.credentialFromResult($)}function cn($,W){return W.catch(U=>{throw U instanceof me.ZR&&function di($,W){var U;const oe=null===(U=W.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===W?.code)W.resolver=new Lr($,z.aq($,W));else if(oe){const Re=Li(W),vt=W;Re&&(vt.credential=Re,vt.tenantId=oe.tenantId||void 0,vt.email=oe.email||void 0,vt.phoneNumber=oe.phoneNumber||void 0)}}($,U),U}).then(U=>{const Re=U.user;return{operationType:U.operationType,credential:Sr(U),additionalUserInfo:z.ao(U),user:lt.getOrCreate(Re)}})}function Qr($,W){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*($,W){const U=yield W;return{verificationId:U.verificationId,confirm:oe=>cn($,U.confirm(oe))}})).apply(this,arguments)}class Lr{constructor(W,U){this.resolver=U,this.auth=function An($){return $.wrapped()}(W)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(W){return cn(Pi(this.auth),this.resolver.resolveSignIn(W))}}class lt{constructor(W){this._delegate=W,this.multiFactor=z.ar(W)}static getOrCreate(W){return lt.USER_MAP.has(W)||lt.USER_MAP.set(W,new lt(W)),lt.USER_MAP.get(W)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(W){return this._delegate.getIdTokenResult(W)}getIdToken(W){return this._delegate.getIdToken(W)}linkAndRetrieveDataWithCredential(W){return this.linkWithCredential(W)}linkWithCredential(W){var U=this;return(0,u.Z)(function*(){return cn(U.auth,z.a0(U._delegate,W))})()}linkWithPhoneNumber(W,U){var oe=this;return(0,u.Z)(function*(){return Qr(oe.auth,z.l(oe._delegate,W,U))})()}linkWithPopup(W){var U=this;return(0,u.Z)(function*(){return cn(U.auth,z.d(U._delegate,W,gi))})()}linkWithRedirect(W){var U=this;return(0,u.Z)(function*(){return yield si(z.aH(U.auth)),z.g(U._delegate,W,gi)})()}reauthenticateAndRetrieveDataWithCredential(W){return this.reauthenticateWithCredential(W)}reauthenticateWithCredential(W){var U=this;return(0,u.Z)(function*(){return cn(U.auth,z.a1(U._delegate,W))})()}reauthenticateWithPhoneNumber(W,U){return Qr(this.auth,z.r(this._delegate,W,U))}reauthenticateWithPopup(W){return cn(this.auth,z.e(this._delegate,W,gi))}reauthenticateWithRedirect(W){var U=this;return(0,u.Z)(function*(){return yield si(z.aH(U.auth)),z.h(U._delegate,W,gi)})()}sendEmailVerification(W){return z.ae(this._delegate,W)}unlink(W){var U=this;return(0,u.Z)(function*(){return yield z.an(U._delegate,W),U})()}updateEmail(W){return z.aj(this._delegate,W)}updatePassword(W){return z.ak(this._delegate,W)}updatePhoneNumber(W){return z.u(this._delegate,W)}updateProfile(W){return z.ai(this._delegate,W)}verifyBeforeUpdateEmail(W,U){return z.af(this._delegate,W,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}lt.USER_MAP=new WeakMap;const bi=z.aA;let hi=(()=>{class ${constructor(U,oe){if(this.app=U,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Re}=U.options;bi(Re,"invalid-api-key",{appName:U.name}),bi(Re,"invalid-api-key",{appName:U.name});const vt=typeof window<"u"?gi:void 0;this._delegate=oe.initialize({options:{persistence:wi(Re,U.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(z.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?lt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,oe){z.I(this._delegate,U,oe)}applyActionCode(U){return z.a5(this._delegate,U)}checkActionCode(U){return z.a6(this._delegate,U)}confirmPasswordReset(U,oe){return z.a4(this._delegate,U,oe)}createUserWithEmailAndPassword(U,oe){var Re=this;return(0,u.Z)(function*(){return cn(Re._delegate,z.a8(Re._delegate,U,oe))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return z.ad(this._delegate,U)}isSignInWithEmailLink(U){return z.ab(this._delegate,U)}getRedirectResult(){var U=this;return(0,u.Z)(function*(){bi(Fi(),U._delegate,"operation-not-supported-in-this-environment");const oe=yield z.j(U._delegate,gi);return oe?cn(U._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function Ge($,W){(0,z.aH)($)._logFramework(W)}(this._delegate,U)}onAuthStateChanged(U,oe,Re){const{next:vt,error:Kt,complete:Wt}=Ji(U,oe,Re);return this._delegate.onAuthStateChanged(vt,Kt,Wt)}onIdTokenChanged(U,oe,Re){const{next:vt,error:Kt,complete:Wt}=Ji(U,oe,Re);return this._delegate.onIdTokenChanged(vt,Kt,Wt)}sendSignInLinkToEmail(U,oe){return z.aa(this._delegate,U,oe)}sendPasswordResetEmail(U,oe){return z.a3(this._delegate,U,oe||void 0)}setPersistence(U){var oe=this;return(0,u.Z)(function*(){let Re;switch(function Jt($,W){Cs(Object.values(ri).includes(W),$,"invalid-persistence-type"),(0,me.b$)()?Cs(W!==ri.SESSION,$,"unsupported-persistence-type"):(0,me.UG)()?Cs(W===ri.NONE,$,"unsupported-persistence-type"):vi()?Cs(W===ri.NONE||W===ri.LOCAL&&(0,me.hl)(),$,"unsupported-persistence-type"):Cs(W===ri.NONE||ki(),$,"unsupported-persistence-type")}(oe._delegate,U),U){case ri.SESSION:Re=z.a;break;case ri.LOCAL:Re=(yield z.aC(z.i)._isAvailable())?z.i:z.b;break;case ri.NONE:Re=z.N;break;default:return z.av("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Re)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return cn(this._delegate,z._(this._delegate))}signInWithCredential(U){return cn(this._delegate,z.$(this._delegate,U))}signInWithCustomToken(U){return cn(this._delegate,z.a2(this._delegate,U))}signInWithEmailAndPassword(U,oe){return cn(this._delegate,z.a9(this._delegate,U,oe))}signInWithEmailLink(U,oe){return cn(this._delegate,z.ac(this._delegate,U,oe))}signInWithPhoneNumber(U,oe){return Qr(this._delegate,z.s(this._delegate,U,oe))}signInWithPopup(U){var oe=this;return(0,u.Z)(function*(){return bi(Fi(),oe._delegate,"operation-not-supported-in-this-environment"),cn(oe._delegate,z.c(oe._delegate,U,gi))})()}signInWithRedirect(U){var oe=this;return(0,u.Z)(function*(){return bi(Fi(),oe._delegate,"operation-not-supported-in-this-environment"),yield si(oe._delegate),z.f(oe._delegate,U,gi)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return z.a7(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=ri,$})();function Ji($,W,U){let oe=$;"function"!=typeof $&&({next:oe,error:W,complete:U}=$);const Re=oe;return{next:Kt=>Re(Kt&&lt.getOrCreate(Kt)),error:W,complete:U}}function wi($,W){const U=function nn($,W){const U=ht();if(!U)return[];const oe=z.aD(mi,$,W);switch(U.getItem(oe)){case ri.NONE:return[z.N];case ri.LOCAL:return[z.i,z.a];case ri.SESSION:return[z.a];default:return[]}}($,W);if(typeof self<"u"&&!U.includes(z.i)&&U.push(z.i),typeof window<"u")for(const oe of[z.b,z.a])U.includes(oe)||U.push(oe);return U.includes(z.N)||U.push(z.N),U}class Ei{constructor(){this.providerId="phone",this._delegate=new z.P(Pi(Y.Z.auth()))}static credential(W,U){return z.P.credential(W,U)}verifyPhoneNumber(W,U){return this._delegate.verifyPhoneNumber(W,U)}unwrap(){return this._delegate}}Ei.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,Ei.PROVIDER_ID=z.P.PROVIDER_ID;const pr=z.aA;class Ir{constructor(W,U,oe=Y.Z.app()){var Re;pr(null===(Re=oe.options)||void 0===Re?void 0:Re.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new z.R(W,U,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q($){$.INTERNAL.registerComponent(new Ne.wA("auth-compat",W=>{const U=W.getProvider("app-compat").getImmediate(),oe=W.getProvider("auth");return new hi(U,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.Q,FacebookAuthProvider:z.U,GithubAuthProvider:z.W,GoogleAuthProvider:z.V,OAuthProvider:z.X,SAMLAuthProvider:z.Y,PhoneAuthProvider:Ei,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:Ir,TwitterAuthProvider:z.Z,Auth:hi,AuthCredential:z.J,Error:me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.4.2")}(Y.Z)},5861:(jt,Le,G)=>{"use strict";function u(z,me,we,he,Ne,Ae,Pe){try{var re=z[Ae](Pe),ne=re.value}catch(de){return void we(de)}re.done?me(ne):Promise.resolve(ne).then(he,Ne)}function Y(z){return function(){var me=this,we=arguments;return new Promise(function(he,Ne){var Ae=z.apply(me,we);function Pe(ne){u(Ae,he,Ne,Pe,re,"next",ne)}function re(ne){u(Ae,he,Ne,Pe,re,"throw",ne)}Pe(void 0)})}}G.d(Le,{Z:()=>Y})},7582:(jt,Le,G)=>{"use strict";function me(Ce,ke){var Ue={};for(var He in Ce)Object.prototype.hasOwnProperty.call(Ce,He)&&ke.indexOf(He)<0&&(Ue[He]=Ce[He]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(He=Object.getOwnPropertySymbols(Ce);et<He.length;et++)ke.indexOf(He[et])<0&&Object.prototype.propertyIsEnumerable.call(Ce,He[et])&&(Ue[He[et]]=Ce[He[et]])}return Ue}function de(Ce,ke,Ue,He){return new(Ue||(Ue=Promise))(function(Ge,Ze){function Tt(Bt){try{xt(He.next(Bt))}catch(pn){Ze(pn)}}function Fn(Bt){try{xt(He.throw(Bt))}catch(pn){Ze(pn)}}function xt(Bt){Bt.done?Ge(Bt.value):function et(Ge){return Ge instanceof Ue?Ge:new Ue(function(Ze){Ze(Ge)})}(Bt.value).then(Tt,Fn)}xt((He=He.apply(Ce,ke||[])).next())})}function je(Ce){return this instanceof je?(this.v=Ce,this):new je(Ce)}function Be(Ce,ke,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,He=Ue.apply(Ce,ke||[]),Ge=[];return et={},Ze("next"),Ze("throw"),Ze("return"),et[Symbol.asyncIterator]=function(){return this},et;function Ze(Dn){He[Dn]&&(et[Dn]=function(Zn){return new Promise(function(Hi,ui){Ge.push([Dn,Zn,Hi,ui])>1||Tt(Dn,Zn)})})}function Tt(Dn,Zn){try{!function Fn(Dn){Dn.value instanceof je?Promise.resolve(Dn.value.v).then(xt,Bt):pn(Ge[0][2],Dn)}(He[Dn](Zn))}catch(Hi){pn(Ge[0][3],Hi)}}function xt(Dn){Tt("next",Dn)}function Bt(Dn){Tt("throw",Dn)}function pn(Dn,Zn){Dn(Zn),Ge.shift(),Ge.length&&Tt(Ge[0][0],Ge[0][1])}}function it(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ke=Ce[Symbol.asyncIterator];return ke?ke.call(Ce):(Ce=function Ct(Ce){var ke="function"==typeof Symbol&&Symbol.iterator,Ue=ke&&Ce[ke],He=0;if(Ue)return Ue.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&He>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[He++],done:!Ce}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),Ue={},He("next"),He("throw"),He("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function He(Ge){Ue[Ge]=Ce[Ge]&&function(Ze){return new Promise(function(Tt,Fn){!function et(Ge,Ze,Tt,Fn){Promise.resolve(Fn).then(function(xt){Ge({value:xt,done:Tt})},Ze)}(Tt,Fn,(Ze=Ce[Ge](Ze)).done,Ze.value)})}}}G.d(Le,{FC:()=>Be,KL:()=>it,_T:()=>me,mG:()=>de,qq:()=>je})}},jt=>{jt(jt.s=6471)}]);